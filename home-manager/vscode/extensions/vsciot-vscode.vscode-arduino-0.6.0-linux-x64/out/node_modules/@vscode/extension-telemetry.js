module.exports=function(e){var t={},n={2:0};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.e=function(t){if(0!==n[t]){var r=require("./"+({}[t]||t)+".js"),o=r.modules,i=r.ids;for(var a in o)e[a]=o[a];for(var s=0;s<i.length;s++)n[i[s]]=0}return Promise.all([])},r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){process.nextTick((function(){throw e}))},r(r.s=122)}({0:function(e,t){e.exports=require("path")},1:function(e,t){e.exports=require("util")},122:function(e,t,n){(function(t){function r(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */l=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new C(o||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function h(){}function v(){}var _={};c(_,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(P([])));g&&g!==t&&n.call(g,i)&&(_=g);var E=v.prototype=d.prototype=Object.create(_);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){var o;r(this,"_invoke",{value:function(r,i){function a(){return new t((function(o,a){!function r(o,i,a,s){var c=p(e[o],e,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==m(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}(r,i,o,a)}))}return o=o?o.then(a,a):a()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return w()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=p(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function A(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,A(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function P(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:w}}function w(){return{value:void 0,done:!0}}return h.prototype=v,r(E,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=c(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},b(T.prototype),c(T.prototype,a,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(E),c(E,s,"Generator"),c(E,i,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=P,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function p(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){p(i,r,o,a,s,"next",e)}function s(e){p(i,r,o,a,s,"throw",e)}a(void 0)}))}}function d(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function _(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function b(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S,A=Object.create,I=Object.defineProperty,O=Object.defineProperties,C=Object.getOwnPropertyDescriptor,P=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertyNames,R=Object.getOwnPropertySymbols,N=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,M=function(e,t,n){return t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},k=function(e,t){for(var n in t||(t={}))D.call(t,n)&&M(e,n,t[n]);if(R){var r,o=E(R(t));try{for(o.s();!(r=o.n()).done;){n=r.value;x.call(t,n)&&M(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},L=function(e,t){return O(e,P(t))},j=function(e,t){return function(){return t||e((t={exports:{}}).exports,t),t.exports}},U=function(e,t,n,r){if(t&&"object"==m(t)||"function"==typeof t){var o,i=E(w(t));try{var a=function(){var i=o.value;!D.call(e,i)&&i!==n&&I(e,i,{get:function(){return t[i]},enumerable:!(r=C(t,i))||r.enumerable})};for(i.s();!(o=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}}return e},H=function(e,t,n){return n=null!=e?A(N(e)):{},U(!t&&e&&e.__esModule?n:I(n,"default",{value:e,enumerable:!0}),e)},V=j((function(e,t){"use strict";var n=function(){function e(){}return e.info=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.enableDebug&&console.info(e.TAG+t,n)},e.warn=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.disableWarnings||console.warn(e.TAG+t,n)},e.enableDebug=!1,e.disableWarnings=!1,e.disableErrors=!1,e.TAG="ApplicationInsights:",e}();t.exports=n})),q=j((function(e){"use strict";var t=e&&e.__assign||function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncScopeManager=e.OpenTelemetryScopeManagerWrapper=void 0;var r=jr(),o=n(6),i=function(){function e(){}return e.prototype.active=function(){var e=this,n=r.CorrelationContextManager.getCurrentContext();return t(t({},n),{getValue:function(t){return e._activeSymbol?t===e._activeSymbol&&n:(e._activeSymbol=t,n)},setValue:function(){}})},e.prototype.with=function(t,n){var o=t.parentSpanId,i=t.name,a=e._spanToContext(t,o,i);return r.CorrelationContextManager.runWithContext(a,n)()},e.prototype.bind=function(e){return"function"==typeof e?r.CorrelationContextManager.wrapCallback(e):(e instanceof o.EventEmitter&&r.CorrelationContextManager.wrapEmitter(e),e)},e.prototype.enable=function(){return r.CorrelationContextManager.enable(),this},e.prototype.disable=function(){return r.CorrelationContextManager.disable(),this},e._spanToContext=function(e,n,o){var i=n?"|"+e.spanContext().traceId+"."+n+".":e.spanContext().traceId,a=t(t({},e.spanContext()),{traceFlags:e.spanContext().traceFlags});return r.CorrelationContextManager.spanToContextObject(a,i,o)},e}();e.OpenTelemetryScopeManagerWrapper=i,e.AsyncScopeManager=new i})),G=j((function(e,t){var n;e=t.exports=X,n="object"==("undefined"==typeof process?"undefined":m(process))&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var r=Number.MAX_SAFE_INTEGER||9007199254740991,o=e.re=[],i=e.src=[],a=0,s=a++;i[s]="0|[1-9]\\d*";var c=a++;i[c]="[0-9]+";var u=a++;i[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=a++;i[l]="("+i[s]+")\\.("+i[s]+")\\.("+i[s]+")";var p=a++;i[p]="("+i[c]+")\\.("+i[c]+")\\.("+i[c]+")";var f=a++;i[f]="(?:"+i[s]+"|"+i[u]+")";var d=a++;i[d]="(?:"+i[c]+"|"+i[u]+")";var h=a++;i[h]="(?:-("+i[f]+"(?:\\."+i[f]+")*))";var v=a++;i[v]="(?:-?("+i[d]+"(?:\\."+i[d]+")*))";var _=a++;i[_]="[0-9A-Za-z-]+";var y=a++;i[y]="(?:\\+("+i[_]+"(?:\\."+i[_]+")*))";var g=a++,E="v?"+i[l]+i[h]+"?"+i[y]+"?";i[g]="^"+E+"$";var b="[v=\\s]*"+i[p]+i[v]+"?"+i[y]+"?",T=a++;i[T]="^"+b+"$";var S=a++;i[S]="((?:<|>)?=?)";var A=a++;i[A]=i[c]+"|x|X|\\*";var I=a++;i[I]=i[s]+"|x|X|\\*";var O=a++;i[O]="[v=\\s]*("+i[I]+")(?:\\.("+i[I]+")(?:\\.("+i[I]+")(?:"+i[h]+")?"+i[y]+"?)?)?";var C=a++;i[C]="[v=\\s]*("+i[A]+")(?:\\.("+i[A]+")(?:\\.("+i[A]+")(?:"+i[v]+")?"+i[y]+"?)?)?";var P=a++;i[P]="^"+i[S]+"\\s*"+i[O]+"$";var w=a++;i[w]="^"+i[S]+"\\s*"+i[C]+"$";var R=a++;i[R]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var N=a++;i[N]="(?:~>?)";var D=a++;i[D]="(\\s*)"+i[N]+"\\s+",o[D]=new RegExp(i[D],"g");var x=a++;i[x]="^"+i[N]+i[O]+"$";var M=a++;i[M]="^"+i[N]+i[C]+"$";var k=a++;i[k]="(?:\\^)";var L=a++;i[L]="(\\s*)"+i[k]+"\\s+",o[L]=new RegExp(i[L],"g");var j=a++;i[j]="^"+i[k]+i[O]+"$";var U=a++;i[U]="^"+i[k]+i[C]+"$";var H=a++;i[H]="^"+i[S]+"\\s*("+b+")$|^$";var V=a++;i[V]="^"+i[S]+"\\s*("+E+")$|^$";var q=a++;i[q]="(\\s*)"+i[S]+"\\s*("+b+"|"+i[O]+")",o[q]=new RegExp(i[q],"g");var G=a++;i[G]="^\\s*("+i[O]+")\\s+-\\s+("+i[O]+")\\s*$";var B=a++;i[B]="^\\s*("+i[C]+")\\s+-\\s+("+i[C]+")\\s*$";var F,z=a++;for(i[z]="(<|>)?=?\\s*\\*",F=0;F<35;F++)n(F,i[F]),o[F]||(o[F]=new RegExp(i[F]));function K(e,t){if((!t||"object"!=m(t))&&(t={loose:!!t,includePrerelease:!1}),e instanceof X)return e;if("string"!=typeof e||e.length>256)return null;if(!(t.loose?o[T]:o[g]).test(e))return null;try{return new X(e,t)}catch(e){return null}}function X(e,t){if((!t||"object"!=m(t))&&(t={loose:!!t,includePrerelease:!1}),e instanceof X){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof X))return new X(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var i=e.trim().match(t.loose?o[T]:o[g]);if(!i)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<r)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}e.parse=K,e.valid=function(e,t){var n=K(e,t);return n?n.version:null},e.clean=function(e,t){var n=K(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},e.SemVer=X,X.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},X.prototype.toString=function(){return this.version},X.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof X||(e=new X(e,this.options)),this.compareMain(e)||this.comparePre(e)},X.prototype.compareMain=function(e){return e instanceof X||(e=new X(e,this.options)),Q(this.major,e.major)||Q(this.minor,e.minor)||Q(this.patch,e.patch)},X.prototype.comparePre=function(e){if(e instanceof X||(e=new X(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return Q(r,o)}while(++t)},X.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new X(e,n).inc(t,r).version}catch(e){return null}},e.diff=function(e,t){if(J(e,t))return null;var n=K(e),r=K(t),o="";if(n.prerelease.length||r.prerelease.length){o="pre";var i="prerelease"}for(var a in n)if(("major"===a||"minor"===a||"patch"===a)&&n[a]!==r[a])return o+a;return i},e.compareIdentifiers=Q;var Y=/^[0-9]+$/;function Q(e,t){var n=Y.test(e),r=Y.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function W(e,t,n){return new X(e,n).compare(new X(t,n))}function $(e,t,n){return W(e,t,n)>0}function Z(e,t,n){return W(e,t,n)<0}function J(e,t,n){return 0===W(e,t,n)}function ee(e,t,n){return 0!==W(e,t,n)}function te(e,t,n){return W(e,t,n)>=0}function ne(e,t,n){return W(e,t,n)<=0}function re(e,t,n,r){switch(t){case"===":return"object"==m(e)&&(e=e.version),"object"==m(n)&&(n=n.version),e===n;case"!==":return"object"==m(e)&&(e=e.version),"object"==m(n)&&(n=n.version),e!==n;case"":case"=":case"==":return J(e,n,r);case"!=":return ee(e,n,r);case">":return $(e,n,r);case">=":return te(e,n,r);case"<":return Z(e,n,r);case"<=":return ne(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function oe(e,t){if((!t||"object"!=m(t))&&(t={loose:!!t,includePrerelease:!1}),e instanceof oe){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof oe))return new oe(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}e.rcompareIdentifiers=function(e,t){return Q(t,e)},e.major=function(e,t){return new X(e,t).major},e.minor=function(e,t){return new X(e,t).minor},e.patch=function(e,t){return new X(e,t).patch},e.compare=W,e.compareLoose=function(e,t){return W(e,t,!0)},e.rcompare=function(e,t,n){return W(t,e,n)},e.sort=function(t,n){return t.sort((function(t,r){return e.compare(t,r,n)}))},e.rsort=function(t,n){return t.sort((function(t,r){return e.rcompare(t,r,n)}))},e.gt=$,e.lt=Z,e.eq=J,e.neq=ee,e.gte=te,e.lte=ne,e.cmp=re,e.Comparator=oe;var ie={};function ae(e,t){if((!t||"object"!=m(t))&&(t={loose:!!t,includePrerelease:!1}),e instanceof ae)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ae(e.raw,t);if(e instanceof oe)return new ae(e.value,t);if(!(this instanceof ae))return new ae(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ce(e,t,n,r,o,i,a,s,c,u,l,p,f){return((t=se(n)?"":se(r)?">="+n+".0.0":se(o)?">="+n+"."+r+".0":">="+t)+" "+(s=se(c)?"":se(u)?"<"+(+c+1)+".0.0":se(l)?"<"+c+"."+(+u+1)+".0":p?"<="+c+"."+u+"."+l+"-"+p:"<="+s)).trim()}function ue(e,t,r){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(o=0;o<e.length;o++)if(n(e[o].semver),e[o].semver!==ie&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function le(e,t,n){try{t=new ae(t,n)}catch(e){return!1}return t.test(e)}function pe(e,t,n,r){var o,i,a,s,c;switch(e=new X(e,r),t=new ae(t,r),n){case">":o=$,i=ne,a=Z,s=">",c=">=";break;case"<":o=Z,i=te,a=$,s="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(le(e,t,r))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],p=null,f=null;if(l.forEach((function(e){e.semver===ie&&(e=new oe(">=0.0.0")),p=p||e,f=f||e,o(e.semver,p.semver,r)?p=e:a(e.semver,f.semver,r)&&(f=e)})),p.operator===s||p.operator===c||(!f.operator||f.operator===s)&&i(e,f.semver))return!1;if(f.operator===c&&a(e,f.semver))return!1}return!0}oe.prototype.parse=function(e){var t=this.options.loose?o[H]:o[V],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new X(n[2],this.options.loose):this.semver=ie},oe.prototype.toString=function(){return this.value},oe.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new X(e,this.options)),re(e,this.operator,this.semver,this.options))},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Comparator is required");var n;if((!t||"object"!=m(t))&&(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new ae(e.value,t),le(this.value,n,t);if(""===e.operator)return n=new ae(this.value,t),le(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||o||i&&a||s||c},e.Range=ae,ae.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ae.prototype.toString=function(){return this.range},ae.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?o[B]:o[G];e=e.replace(r,ce),n("hyphen replace",e),e=e.replace(o[q],"$1$2$3"),n("comparator trim",e,o[q]),e=(e=(e=e.replace(o[D],"$1~")).replace(o[L],"$1^")).split(/\s+/).join(" ");var i=t?o[H]:o[V],a=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t.loose?o[U]:o[j];return e.replace(r,(function(t,r,o,i,a){var s;return n("caret",e,t,r,o,i,a),se(r)?s="":se(o)?s=">="+r+".0.0 <"+(+r+1)+".0.0":se(i)?s="0"===r?">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0":">="+r+"."+o+".0 <"+(+r+1)+".0.0":a?(n("replaceCaret pr",a),s="0"===r?"0"===o?">="+r+"."+o+"."+i+"-"+a+" <"+r+"."+o+"."+(+i+1):">="+r+"."+o+"."+i+"-"+a+" <"+r+"."+(+o+1)+".0":">="+r+"."+o+"."+i+"-"+a+" <"+(+r+1)+".0.0"):(n("no pr"),s="0"===r?"0"===o?">="+r+"."+o+"."+i+" <"+r+"."+o+"."+(+i+1):">="+r+"."+o+"."+i+" <"+r+"."+(+o+1)+".0":">="+r+"."+o+"."+i+" <"+(+r+1)+".0.0"),n("caret return",s),s}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t.loose?o[M]:o[x];return e.replace(r,(function(t,r,o,i,a){var s;return n("tilde",e,t,r,o,i,a),se(r)?s="":se(o)?s=">="+r+".0.0 <"+(+r+1)+".0.0":se(i)?s=">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0":a?(n("replaceTilde pr",a),s=">="+r+"."+o+"."+i+"-"+a+" <"+r+"."+(+o+1)+".0"):s=">="+r+"."+o+"."+i+" <"+r+"."+(+o+1)+".0",n("tilde return",s),s}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t.loose?o[w]:o[P];return e.replace(r,(function(t,r,o,i,a,s){n("xRange",e,t,r,o,i,a,s);var c=se(o),u=c||se(i),l=u||se(a);return"="===r&&l&&(r=""),c?t=">"===r||"<"===r?"<0.0.0":"*":r&&l?(u&&(i=0),a=0,">"===r?(r=">=",u?(o=+o+1,i=0,a=0):(i=+i+1,a=0)):"<="===r&&(r="<",u?o=+o+1:i=+i+1),t=r+o+"."+i+"."+a):u?t=">="+o+".0.0 <"+(+o+1)+".0.0":l&&(t=">="+o+"."+i+".0 <"+o+"."+(+i+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(o[z],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(a=a.filter((function(e){return!!e.match(i)}))),a=a.map((function(e){return new oe(e,this.options)}),this)},ae.prototype.intersects=function(e,t){if(!(e instanceof ae))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new ae(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ae.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new X(e,this.options));for(var t=0;t<this.set.length;t++)if(ue(this.set[t],e,this.options))return!0;return!1},e.satisfies=le,e.maxSatisfying=function(e,t,n){var r=null,o=null;try{var i=new ae(t,n)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(!r||-1===o.compare(e))&&(o=new X(r=e,n))})),r},e.minSatisfying=function(e,t,n){var r=null,o=null;try{var i=new ae(t,n)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(!r||1===o.compare(e))&&(o=new X(r=e,n))})),r},e.minVersion=function(e,t){e=new ae(e,t);var n=new X("0.0.0");if(e.test(n)||(n=new X("0.0.0-0"),e.test(n)))return n;n=null;for(var r=0;r<e.set.length;++r){e.set[r].forEach((function(e){var t=new X(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!n||$(n,t))&&(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}return n&&e.test(n)?n:null},e.validRange=function(e,t){try{return new ae(e,t).range||"*"}catch(e){return null}},e.ltr=function(e,t,n){return pe(e,t,"<",n)},e.gtr=function(e,t,n){return pe(e,t,">",n)},e.outside=pe,e.prerelease=function(e,t){var n=K(e,t);return n&&n.prerelease.length?n.prerelease:null},e.intersects=function(e,t,n){return e=new ae(e,n),t=new ae(t,n),e.intersects(t)},e.coerce=function(e){if(e instanceof X)return e;if("string"!=typeof e)return null;var t=e.match(o[R]);return null==t?null:K(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),B=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makePatchingRequire=void 0;var t=n(0),r=G(),o=n(91),i=Object.keys(process.binding("natives")),a=o.prototype.require;e.makePatchingRequire=function(e){var n={};return function(s){var c=a.apply(this,arguments);if(e[s]){var u=o._resolveFilename(s,this);if(n.hasOwnProperty(u))return n[u];var l=void 0;if(i.indexOf(s)<0)try{l=a.call(this,t.join(s,"package.json")).version}catch(e){return c}else l=process.version.substring(1);var p=l.indexOf("-");p>=0&&(l=l.substring(0,p));for(var f=c,d=0,h=e[s];d<h.length;d++){var v=h[d];r.satisfies(l,v.versionSpecifier)&&(f=v.patch(f,u))}return n[u]=f}return c}}})),F=j((function(e,t){t.exports={name:"diagnostic-channel",version:"1.0.0",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"tslint -c tslint.json -p tsconfig.json",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^5.3.0"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",tslint:"^5.0.0",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}})),z=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.channel=e.makePatchingRequire=void 0;var t=B(),r=B();Object.defineProperty(e,"makePatchingRequire",{enumerable:!0,get:function(){return r.makePatchingRequire}});var o=function(e){return!0},i=function(){function e(){this.version=F().version,this.subscribers={},this.contextPreservationFunction=function(e){return e},this.knownPatches={},this.currentlyPublishing=!1}return e.prototype.shouldPublish=function(e){var t=this.subscribers[e];return!!t&&t.some((function(e){var t=e.filter;return!t||t(!1)}))},e.prototype.publish=function(e,t){if(!this.currentlyPublishing){var n=this.subscribers[e];if(n){var r={timestamp:Date.now(),data:t};this.currentlyPublishing=!0,n.forEach((function(e){var t=e.listener,n=e.filter;try{n&&n(!0)&&t(r)}catch(e){}})),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(e,t,n){void 0===n&&(n=o),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push({listener:t,filter:n})},e.prototype.unsubscribe=function(e,t,n){void 0===n&&(n=o);var r=this.subscribers[e];if(r)for(var i=0;i<r.length;++i)if(r[i].listener===t&&r[i].filter===n)return r.splice(i,1),!0;return!1},e.prototype.reset=function(){var e=this;this.subscribers={},this.contextPreservationFunction=function(e){return e},Object.getOwnPropertyNames(this.knownPatches).forEach((function(t){return delete e.knownPatches[t]}))},e.prototype.bindToContext=function(e){return this.contextPreservationFunction(e)},e.prototype.addContextPreservation=function(e){var t=this.contextPreservationFunction;this.contextPreservationFunction=function(n){return e(t(n))}},e.prototype.registerMonkeyPatch=function(e,t){this.knownPatches[e]||(this.knownPatches[e]=[]),this.knownPatches[e].push(t)},e.prototype.getPatchesObject=function(){return this.knownPatches},e}();global.diagnosticsSource||(global.diagnosticsSource=new i,n(91).prototype.require=t.makePatchingRequire(global.diagnosticsSource.getPatchesObject())),e.channel=global.diagnosticsSource})),K=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),X=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._globalThis=void 0,e._globalThis="object"==("undefined"==typeof globalThis?"undefined":m(globalThis))?globalThis:global})),Y=j((function(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(X(),e)})),Q=j((function(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Y(),e)})),W=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="1.0.3"})),$=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCompatible=e._makeCompatibilityCheck=void 0;var t=W(),n=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function r(e){var t=new Set([e]),r=new Set,o=e.match(n);if(!o)return function(){return!1};var i=+o[1],a=+o[2],s=+o[3];if(null!=o[4])return function(t){return t===e};function c(e){return r.add(e),!1}function u(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var o=e.match(n);if(!o)return c(e);var l=+o[1],p=+o[2],f=+o[3];return null!=o[4]||i!==l?c(e):0===i?a===p&&s<=f?u(e):c(e):a<=p?u(e):c(e)}}e._makeCompatibilityCheck=r,e.isCompatible=r(t.VERSION)})),Z=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unregisterGlobal=e.getGlobal=e.registerGlobal=void 0;var t=Q(),n=W(),r=$(),o=n.VERSION.split(".")[0],i=Symbol.for("opentelemetry.js.api."+o),a=t._globalThis;e.registerGlobal=function(e,t,r,o){var s;void 0===o&&(o=!1);var c=a[i]=null!==(s=a[i])&&void 0!==s?s:{version:n.VERSION};if(!o&&c[e]){var u=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(u.stack||u.message),!1}if(c.version!==n.VERSION){u=new Error("@opentelemetry/api: All API registration versions must match");return r.error(u.stack||u.message),!1}return c[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+n.VERSION+"."),!0},e.getGlobal=function(e){var t,n,o=null===(t=a[i])||void 0===t?void 0:t.version;if(o&&r.isCompatible(o))return null===(n=a[i])||void 0===n?void 0:n[e]},e.unregisterGlobal=function(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+n.VERSION+".");var r=a[i];r&&delete r[e]}})),J=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagComponentLogger=void 0;var t=Z(),n=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r("verbose",this._namespace,e)},e}();function r(e,n,r){var o=t.getGlobal("diag");if(o)return r.unshift(n),o[e].apply(o,r)}e.DiagComponentLogger=n})),ee=j((function(e){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.DiagLogLevel=void 0,(t=e.DiagLogLevel||(e.DiagLogLevel={}))[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"})),te=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createLogLevelDiagLogger=void 0;var t=ee();e.createLogLevelDiagLogger=function(e,n){function r(t,r){var o=n[t];return"function"==typeof o&&e>=r?o.bind(n):function(){}}return e<t.DiagLogLevel.NONE?e=t.DiagLogLevel.NONE:e>t.DiagLogLevel.ALL&&(e=t.DiagLogLevel.ALL),n=n||{},{error:r("error",t.DiagLogLevel.ERROR),warn:r("warn",t.DiagLogLevel.WARN),info:r("info",t.DiagLogLevel.INFO),debug:r("debug",t.DiagLogLevel.DEBUG),verbose:r("verbose",t.DiagLogLevel.VERBOSE)}}})),ne=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagAPI=void 0;var t=J(),n=te(),r=ee(),o=Z(),i=function(){function e(){function e(e){return function(){var t=o.getGlobal("diag");if(t)return t[e].apply(t,arguments)}}var i=this;i.setLogger=function(e,t){var a,s;if(void 0===t&&(t=r.DiagLogLevel.INFO),e===i){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return i.error(null!==(a=c.stack)&&void 0!==a?a:c.message),!1}var u=o.getGlobal("diag"),l=n.createLogLevelDiagLogger(t,e);if(u){var p=null!==(s=(new Error).stack)&&void 0!==s?s:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+p),l.warn("Current logger will overwrite one already registered from "+p)}return o.registerGlobal("diag",l,i,!0)},i.disable=function(){o.unregisterGlobal("diag",i)},i.createComponentLogger=function(e){return new t.DiagComponentLogger(e)},i.verbose=e("verbose"),i.debug=e("debug"),i.info=e("info"),i.warn=e("warn"),i.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();e.DiagAPI=i})),re=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaggageImpl=void 0;var t=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(e){return[e[0],e[1]]}))},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=new e(this._entries),o=0,i=t;o<i.length;o++){var a=i[o];r._entries.delete(a)}return r},e.prototype.clear=function(){return new e},e}();e.BaggageImpl=t})),oe=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataSymbol=void 0,e.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")})),ie=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataFromString=e.createBaggage=void 0;var t=ne(),n=re(),r=oe(),o=t.DiagAPI.instance();e.createBaggage=function(e){return void 0===e&&(e={}),new n.BaggageImpl(new Map(Object.entries(e)))},e.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(o.error("Cannot create baggage metadata from unknown type: "+m(e)),e=""),{__TYPE__:r.baggageEntryMetadataSymbol,toString:function(){return e}}}})),ae=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),se=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ce=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagConsoleLogger=void 0;var t=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],n=function(){function e(e){return function(){var t=arguments;if(console){var n=console[e];if("function"!=typeof n&&(n=console.log),"function"==typeof n)return n.apply(console,t)}}}for(var n=0;n<t.length;n++)this[t[n].n]=e(t[n].c)};e.DiagConsoleLogger=n})),ue=j((function(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(ce(),e),n(ee(),e)})),le=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTextMapSetter=e.defaultTextMapGetter=void 0,e.defaultTextMapGetter={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},e.defaultTextMapSetter={set:function(e,t,n){null!=e&&(e[t]=n)}}})),pe=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),fe=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),de=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ROOT_CONTEXT=e.createContextKey=void 0,e.createContextKey=function(e){return Symbol.for(e)};var t=function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var o=new e(n._currentContext);return o._currentContext.set(t,r),o},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}};e.ROOT_CONTEXT=new t})),he=j((function(e){"use strict";var t=e&&e.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(e,"__esModule",{value:!0}),e.NoopContextManager=void 0;var n=de(),r=function(){function e(){}return e.prototype.active=function(){return n.ROOT_CONTEXT},e.prototype.with=function(e,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return n.call.apply(n,t([r],o))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();e.NoopContextManager=r})),ve=j((function(e){"use strict";var t=e&&e.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(e,"__esModule",{value:!0}),e.ContextAPI=void 0;var n=he(),r=Z(),o=ne(),i="context",a=new n.NoopContextManager,s=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return r.registerGlobal(i,e,o.DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,n,r){for(var o,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return(o=this._getContextManager()).with.apply(o,t([e,n,r],i))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return r.getGlobal(i)||a},e.prototype.disable=function(){this._getContextManager().disable(),r.unregisterGlobal(i,o.DiagAPI.instance())},e}();e.ContextAPI=s})),_e=j((function(e){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TraceFlags=void 0,(t=e.TraceFlags||(e.TraceFlags={}))[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"})),ye=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=void 0;var t=_e();e.INVALID_SPANID="0000000000000000",e.INVALID_TRACEID="00000000000000000000000000000000",e.INVALID_SPAN_CONTEXT={traceId:e.INVALID_TRACEID,spanId:e.INVALID_SPANID,traceFlags:t.TraceFlags.NONE}})),ge=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NonRecordingSpan=void 0;var t=ye(),n=function(){function e(e){void 0===e&&(e=t.INVALID_SPAN_CONTEXT),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}();e.NonRecordingSpan=n})),me=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSpanContext=e.setSpanContext=e.deleteSpan=e.setSpan=e.getSpan=void 0;var t=de(),n=ge(),r=t.createContextKey("OpenTelemetry Context Key SPAN");function o(e){return e.getValue(r)||void 0}function i(e,t){return e.setValue(r,t)}e.getSpan=o,e.setSpan=i,e.deleteSpan=function(e){return e.deleteValue(r)},e.setSpanContext=function(e,t){return i(e,new n.NonRecordingSpan(t))},e.getSpanContext=function(e){var t;return null===(t=o(e))||void 0===t?void 0:t.spanContext()}})),Ee=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wrapSpanContext=e.isSpanContextValid=e.isValidSpanId=e.isValidTraceId=void 0;var t=ye(),n=ge(),r=/^([0-9a-f]{32})$/i,o=/^[0-9a-f]{16}$/i;function i(e){return r.test(e)&&e!==t.INVALID_TRACEID}function a(e){return o.test(e)&&e!==t.INVALID_SPANID}e.isValidTraceId=i,e.isValidSpanId=a,e.isSpanContextValid=function(e){return i(e.traceId)&&a(e.spanId)},e.wrapSpanContext=function(e){return new n.NonRecordingSpan(e)}})),be=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracer=void 0;var t=ve(),n=me(),r=ge(),o=Ee(),i=t.ContextAPI.getInstance(),a=function(){function e(){}return e.prototype.startSpan=function(e,t,i){if(Boolean(null==t?void 0:t.root))return new r.NonRecordingSpan;var a=i&&n.getSpanContext(i);return function(e){return"object"==m(e)&&"string"==typeof e.spanId&&"string"==typeof e.traceId&&"number"==typeof e.traceFlags}(a)&&o.isSpanContextValid(a)?new r.NonRecordingSpan(a):new r.NonRecordingSpan},e.prototype.startActiveSpan=function(e,t,r,o){var a,s,c;if(!(arguments.length<2)){var u;2===arguments.length?c=t:3===arguments.length?(a=t,c=r):(a=t,s=r,c=o);var l=null!==(u=s)&&void 0!==u?u:i.active(),p=this.startSpan(e,a,l),f=n.setSpan(l,p);return i.with(f,c,void 0,p)}},e}();e.NoopTracer=a})),Te=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracer=void 0;var t=new(be().NoopTracer),n=function(){function e(e,t,n){this._provider=e,this.name=t,this.version=n}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version);return e?(this._delegate=e,this._delegate):t},e}();e.ProxyTracer=n})),Se=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracerProvider=void 0;var t=be(),n=function(){function e(){}return e.prototype.getTracer=function(e,n){return new t.NoopTracer},e}();e.NoopTracerProvider=n})),Ae=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracerProvider=void 0;var t=Te(),n=new(Se().NoopTracerProvider),r=function(){function e(){}return e.prototype.getTracer=function(e,n){var r;return null!==(r=this.getDelegateTracer(e,n))&&void 0!==r?r:new t.ProxyTracer(this,e,n)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:n},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t)},e}();e.ProxyTracerProvider=r})),Ie=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Oe=j((function(e){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SamplingDecision=void 0,(t=e.SamplingDecision||(e.SamplingDecision={}))[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})),Ce=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Pe=j((function(e){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SpanKind=void 0,(t=e.SpanKind||(e.SpanKind={}))[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"})),we=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Re=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ne=j((function(e){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SpanStatusCode=void 0,(t=e.SpanStatusCode||(e.SpanStatusCode={}))[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"})),De=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),xe=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Me=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ke=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Le=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceAPI=void 0;var t=Z(),n=Ae(),r=Ee(),o=me(),i=ne(),a="trace",s=function(){function e(){this._proxyTracerProvider=new n.ProxyTracerProvider,this.wrapSpanContext=r.wrapSpanContext,this.isSpanContextValid=r.isSpanContextValid,this.deleteSpan=o.deleteSpan,this.getSpan=o.getSpan,this.getSpanContext=o.getSpanContext,this.setSpan=o.setSpan,this.setSpanContext=o.setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var n=t.registerGlobal(a,this._proxyTracerProvider,i.DiagAPI.instance());return n&&this._proxyTracerProvider.setDelegate(e),n},e.prototype.getTracerProvider=function(){return t.getGlobal(a)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){t.unregisterGlobal(a,i.DiagAPI.instance()),this._proxyTracerProvider=new n.ProxyTracerProvider},e}();e.TraceAPI=s})),je=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTextMapPropagator=void 0;var t=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}();e.NoopTextMapPropagator=t})),Ue=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deleteBaggage=e.setBaggage=e.getBaggage=void 0;var t=de().createContextKey("OpenTelemetry Baggage Key");e.getBaggage=function(e){return e.getValue(t)||void 0},e.setBaggage=function(e,n){return e.setValue(t,n)},e.deleteBaggage=function(e){return e.deleteValue(t)}})),He=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PropagationAPI=void 0;var t=Z(),n=je(),r=le(),o=Ue(),i=ie(),a=ne(),s="propagation",c=new n.NoopTextMapPropagator,u=function(){function e(){this.createBaggage=i.createBaggage,this.getBaggage=o.getBaggage,this.setBaggage=o.setBaggage,this.deleteBaggage=o.deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return t.registerGlobal(s,e,a.DiagAPI.instance())},e.prototype.inject=function(e,t,n){return void 0===n&&(n=r.defaultTextMapSetter),this._getGlobalPropagator().inject(e,t,n)},e.prototype.extract=function(e,t,n){return void 0===n&&(n=r.defaultTextMapGetter),this._getGlobalPropagator().extract(e,t,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){t.unregisterGlobal(s,a.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return t.getGlobal(s)||c},e}();e.PropagationAPI=u})),Ve=j((function(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.diag=e.propagation=e.trace=e.context=e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=e.isValidSpanId=e.isValidTraceId=e.isSpanContextValid=e.baggageEntryMetadataFromString=void 0,n(K(),e);var r=ie();Object.defineProperty(e,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return r.baggageEntryMetadataFromString}}),n(ae(),e),n(se(),e),n(ue(),e),n(le(),e),n(pe(),e),n(fe(),e),n(Te(),e),n(Ae(),e),n(Ie(),e),n(Oe(),e),n(Ce(),e),n(Pe(),e),n(we(),e),n(Re(),e),n(Ne(),e),n(_e(),e),n(De(),e),n(xe(),e),n(Me(),e);var o=Ee();Object.defineProperty(e,"isSpanContextValid",{enumerable:!0,get:function(){return o.isSpanContextValid}}),Object.defineProperty(e,"isValidTraceId",{enumerable:!0,get:function(){return o.isValidTraceId}}),Object.defineProperty(e,"isValidSpanId",{enumerable:!0,get:function(){return o.isValidSpanId}});var i=ye();Object.defineProperty(e,"INVALID_SPANID",{enumerable:!0,get:function(){return i.INVALID_SPANID}}),Object.defineProperty(e,"INVALID_TRACEID",{enumerable:!0,get:function(){return i.INVALID_TRACEID}}),Object.defineProperty(e,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return i.INVALID_SPAN_CONTEXT}}),n(de(),e),n(ke(),e);var a=ve();e.context=a.ContextAPI.getInstance();var s=Le();e.trace=s.TraceAPI.getInstance();var c=He();e.propagation=c.PropagationAPI.getInstance();var u=ne();e.diag=u.DiagAPI.instance(),e.default={trace:e.trace,context:e.context,propagation:e.propagation,diag:e.diag}})),qe=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTracingSuppressed=e.unsuppressTracing=e.suppressTracing=void 0;var t=Ve().createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");e.suppressTracing=function(e){return e.setValue(t,!0)},e.unsuppressTracing=function(e){return e.deleteValue(t)},e.isTracingSuppressed=function(e){return!0===e.getValue(t)}})),Ge=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BAGGAGE_MAX_TOTAL_LENGTH=e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=e.BAGGAGE_MAX_NAME_VALUE_PAIRS=e.BAGGAGE_HEADER=e.BAGGAGE_ITEMS_SEPARATOR=e.BAGGAGE_PROPERTIES_SEPARATOR=e.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,e.BAGGAGE_KEY_PAIR_SEPARATOR="=",e.BAGGAGE_PROPERTIES_SEPARATOR=";",e.BAGGAGE_ITEMS_SEPARATOR=",",e.BAGGAGE_HEADER="baggage",e.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,e.BAGGAGE_MAX_TOTAL_LENGTH=8192})),Be=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseKeyPairsIntoRecord=e.parsePairKeyValue=e.getKeyPairs=e.serializeKeyPairs=void 0;var t=Ve(),n=Ge();e.serializeKeyPairs=function(e){return e.reduce((function(e,t){var r="".concat(e).concat(""!==e?n.BAGGAGE_ITEMS_SEPARATOR:"").concat(t);return r.length>n.BAGGAGE_MAX_TOTAL_LENGTH?e:r}),"")};e.getKeyPairs=function(e){return e.getAllEntries().map((function(e){var t=g(e,2),n=t[0],r=t[1];return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r.value))}))};e.parsePairKeyValue=function(e){var r=e.split(n.BAGGAGE_PROPERTIES_SEPARATOR);if(!(r.length<=0)){var o=r.shift();if(o){var i=o.split(n.BAGGAGE_KEY_PAIR_SEPARATOR);if(2===i.length){var a,s=decodeURIComponent(i[0].trim()),c=decodeURIComponent(i[1].trim());return r.length>0&&(a=t.baggageEntryMetadataFromString(r.join(n.BAGGAGE_PROPERTIES_SEPARATOR))),{key:s,value:c,metadata:a}}}}};e.parseKeyPairsIntoRecord=function(t){return"string"!=typeof t||0===t.length?{}:t.split(n.BAGGAGE_ITEMS_SEPARATOR).map((function(t){return e.parsePairKeyValue(t)})).filter((function(e){return void 0!==e&&e.value.length>0})).reduce((function(e,t){return e[t.key]=t.value,e}),{})}})),Fe=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpBaggagePropagator=void 0;var t=Ve(),n=qe(),r=Ge(),o=Be(),i=function(){function e(){h(this,e)}return _(e,[{key:"inject",value:function(e,i,a){var s=t.propagation.getBaggage(e);if(s&&!n.isTracingSuppressed(e)){var c=o.getKeyPairs(s).filter((function(e){return e.length<=r.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS})).slice(0,r.BAGGAGE_MAX_NAME_VALUE_PAIRS),u=o.serializeKeyPairs(c);u.length>0&&a.set(i,r.BAGGAGE_HEADER,u)}}},{key:"extract",value:function(e,n,i){var a=i.get(n,r.BAGGAGE_HEADER);if(!a)return e;var s={};return 0===a.length||(a.split(r.BAGGAGE_ITEMS_SEPARATOR).forEach((function(e){var t=o.parsePairKeyValue(e);if(t){var n={value:t.value};t.metadata&&(n.metadata=t.metadata),s[t.key]=n}})),0===Object.entries(s).length)?e:t.propagation.setBaggage(e,t.propagation.createBaggage(s))}},{key:"fields",value:function(){return[r.BAGGAGE_HEADER]}}]),e}();e.HttpBaggagePropagator=i})),ze=j((function(e){"use strict";function t(e){return null==e||(Array.isArray(e)?function(e){var t,r,o=E(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(null!=i){if(!t){if(n(i)){t=m(i);continue}return!1}if(m(i)!==t)return!1}}}catch(e){o.e(e)}finally{o.f()}return!0}(e):n(e))}function n(e){switch(m(e)){case"number":case"boolean":case"string":return!0}return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.isAttributeValue=e.sanitizeAttributes=void 0,e.sanitizeAttributes=function(e){var n={};if(null==e||"object"!=m(e))return n;for(var r=0,o=Object.entries(e);r<o.length;r++){var i=g(o[r],2),a=i[0],s=i[1];t(s)&&(Array.isArray(s)?n[a]=s.slice():n[a]=s)}return n},e.isAttributeValue=t})),Ke=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loggingErrorHandler=void 0;var t=Ve();e.loggingErrorHandler=function(){return function(e){t.diag.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){for(var t={},n=e;null!==n;)Object.getOwnPropertyNames(n).forEach((function(e){if(!t[e]){var r=n[e];r&&(t[e]=String(r))}})),n=Object.getPrototypeOf(n);return t}(e))}(e))}}})),Xe=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.globalErrorHandler=e.setGlobalErrorHandler=void 0;var t=Ke().loggingErrorHandler();e.setGlobalErrorHandler=function(e){t=e};e.globalErrorHandler=function(e){try{t(e)}catch(e){}}})),Ye=j((function(e){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TracesSamplerValues=void 0,(t=e.TracesSamplerValues||(e.TracesSamplerValues={})).AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"})),Qe=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseEnvironment=e.DEFAULT_ENVIRONMENT=void 0;var t=Ve(),n=Ye(),r=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT"];function o(e){return r.indexOf(e)>-1}var i=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function a(e){return i.indexOf(e)>-1}function s(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1/0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0;if(m(n[e])<"u"){var i=Number(n[e]);isNaN(i)||(t[e]=i<r?r:i>o?o:i)}}function c(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",",o=n[e];"string"==typeof o&&(t[e]=o.split(r).map((function(e){return e.trim()})))}e.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:t.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:n.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:""};var u={ALL:t.DiagLogLevel.ALL,VERBOSE:t.DiagLogLevel.VERBOSE,DEBUG:t.DiagLogLevel.DEBUG,INFO:t.DiagLogLevel.INFO,WARN:t.DiagLogLevel.WARN,ERROR:t.DiagLogLevel.ERROR,NONE:t.DiagLogLevel.NONE};function l(e,t,n){var r=n[e];if("string"==typeof r){var o=u[r.toUpperCase()];null!=o&&(t[e]=o)}}e.parseEnvironment=function(t){var n={};for(var r in e.DEFAULT_ENVIRONMENT){var i=r;switch(i){case"OTEL_LOG_LEVEL":l(i,n,t);break;default:if(o(i))s(i,n,t);else if(a(i))c(i,n,t);else{var u=t[i];m(u)<"u"&&null!==u&&(n[i]=String(u))}}}return n}})),We=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnv=void 0;var t=n(7),r=Qe();e.getEnv=function(){var e=r.parseEnvironment(process.env);return Object.assign({HOSTNAME:t.hostname()},r.DEFAULT_ENVIRONMENT,e)}})),$e=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hexToBase64=void 0,e.hexToBase64=function(e){for(var t=e.length,n="",r=0;r<t;r+=2){var o=e.substring(r,r+2),i=parseInt(o,16);n+=String.fromCharCode(i)}return Buffer.from(n,"ascii").toString("base64")}})),Ze=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomIdGenerator=void 0;var t=_((function e(){h(this,e),this.generateTraceId=r(16),this.generateSpanId=r(8)}));e.RandomIdGenerator=t;var n=Buffer.allocUnsafe(16);function r(e){return function(){for(var t=0;t<e/4;t++)n.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,4*t);for(var r=0;r<e&&!(n[r]>0);r++)r===e-1&&(n[e-1]=1);return n.toString("hex",0,e)}}})),Je=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.otperformance=void 0;var t=n(123);e.otperformance=t.performance})),et=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="0.23.0"})),tt=j((function(e){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.RpcGrpcStatusCodeValues=e.MessagingOperationValues=e.MessagingDestinationKindValues=e.HttpFlavorValues=e.NetTransportValues=e.FaasInvokedProviderValues=e.FaasDocumentOperationValues=e.FaasTriggerValues=e.DbCassandraConsistencyLevelValues=e.DbSystemValues=e.SemanticAttributes=void 0,e.SemanticAttributes={DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_METHOD:"rpc.jsonrpc.method",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message"},(t=e.DbSystemValues||(e.DbSystemValues={})).OTHER_SQL="other_sql",t.MSSQL="mssql",t.MYSQL="mysql",t.ORACLE="oracle",t.DB2="db2",t.POSTGRESQL="postgresql",t.REDSHIFT="redshift",t.HIVE="hive",t.CLOUDSCAPE="cloudscape",t.HSQLDB="hsqldb",t.PROGRESS="progress",t.MAXDB="maxdb",t.HANADB="hanadb",t.INGRES="ingres",t.FIRSTSQL="firstsql",t.EDB="edb",t.CACHE="cache",t.ADABAS="adabas",t.FIREBIRD="firebird",t.DERBY="derby",t.FILEMAKER="filemaker",t.INFORMIX="informix",t.INSTANTDB="instantdb",t.INTERBASE="interbase",t.MARIADB="mariadb",t.NETEZZA="netezza",t.PERVASIVE="pervasive",t.POINTBASE="pointbase",t.SQLITE="sqlite",t.SYBASE="sybase",t.TERADATA="teradata",t.VERTICA="vertica",t.H2="h2",t.COLDFUSION="coldfusion",t.CASSANDRA="cassandra",t.HBASE="hbase",t.MONGODB="mongodb",t.REDIS="redis",t.COUCHBASE="couchbase",t.COUCHDB="couchdb",t.COSMOSDB="cosmosdb",t.DYNAMODB="dynamodb",t.NEO4J="neo4j",t.GEODE="geode",t.ELASTICSEARCH="elasticsearch",t.MEMCACHED="memcached",t.COCKROACHDB="cockroachdb",function(e){e.ALL="all",e.EACH_QUORUM="each_quorum",e.QUORUM="quorum",e.LOCAL_QUORUM="local_quorum",e.ONE="one",e.TWO="two",e.THREE="three",e.LOCAL_ONE="local_one",e.ANY="any",e.SERIAL="serial",e.LOCAL_SERIAL="local_serial"}(e.DbCassandraConsistencyLevelValues||(e.DbCassandraConsistencyLevelValues={})),function(e){e.DATASOURCE="datasource",e.HTTP="http",e.PUBSUB="pubsub",e.TIMER="timer",e.OTHER="other"}(e.FaasTriggerValues||(e.FaasTriggerValues={})),function(e){e.INSERT="insert",e.EDIT="edit",e.DELETE="delete"}(e.FaasDocumentOperationValues||(e.FaasDocumentOperationValues={})),function(e){e.AWS="aws",e.AZURE="azure",e.GCP="gcp"}(e.FaasInvokedProviderValues||(e.FaasInvokedProviderValues={})),function(e){e.IP_TCP="ip_tcp",e.IP_UDP="ip_udp",e.IP="ip",e.UNIX="unix",e.PIPE="pipe",e.INPROC="inproc",e.OTHER="other"}(e.NetTransportValues||(e.NetTransportValues={})),function(e){e.HTTP_1_0="1.0",e.HTTP_1_1="1.1",e.HTTP_2_0="2.0",e.SPDY="SPDY",e.QUIC="QUIC"}(e.HttpFlavorValues||(e.HttpFlavorValues={})),function(e){e.QUEUE="queue",e.TOPIC="topic"}(e.MessagingDestinationKindValues||(e.MessagingDestinationKindValues={})),function(e){e.RECEIVE="receive",e.PROCESS="process"}(e.MessagingOperationValues||(e.MessagingOperationValues={})),function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(e.RpcGrpcStatusCodeValues||(e.RpcGrpcStatusCodeValues={}))})),nt=j((function(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(tt(),e)})),rt=j((function(e){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetrySdkLanguageValues=e.OsTypeValues=e.HostArchValues=e.AwsEcsLaunchtypeValues=e.CloudPlatformValues=e.CloudProviderValues=e.ResourceAttributes=void 0,e.ResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},(t=e.CloudProviderValues||(e.CloudProviderValues={})).AWS="aws",t.AZURE="azure",t.GCP="gcp",function(e){e.AWS_EC2="aws_ec2",e.AWS_ECS="aws_ecs",e.AWS_EKS="aws_eks",e.AWS_LAMBDA="aws_lambda",e.AWS_ELASTIC_BEANSTALK="aws_elastic_beanstalk",e.AZURE_VM="azure_vm",e.AZURE_CONTAINER_INSTANCES="azure_container_instances",e.AZURE_AKS="azure_aks",e.AZURE_FUNCTIONS="azure_functions",e.AZURE_APP_SERVICE="azure_app_service",e.GCP_COMPUTE_ENGINE="gcp_compute_engine",e.GCP_CLOUD_RUN="gcp_cloud_run",e.GCP_KUBERNETES_ENGINE="gcp_kubernetes_engine",e.GCP_CLOUD_FUNCTIONS="gcp_cloud_functions",e.GCP_APP_ENGINE="gcp_app_engine"}(e.CloudPlatformValues||(e.CloudPlatformValues={})),function(e){e.EC2="ec2",e.FARGATE="fargate"}(e.AwsEcsLaunchtypeValues||(e.AwsEcsLaunchtypeValues={})),function(e){e.AMD64="amd64",e.ARM32="arm32",e.ARM64="arm64",e.IA64="ia64",e.PPC32="ppc32",e.PPC64="ppc64",e.X86="x86"}(e.HostArchValues||(e.HostArchValues={})),function(e){e.WINDOWS="windows",e.LINUX="linux",e.DARWIN="darwin",e.FREEBSD="freebsd",e.NETBSD="netbsd",e.OPENBSD="openbsd",e.DRAGONFLYBSD="dragonflybsd",e.HPUX="hpux",e.AIX="aix",e.SOLARIS="solaris",e.Z_OS="z_os"}(e.OsTypeValues||(e.OsTypeValues={})),function(e){e.CPP="cpp",e.DOTNET="dotnet",e.ERLANG="erlang",e.GO="go",e.JAVA="java",e.NODEJS="nodejs",e.PHP="php",e.PYTHON="python",e.RUBY="ruby",e.WEBJS="webjs"}(e.TelemetrySdkLanguageValues||(e.TelemetrySdkLanguageValues={}))})),ot=j((function(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(rt(),e)})),it=j((function(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(nt(),e),n(ot(),e)})),at=j((function(e){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SDK_INFO=void 0;var n=et(),r=it();e.SDK_INFO=(d(t={},r.ResourceAttributes.TELEMETRY_SDK_NAME,"opentelemetry"),d(t,r.ResourceAttributes.PROCESS_RUNTIME_NAME,"node"),d(t,r.ResourceAttributes.TELEMETRY_SDK_LANGUAGE,r.TelemetrySdkLanguageValues.NODEJS),d(t,r.ResourceAttributes.TELEMETRY_SDK_VERSION,n.VERSION),t)})),st=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unrefTimer=void 0,e.unrefTimer=function(e){e.unref()}})),ct=j((function(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(We(),e),n($e(),e),n(Ze(),e),n(Je(),e),n(at(),e),n(st(),e)})),ut=j((function(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(ct(),e)})),lt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTimeInput=e.isTimeInputHrTime=e.hrTimeToMicroseconds=e.hrTimeToMilliseconds=e.hrTimeToNanoseconds=e.hrTimeToTimeStamp=e.hrTimeDuration=e.timeInputToHrTime=e.hrTime=void 0;var t=ut(),n=Math.pow(10,9);function r(e){var t=e/1e3,r=Math.trunc(t);return[r,Number((t-r).toFixed(9))*n]}function o(){var e=t.otperformance.timeOrigin;if("number"!=typeof e){var n=t.otperformance;e=n.timing&&n.timing.fetchStart}return e}function i(e){var i=r(o()),a=r("number"==typeof e?e:t.otperformance.now()),s=i[0]+a[0],c=i[1]+a[1];return c>n&&(c-=n,s+=1),[s,c]}function a(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}e.hrTime=i,e.timeInputToHrTime=function(e){if(a(e))return e;if("number"==typeof e)return e<o()?i(e):r(e);if(e instanceof Date)return r(e.getTime());throw TypeError("Invalid input type")},e.hrTimeDuration=function(e,t){var r=t[0]-e[0],o=t[1]-e[1];return o<0&&(r-=1,o+=n),[r,o]},e.hrTimeToTimeStamp=function(e){var t="".concat("0".repeat(9)).concat(e[1],"Z"),n=t.substr(t.length-9-1);return new Date(1e3*e[0]).toISOString().replace("000Z",n)},e.hrTimeToNanoseconds=function(e){return e[0]*n+e[1]},e.hrTimeToMilliseconds=function(e){return Math.round(1e3*e[0]+e[1]/1e6)},e.hrTimeToMicroseconds=function(e){return Math.round(1e6*e[0]+e[1]/1e3)},e.isTimeInputHrTime=a,e.isTimeInput=function(e){return a(e)||"number"==typeof e||e instanceof Date}})),pt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ft=j((function(e){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ExportResultCode=void 0,(t=e.ExportResultCode||(e.ExportResultCode={}))[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"})),dt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositePropagator=void 0;var t=Ve(),n=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,e),this._propagators=null!==(t=n.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((function(e){return"function"==typeof e.fields?e.fields():[]})).reduce((function(e,t){return e.concat(t)}),[])))}return _(e,[{key:"inject",value:function(e,n,r){var o,i=E(this._propagators);try{for(i.s();!(o=i.n()).done;){var a=o.value;try{a.inject(e,n,r)}catch(e){t.diag.warn("Failed to inject with ".concat(a.constructor.name,". Err: ").concat(e.message))}}}catch(e){i.e(e)}finally{i.f()}}},{key:"extract",value:function(e,n,r){return this._propagators.reduce((function(e,o){try{return o.extract(e,n,r)}catch(e){t.diag.warn("Failed to inject with ".concat(o.constructor.name,". Err: ").concat(e.message))}return e}),e)}},{key:"fields",value:function(){return this._fields.slice()}}]),e}();e.CompositePropagator=n})),ht=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateValue=e.validateKey=void 0;var t="[_0-9a-z-*/]",n="[a-z]".concat(t,"{0,255}"),r="[a-z0-9]".concat(t,"{0,240}@[a-z]").concat(t,"{0,13}"),o=new RegExp("^(?:".concat(n,"|").concat(r,")$")),i=/^[ -~]{0,255}[!-~]$/,a=/,|=/;e.validateKey=function(e){return o.test(e)},e.validateValue=function(e){return i.test(e)&&!a.test(e)}})),vt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceState=void 0;var t=ht(),n=function(){function e(t){h(this,e),this._internalState=new Map,t&&this._parse(t)}return _(e,[{key:"set",value:function(e,t){var n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}},{key:"unset",value:function(e){var t=this._clone();return t._internalState.delete(e),t}},{key:"get",value:function(e){return this._internalState.get(e)}},{key:"serialize",value:function(){var e=this;return this._keys().reduce((function(t,n){return t.push(n+"="+e.get(n)),t}),[]).join(",")}},{key:"_parse",value:function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce((function(e,n){var r=n.trim(),o=r.indexOf("=");if(-1!==o){var i=r.slice(0,o),a=r.slice(o+1,n.length);t.validateKey(i)&&t.validateValue(a)&&e.set(i,a)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}},{key:"_keys",value:function(){return Array.from(this._internalState.keys()).reverse()}},{key:"_clone",value:function(){var t=new e;return t._internalState=new Map(this._internalState),t}}]),e}();e.TraceState=n})),_t=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpTraceContextPropagator=e.parseTraceParent=e.TRACE_STATE_HEADER=e.TRACE_PARENT_HEADER=void 0;var t=Ve(),n=qe(),r=vt();e.TRACE_PARENT_HEADER="traceparent",e.TRACE_STATE_HEADER="tracestate";var o=new RegExp("^\\s?(".concat("(?!ff)[\\da-f]{2}",")-(").concat("(?![0]{32})[\\da-f]{32}",")-(").concat("(?![0]{16})[\\da-f]{16}",")-(").concat("[\\da-f]{2}",")(-.*)?\\s?$"));function i(e){var t=o.exec(e);return!t||"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}e.parseTraceParent=i;var a=function(){function o(){h(this,o)}return _(o,[{key:"inject",value:function(r,o,i){var a=t.trace.getSpanContext(r);if(a&&!n.isTracingSuppressed(r)&&t.isSpanContextValid(a)){var s="".concat("00","-").concat(a.traceId,"-").concat(a.spanId,"-0").concat(Number(a.traceFlags||t.TraceFlags.NONE).toString(16));i.set(o,e.TRACE_PARENT_HEADER,s),a.traceState&&i.set(o,e.TRACE_STATE_HEADER,a.traceState.serialize())}}},{key:"extract",value:function(n,o,a){var s=a.get(o,e.TRACE_PARENT_HEADER);if(!s)return n;var c=Array.isArray(s)?s[0]:s;if("string"!=typeof c)return n;var u=i(c);if(!u)return n;u.isRemote=!0;var l=a.get(o,e.TRACE_STATE_HEADER);if(l){var p=Array.isArray(l)?l.join(","):l;u.traceState=new r.TraceState("string"==typeof p?p:void 0)}return t.trace.setSpanContext(n,u)}},{key:"fields",value:function(){return[e.TRACE_PARENT_HEADER,e.TRACE_STATE_HEADER]}}]),o}();e.HttpTraceContextPropagator=a})),yt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),gt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRPCMetadata=e.deleteRPCMetadata=e.setRPCMetadata=e.RPCType=void 0;var t=Ve().createContextKey("OpenTelemetry SDK Context Key RPC_METADATA");(e.RPCType||(e.RPCType={})).HTTP="http",e.setRPCMetadata=function(e,n){return e.setValue(t,n)},e.deleteRPCMetadata=function(e){return e.deleteValue(t)},e.getRPCMetadata=function(e){return e.getValue(t)}})),mt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOffSampler=void 0;var t=Ve(),n=function(){function e(){h(this,e)}return _(e,[{key:"shouldSample",value:function(){return{decision:t.SamplingDecision.NOT_RECORD}}},{key:"toString",value:function(){return"AlwaysOffSampler"}}]),e}();e.AlwaysOffSampler=n})),Et=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOnSampler=void 0;var t=Ve(),n=function(){function e(){h(this,e)}return _(e,[{key:"shouldSample",value:function(){return{decision:t.SamplingDecision.RECORD_AND_SAMPLED}}},{key:"toString",value:function(){return"AlwaysOnSampler"}}]),e}();e.AlwaysOnSampler=n})),bt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParentBasedSampler=void 0;var t=Ve(),n=Xe(),r=mt(),o=Et(),i=function(){function e(t){var i,a,s,c;h(this,e),this._root=t.root,this._root||(n.globalErrorHandler(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new o.AlwaysOnSampler),this._remoteParentSampled=null!==(i=t.remoteParentSampled)&&void 0!==i?i:new o.AlwaysOnSampler,this._remoteParentNotSampled=null!==(a=t.remoteParentNotSampled)&&void 0!==a?a:new r.AlwaysOffSampler,this._localParentSampled=null!==(s=t.localParentSampled)&&void 0!==s?s:new o.AlwaysOnSampler,this._localParentNotSampled=null!==(c=t.localParentNotSampled)&&void 0!==c?c:new r.AlwaysOffSampler}return _(e,[{key:"shouldSample",value:function(e,n,r,o,i,a){var s=t.trace.getSpanContext(e);return s&&t.isSpanContextValid(s)?s.isRemote?s.traceFlags&t.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,n,r,o,i,a):this._remoteParentNotSampled.shouldSample(e,n,r,o,i,a):s.traceFlags&t.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,n,r,o,i,a):this._localParentNotSampled.shouldSample(e,n,r,o,i,a):this._root.shouldSample(e,n,r,o,i,a)}},{key:"toString",value:function(){return"ParentBased{root=".concat(this._root.toString(),", remoteParentSampled=").concat(this._remoteParentSampled.toString(),", remoteParentNotSampled=").concat(this._remoteParentNotSampled.toString(),", localParentSampled=").concat(this._localParentSampled.toString(),", localParentNotSampled=").concat(this._localParentNotSampled.toString(),"}")}}]),e}();e.ParentBasedSampler=i})),Tt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceIdRatioBasedSampler=void 0;var t=Ve(),n=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;h(this,e),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(4294967295*this._ratio)}return _(e,[{key:"shouldSample",value:function(e,n){return{decision:t.isValidTraceId(n)&&this._accumulate(n)<this._upperBound?t.SamplingDecision.RECORD_AND_SAMPLED:t.SamplingDecision.NOT_RECORD}}},{key:"toString",value:function(){return"TraceIdRatioBased{".concat(this._ratio,"}")}},{key:"_normalize",value:function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}},{key:"_accumulate",value:function(e){for(var t=0,n=0;n<e.length/8;n++){var r=8*n;t=(t^parseInt(e.slice(r,r+8),16))>>>0}return t}}]),e}();e.TraceIdRatioBasedSampler=n})),St=j((function(e){"use strict";function t(e,t){return"string"==typeof t?e===t:t.test(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.isUrlIgnored=e.urlMatches=void 0,e.urlMatches=t,e.isUrlIgnored=function(e,n){if(!n)return!1;var r,o=E(n);try{for(o.s();!(r=o.n()).done;){if(t(e,r.value))return!0}}catch(e){o.e(e)}finally{o.f()}return!1}})),At=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isWrapped=void 0,e.isWrapped=function(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}})),It=j((function(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.baggageUtils=void 0,n(Fe(),e),n(ze(),e),n(Xe(),e),n(Ke(),e),n(lt(),e),n(pt(),e),n(ft(),e),n(et(),e),e.baggageUtils=Be(),n(ut(),e),n(dt(),e),n(_t(),e),n(yt(),e),n(gt(),e),n(mt(),e),n(Et(),e),n(bt(),e),n(Tt(),e),n(qe(),e),n(vt(),e),n(Qe(),e),n(Ye(),e),n(St(),e),n(At(),e),n(et(),e)})),Ot=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExceptionEventName=void 0,e.ExceptionEventName="exception"})),Ct=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Span=void 0;var t=Ve(),n=It(),r=it(),o=Ot(),i=function(){function e(r,o,i,a,s,c){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:n.hrTime();h(this,e),this.attributes={},this.links=[],this.events=[],this.status={code:t.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=i,this._spanContext=a,this.parentSpanId=c,this.kind=s,this.links=u,this.startTime=n.timeInputToHrTime(l),this.resource=r.resource,this.instrumentationLibrary=r.instrumentationLibrary,this._spanLimits=r.getSpanLimits(),this._spanProcessor=r.getActiveSpanProcessor(),this._spanProcessor.onStart(this,o)}return _(e,[{key:"spanContext",value:function(){return this._spanContext}},{key:"setAttribute",value:function(e,r){return null==r||this._isSpanEnded()?this:0===e.length?(t.diag.warn("Invalid attribute key: ".concat(e)),this):n.isAttributeValue(r)?(Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)||(this.attributes[e]=r),this):(t.diag.warn("Invalid attribute value set for key: ".concat(e)),this)}},{key:"setAttributes",value:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=g(n[t],2),o=r[0],i=r[1];this.setAttribute(o,i)}return this}},{key:"addEvent",value:function(e,r,o){return this._isSpanEnded()||(this.events.length>=this._spanLimits.eventCountLimit&&(t.diag.warn("Dropping extra events."),this.events.shift()),n.isTimeInput(r)&&(m(o)>"u"&&(o=r),r=void 0),m(o)>"u"&&(o=n.hrTime()),this.events.push({name:e,attributes:r,time:n.timeInputToHrTime(o)})),this}},{key:"setStatus",value:function(e){return this._isSpanEnded()||(this.status=e),this}},{key:"updateName",value:function(e){return this._isSpanEnded()||(this.name=e),this}},{key:"end",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.hrTime();this._isSpanEnded()?t.diag.error("You can only call end() on a span once."):(this._ended=!0,this.endTime=n.timeInputToHrTime(e),this._duration=n.hrTimeDuration(this.startTime,this.endTime),this._duration[0]<0&&t.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this))}},{key:"isRecording",value:function(){return!1===this._ended}},{key:"recordException",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.hrTime(),a={};"string"==typeof e?a[r.SemanticAttributes.EXCEPTION_MESSAGE]=e:e&&(e.code?a[r.SemanticAttributes.EXCEPTION_TYPE]=e.code.toString():e.name&&(a[r.SemanticAttributes.EXCEPTION_TYPE]=e.name),e.message&&(a[r.SemanticAttributes.EXCEPTION_MESSAGE]=e.message),e.stack&&(a[r.SemanticAttributes.EXCEPTION_STACKTRACE]=e.stack)),a[r.SemanticAttributes.EXCEPTION_TYPE]||a[r.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(o.ExceptionEventName,a,i):t.diag.warn("Failed to record an exception ".concat(e))}},{key:"duration",get:function(){return this._duration}},{key:"ended",get:function(){return this._ended}},{key:"_isSpanEnded",value:function(){return this._ended&&t.diag.warn("Can not execute the operation on ended Span {traceId: %s, spanId: %s}",this._spanContext.traceId,this._spanContext.spanId),this._ended}}]),e}();e.Span=i})),Pt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildSamplerFromEnv=e.DEFAULT_CONFIG=void 0;var t=Ve(),n=It(),r=n.getEnv(),o=n.TracesSamplerValues.AlwaysOn;function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.getEnv();switch(e.OTEL_TRACES_SAMPLER){case n.TracesSamplerValues.AlwaysOn:return new n.AlwaysOnSampler;case n.TracesSamplerValues.AlwaysOff:return new n.AlwaysOffSampler;case n.TracesSamplerValues.ParentBasedAlwaysOn:return new n.ParentBasedSampler({root:new n.AlwaysOnSampler});case n.TracesSamplerValues.ParentBasedAlwaysOff:return new n.ParentBasedSampler({root:new n.AlwaysOffSampler});case n.TracesSamplerValues.TraceIdRatio:return new n.TraceIdRatioBasedSampler(a(e));case n.TracesSamplerValues.ParentBasedTraceIdRatio:return new n.ParentBasedSampler({root:new n.TraceIdRatioBasedSampler(a(e))});default:return t.diag.error('OTEL_TRACES_SAMPLER value "'.concat(e.OTEL_TRACES_SAMPLER," invalid, defaulting to ").concat(o,'".')),new n.AlwaysOnSampler}}e.DEFAULT_CONFIG={sampler:i(r),forceFlushTimeoutMillis:3e4,spanLimits:{attributeCountLimit:n.getEnv().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:n.getEnv().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:n.getEnv().OTEL_SPAN_EVENT_COUNT_LIMIT}},e.buildSamplerFromEnv=i;function a(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||""===e.OTEL_TRACES_SAMPLER_ARG)return t.diag.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ".concat(1,".")),1;var n=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(n)?(t.diag.error("OTEL_TRACES_SAMPLER_ARG=".concat(e.OTEL_TRACES_SAMPLER_ARG," was given, but it is invalid, defaulting to ").concat(1,".")),1):n<0||n>1?(t.diag.error("OTEL_TRACES_SAMPLER_ARG=".concat(e.OTEL_TRACES_SAMPLER_ARG," was given, but it is out of range ([0..1]), defaulting to ").concat(1,".")),1):n}})),wt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeConfig=void 0;var t=Pt();e.mergeConfig=function(e){var n={sampler:t.buildSamplerFromEnv()},r=Object.assign({},t.DEFAULT_CONFIG,n,e);return r.spanLimits=Object.assign({},t.DEFAULT_CONFIG.spanLimits,e.spanLimits||{}),r}})),Rt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tracer=void 0;var t=Ve(),n=It(),r=Ct(),o=wt(),i=function(){function e(t,r,i){h(this,e),this._tracerProvider=i;var a=o.mergeConfig(r);this._sampler=a.sampler,this._spanLimits=a.spanLimits,this._idGenerator=r.idGenerator||new n.RandomIdGenerator,this.resource=i.resource,this.instrumentationLibrary=t}return _(e,[{key:"startSpan",value:function(e){var o,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.context.active();if(n.isTracingSuppressed(c))return t.diag.debug("Instrumentation suppressed, returning Noop Span"),t.trace.wrapSpanContext(t.INVALID_SPAN_CONTEXT);var u,l,p,f=a(s,c),d=this._idGenerator.generateSpanId();f&&t.trace.isSpanContextValid(f)?(u=f.traceId,l=f.traceState,p=f.spanId):u=this._idGenerator.generateTraceId();var h=null!==(o=s.kind)&&void 0!==o?o:t.SpanKind.INTERNAL,v=null!==(i=s.links)&&void 0!==i?i:[],_=n.sanitizeAttributes(s.attributes),y=this._sampler.shouldSample(s.root?t.trace.setSpanContext(c,t.INVALID_SPAN_CONTEXT):c,u,e,h,_,v),g=y.decision===t.SamplingDecision.RECORD_AND_SAMPLED?t.TraceFlags.SAMPLED:t.TraceFlags.NONE,m={traceId:u,spanId:d,traceFlags:g,traceState:l};if(y.decision===t.SamplingDecision.NOT_RECORD)return t.diag.debug("Recording is off, propagating context in a non-recording span"),t.trace.wrapSpanContext(m);var E=new r.Span(this,c,e,m,h,p,v,s.startTime);return E.setAttributes(Object.assign(_,y.attributes)),E}},{key:"startActiveSpan",value:function(e,n,r,o){var i,a,s,c;if(!(arguments.length<2)){2===arguments.length?c=n:3===arguments.length?(a=n,c=r):(a=n,s=r,c=o);var u=null!==(i=s)&&void 0!==i?i:t.context.active(),l=this.startSpan(e,a,u),p=t.trace.setSpan(u,l);return t.context.with(p,c,void 0,l)}}},{key:"getSpanLimits",value:function(){return this._spanLimits}},{key:"getActiveSpanProcessor",value:function(){return this._tracerProvider.getActiveSpanProcessor()}}]),e}();function a(e,n){if(!e.root)return t.trace.getSpanContext(n)}e.Tracer=i})),Nt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultServiceName=void 0,e.defaultServiceName=function(){return"unknown_service:".concat(process.argv0)}})),Dt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.detectResources=void 0;var t=Ut(),r=Ve(),o=n(1),i=function(){var e=f(l().mark((function e(){var n,o,i,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:{},o=Object.assign(n),e.next=4,Promise.all((o.detectors||[]).map(function(){var e=f(l().mark((function e(n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.detect(o);case 3:return i=e.sent,e.abrupt("return",(r.diag.debug("".concat(n.constructor.name," found resource."),i),i));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(r.diag.debug("".concat(n.constructor.name," failed: ").concat(e.t0.message)),t.Resource.empty()));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));case 4:return i=e.sent,e.abrupt("return",(a(i),i.reduce((function(e,t){return e.merge(t)}),t.Resource.empty())));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e.detectResources=i;var a=function(e){e.forEach((function(e){if(Object.keys(e.attributes).length>0){var t=o.inspect(e.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});r.diag.verbose(t)}}))}})),xt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.envDetector=void 0;var t=Ve(),n=It(),r=it(),o=qt(),i=function(){function e(){h(this,e),this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}var i;return _(e,[{key:"detect",value:(i=f(l().mark((function e(i){var a,s,c,u,p;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},s=n.getEnv(),c=s.OTEL_RESOURCE_ATTRIBUTES,u=s.OTEL_SERVICE_NAME,c)try{p=this._parseResourceAttributes(c),Object.assign(a,p)}catch(e){t.diag.debug("EnvDetector failed: ".concat(e.message))}return e.abrupt("return",(u&&(a[r.ResourceAttributes.SERVICE_NAME]=u),new o.Resource(a)));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"_parseResourceAttributes",value:function(e){if(!e)return{};var t,n={},r=E(e.split(this._COMMA_SEPARATOR,-1));try{for(r.s();!(t=r.n()).done;){var o=t.value.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2===o.length){var i=g(o,2),a=i[0],s=i[1];if(a=a.trim(),s=s.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(a))throw new Error("Attribute key ".concat(this._ERROR_MESSAGE_INVALID_CHARS));if(!this._isValid(s))throw new Error("Attribute value ".concat(this._ERROR_MESSAGE_INVALID_VALUE));n[a]=s}}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"_isValid",value:function(e){return e.length<=this._MAX_LENGTH&&this._isPrintableString(e)}},{key:"_isPrintableString",value:function(e){for(var t=0;t<e.length;t++){var n=e.charAt(t);if(n<=" "||n>="~")return!1}return!0}},{key:"_isValidAndNotEmpty",value:function(e){return e.length>0&&this._isValid(e)}}]),e}();e.envDetector=new i})),Mt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.processDetector=void 0;var t=Ve(),n=it(),r=qt(),o=function(){function e(){h(this,e)}var o;return _(e,[{key:"detect",value:(o=f(l().mark((function e(t){var r,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(r={},n.ResourceAttributes.PROCESS_PID,process.pid),d(r,n.ResourceAttributes.PROCESS_EXECUTABLE_NAME,process.title||""),d(r,n.ResourceAttributes.PROCESS_COMMAND,process.argv[1]||""),d(r,n.ResourceAttributes.PROCESS_COMMAND_LINE,process.argv.join(" ")||""),o=r,e.abrupt("return",this._getResourceAttributes(o,t));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"_getResourceAttributes",value:function(e,o){return""===e[n.ResourceAttributes.PROCESS_EXECUTABLE_NAME]||""===e[n.ResourceAttributes.PROCESS_EXECUTABLE_PATH]||""===e[n.ResourceAttributes.PROCESS_COMMAND]||""===e[n.ResourceAttributes.PROCESS_COMMAND_LINE]?(t.diag.debug("ProcessDetector failed: Unable to find required process resources. "),r.Resource.empty()):new r.Resource(Object.assign({},e))}}]),e}();e.processDetector=new o})),kt=j((function(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(xt(),e),n(Mt(),e)})),Lt=j((function(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Nt(),e),n(Dt(),e),n(kt(),e)})),jt=j((function(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Lt(),e)})),Ut=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Resource=void 0;var t=it(),n=It(),r=jt(),o=function(){function e(t){h(this,e),this.attributes=t}return _(e,[{key:"merge",value:function(t){return t&&Object.keys(t.attributes).length?new e(Object.assign({},this.attributes,t.attributes)):this}}],[{key:"empty",value:function(){return e.EMPTY}},{key:"default",value:function(){var o;return new e((d(o={},t.ResourceAttributes.SERVICE_NAME,r.defaultServiceName()),d(o,t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE,n.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]),d(o,t.ResourceAttributes.TELEMETRY_SDK_NAME,n.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_NAME]),d(o,t.ResourceAttributes.TELEMETRY_SDK_VERSION,n.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_VERSION]),o))}}]),e}();e.Resource=o,o.EMPTY=new o({})})),Ht=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Vt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),qt=j((function(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Ut(),e),n(jt(),e),n(Ht(),e),n(Vt(),e)})),Gt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiSpanProcessor=void 0;var t=It(),n=function(){function e(t){h(this,e),this._spanProcessors=t}return _(e,[{key:"forceFlush",value:function(){var e,n=[],r=E(this._spanProcessors);try{for(r.s();!(e=r.n()).done;){var o=e.value;n.push(o.forceFlush())}}catch(e){r.e(e)}finally{r.f()}return new Promise((function(e){Promise.all(n).then((function(){e()})).catch((function(n){t.globalErrorHandler(n||new Error("MultiSpanProcessor: forceFlush failed")),e()}))}))}},{key:"onStart",value:function(e,t){var n,r=E(this._spanProcessors);try{for(r.s();!(n=r.n()).done;){n.value.onStart(e,t)}}catch(e){r.e(e)}finally{r.f()}}},{key:"onEnd",value:function(e){var t,n=E(this._spanProcessors);try{for(n.s();!(t=n.n()).done;){t.value.onEnd(e)}}catch(e){n.e(e)}finally{n.f()}}},{key:"shutdown",value:function(){var e,t=[],n=E(this._spanProcessors);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r.shutdown())}}catch(e){n.e(e)}finally{n.f()}return new Promise((function(e,n){Promise.all(t).then((function(){e()}),n)}))}}]),e}();e.MultiSpanProcessor=n})),Bt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopSpanProcessor=void 0;var t=function(){function e(){h(this,e)}return _(e,[{key:"onStart",value:function(e,t){}},{key:"onEnd",value:function(e){}},{key:"shutdown",value:function(){return Promise.resolve()}},{key:"forceFlush",value:function(){return Promise.resolve()}}]),e}();e.NoopSpanProcessor=t})),Ft=j((function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",i="[object Function]",a="[object Object]",s=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[o]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u[i]=u["[object Map]"]=u["[object Number]"]=u[a]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1;var l="object"==("undefined"==typeof global?"undefined":m(global))&&global&&global.Object===Object&&global,p="object"==("undefined"==typeof self?"undefined":m(self))&&self&&self.Object===Object&&self,f=l||p||Function("return this")(),d="object"==m(e)&&e&&!e.nodeType&&e,h=d&&"object"==m(t)&&t&&!t.nodeType&&t,v=h&&h.exports===d,_=v&&l.process,y=function(){try{return h&&h.require&&h.require("util").types||_&&_.binding&&_.binding("util")}catch(e){}}(),g=y&&y.isTypedArray;function E(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var b,T=Array.prototype,S=Function.prototype,A=Object.prototype,I=f["__core-js_shared__"],O=S.toString,C=A.hasOwnProperty,P=(b=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",w=A.toString,R=O.call(Object),N=RegExp("^"+O.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=v?f.Buffer:void 0,x=f.Symbol,M=f.Uint8Array,k=D?D.allocUnsafe:void 0,L=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),j=Object.create,U=A.propertyIsEnumerable,H=T.splice,V=x?x.toStringTag:void 0,q=function(){try{var e=pe(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),G=D?D.isBuffer:void 0,B=Math.max,F=Date.now,z=pe(f,"Map"),K=pe(Object,"create"),X=function(){function e(){}return function(t){if(!Se(t))return{};if(j)return j(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Y(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Q(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function W(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $(e){var t=this.__data__=new Q(e);this.size=t.size}function Z(e,t){var n=ge(e),r=!n&&ye(e),o=!n&&!r&&Ee(e),i=!n&&!r&&!o&&Ie(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)(t||C.call(e,u))&&(!a||!("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||fe(u,c)))&&s.push(u);return s}function J(e,t,n){(void 0!==n&&!_e(e[t],n)||void 0===n&&!(t in e))&&ne(e,t,n)}function ee(e,t,n){var r=e[t];(!C.call(e,t)||!_e(r,n)||void 0===n&&!(t in e))&&ne(e,t,n)}function te(e,t){for(var n=e.length;n--;)if(_e(e[n][0],t))return n;return-1}function ne(e,t,n){"__proto__"==t&&q?q(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}Y.prototype.clear=function(){this.__data__=K?K(null):{},this.size=0},Y.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Y.prototype.get=function(e){var t=this.__data__;if(K){var r=t[e];return r===n?void 0:r}return C.call(t,e)?t[e]:void 0},Y.prototype.has=function(e){var t=this.__data__;return K?void 0!==t[e]:C.call(t,e)},Y.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=K&&void 0===t?n:t,this},Q.prototype.clear=function(){this.__data__=[],this.size=0},Q.prototype.delete=function(e){var t=this.__data__,n=te(t,e);return!(n<0)&&(n==t.length-1?t.pop():H.call(t,n,1),--this.size,!0)},Q.prototype.get=function(e){var t=this.__data__,n=te(t,e);return n<0?void 0:t[n][1]},Q.prototype.has=function(e){return te(this.__data__,e)>-1},Q.prototype.set=function(e,t){var n=this.__data__,r=te(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},W.prototype.clear=function(){this.size=0,this.__data__={hash:new Y,map:new(z||Q),string:new Y}},W.prototype.delete=function(e){var t=le(this,e).delete(e);return this.size-=t?1:0,t},W.prototype.get=function(e){return le(this,e).get(e)},W.prototype.has=function(e){return le(this,e).has(e)},W.prototype.set=function(e,t){var n=le(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},$.prototype.clear=function(){this.__data__=new Q,this.size=0},$.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$.prototype.get=function(e){return this.__data__.get(e)},$.prototype.has=function(e){return this.__data__.has(e)},$.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Q){var r=n.__data__;if(!z||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new W(r)}return n.set(e,t),this.size=n.size,this};var re=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}();function oe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":V&&V in Object(e)?function(e){var t=C.call(e,V),n=e[V];try{e[V]=void 0;var r=!0}catch(e){}var o=w.call(e);return r&&(t?e[V]=n:delete e[V]),o}(e):function(e){return w.call(e)}(e)}function ie(e){return Ae(e)&&oe(e)==o}function ae(e){return!(!Se(e)||function(e){return!!P&&P in e}(e))&&(be(e)?N:s).test(function(e){if(null!=e){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function se(e){if(!Se(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=de(e),n=[];for(var r in e)"constructor"==r&&(t||!C.call(e,r))||n.push(r);return n}function ce(e,t,n,r,o){e!==t&&re(t,(function(i,s){if(o||(o=new $),Se(i))!function(e,t,n,r,o,i,s){var c=he(e,n),u=he(t,n),l=s.get(u);if(l)return void J(e,n,l);var p=i?i(c,u,n+"",e,t,s):void 0,f=void 0===p;if(f){var d=ge(u),h=!d&&Ee(u),v=!d&&!h&&Ie(u);p=u,d||h||v?ge(c)?p=c:function(e){return Ae(e)&&me(e)}(c)?p=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(c):h?(f=!1,p=function(e,t){if(t)return e.slice();var n=e.length,r=k?k(n):new e.constructor(n);return e.copy(r),r}(u,!0)):v?(f=!1,p=function(e,t){var n=t?function(e){var t=new e.constructor(e.byteLength);return new M(t).set(new M(e)),t}(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(u,!0)):p=[]:function(e){if(!Ae(e)||oe(e)!=a)return!1;var t=L(e);if(null===t)return!0;var n=C.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&O.call(n)==R}(u)||ye(u)?(p=c,ye(c)?p=function(e){return function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),o?ne(n,s,c):ee(n,s,c)}return n}(e,Oe(e))}(c):(!Se(c)||be(c))&&(p=function(e){return"function"!=typeof e.constructor||de(e)?{}:X(L(e))}(u))):f=!1}f&&(s.set(u,p),o(p,u,r,i,s),s.delete(u)),J(e,n,p)}(e,t,s,n,ce,r,o);else{var c=r?r(he(e,s),i,s+"",e,t,o):void 0;void 0===c&&(c=i),J(e,s,c)}}),Oe)}function ue(e,t){return ve(function(e,t,n){return t=B(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=B(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),E(e,this,s)}}(e,t,we),e+"")}function le(e,t){var n=e.__data__;return function(e){var t=m(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function pe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ae(n)?n:void 0}function fe(e,t){var n,o=m(e);return!!(t=null!==(n=t)&&void 0!==n?n:r)&&("number"==o||"symbol"!=o&&c.test(e))&&e>-1&&e%1==0&&e<t}function de(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||A)}function he(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ve=function(e){var t=0,n=0;return function(){var r=F(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(q?function(e,t){return q(e,"toString",{configurable:!0,enumerable:!1,value:Pe(t),writable:!0})}:we);function _e(e,t){return e===t||e!=e&&t!=t}var ye=ie(function(){return arguments}())?ie:function(e){return Ae(e)&&C.call(e,"callee")&&!U.call(e,"callee")},ge=Array.isArray;function me(e){return null!=e&&Te(e.length)&&!be(e)}var Ee=G||function(){return!1};function be(e){if(!Se(e))return!1;var t=oe(e);return t==i||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Te(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function Se(e){var t=m(e);return null!=e&&("object"==t||"function"==t)}function Ae(e){return null!=e&&"object"==m(e)}var Ie=g?function(e){return function(t){return e(t)}}(g):function(e){return Ae(e)&&Te(e.length)&&!!u[oe(e)]};function Oe(e){return me(e)?Z(e,!0):se(e)}var Ce=function(e){return ue((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&function(e,t,n){if(!Se(n))return!1;var r=m(t);return!!("number"==r?me(n)&&fe(t,n.length):"string"==r&&t in n)&&_e(n[t],e)}(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t}))}((function(e,t,n){ce(e,t,n)}));function Pe(e){return function(){return e}}function we(e){return e}t.exports=Ce})),zt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessorBase=void 0;var t=Ve(),n=It(),r=function(){function e(t,r){h(this,e),this._exporter=t,this._finishedSpans=[],this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve();var o=n.getEnv();this._maxExportBatchSize="number"==typeof(null==r?void 0:r.maxExportBatchSize)?r.maxExportBatchSize:o.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==r?void 0:r.maxQueueSize)?r.maxQueueSize:o.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==r?void 0:r.scheduledDelayMillis)?r.scheduledDelayMillis:o.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==r?void 0:r.exportTimeoutMillis)?r.exportTimeoutMillis:o.OTEL_BSP_EXPORT_TIMEOUT}return _(e,[{key:"forceFlush",value:function(){return this._isShutdown?this._shuttingDownPromise:this._flushAll()}},{key:"onStart",value:function(e){}},{key:"onEnd",value:function(e){this._isShutdown||this._addToBuffer(e)}},{key:"shutdown",value:function(){var e=this;return this._isShutdown||(this._isShutdown=!0,this._shuttingDownPromise=new Promise((function(t,n){Promise.resolve().then((function(){return e.onShutdown()})).then((function(){return e._flushAll()})).then((function(){return e._exporter.shutdown()})).then(t).catch((function(e){n(e)}))}))),this._shuttingDownPromise}},{key:"_addToBuffer",value:function(e){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(e),this._maybeStartTimer())}},{key:"_flushAll",value:function(){var e=this;return new Promise((function(t,n){for(var r=[],o=0,i=Math.ceil(e._finishedSpans.length/e._maxExportBatchSize);o<i;o++)r.push(e._flushOneBatch());Promise.all(r).then((function(){t()})).catch(n)}))}},{key:"_flushOneBatch",value:function(){var e=this;return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise((function(r,o){var i=setTimeout((function(){o(new Error("Timeout"))}),e._exportTimeoutMillis);t.context.with(n.suppressTracing(t.context.active()),(function(){e._exporter.export(e._finishedSpans.splice(0,e._maxExportBatchSize),(function(e){var t;clearTimeout(i),e.code===n.ExportResultCode.SUCCESS?r():o(null!==(t=e.error)&&void 0!==t?t:new Error("BatchSpanProcessor: span export failed"))}))}))}))}},{key:"_maybeStartTimer",value:function(){var e=this;void 0===this._timer&&(this._timer=setTimeout((function(){e._flushOneBatch().then((function(){e._finishedSpans.length>0&&(e._clearTimer(),e._maybeStartTimer())})).catch((function(e){n.globalErrorHandler(e)}))}),this._scheduledDelayMillis),n.unrefTimer(this._timer))}},{key:"_clearTimer",value:function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}}]),e}();e.BatchSpanProcessorBase=r})),Kt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessor=void 0;var t=function(e){o(n,e);var t=a(n);function n(){return h(this,n),t.apply(this,arguments)}return _(n,[{key:"onShutdown",value:function(){}}]),n}(zt().BatchSpanProcessorBase);e.BatchSpanProcessor=t})),Xt=j((function(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Kt(),e)})),Yt=j((function(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Xt(),e)})),Qt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicTracerProvider=e.ForceFlushState=void 0;var t,n,r=Ve(),o=It(),i=qt(),a=on(),s=Pt(),c=Gt(),u=Bt(),l=Ft(),p=Yt();(n=t=e.ForceFlushState||(e.ForceFlushState={}))[n.resolved=0]="resolved",n[n.timeout=1]="timeout",n[n.error=2]="error",n[n.unresolved=3]="unresolved";var f=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,e),this._registeredSpanProcessors=[],this._tracers=new Map;var r=l({},s.DEFAULT_CONFIG,n);this.resource=null!==(t=r.resource)&&void 0!==t?t:i.Resource.empty(),this.resource=i.Resource.default().merge(this.resource),this._config=Object.assign({},r,{resource:this.resource});var o=this._buildExporterFromEnv();if(void 0!==o){var a=new p.BatchSpanProcessor(o);this.activeSpanProcessor=a}else this.activeSpanProcessor=new u.NoopSpanProcessor}return _(e,[{key:"getTracer",value:function(e,t){var n="".concat(e,"@").concat(t||"");return this._tracers.has(n)||this._tracers.set(n,new a.Tracer({name:e,version:t},this._config,this)),this._tracers.get(n)}},{key:"addSpanProcessor",value:function(e){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((function(e){return r.diag.error("Error while trying to shutdown current span processor",e)})),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new c.MultiSpanProcessor(this._registeredSpanProcessors)}},{key:"getActiveSpanProcessor",value:function(){return this.activeSpanProcessor}},{key:"register",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.trace.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&r.context.setGlobalContextManager(e.contextManager),e.propagator&&r.propagation.setGlobalPropagator(e.propagator)}},{key:"forceFlush",value:function(){var e=this._config.forceFlushTimeoutMillis,n=this._registeredSpanProcessors.map((function(n){return new Promise((function(r){var o,i=setTimeout((function(){r(new Error("Span processor did not completed within timeout period of ".concat(e," ms"))),o=t.timeout}),e);n.forceFlush().then((function(){clearTimeout(i),o!==t.timeout&&(o=t.resolved,r(o))})).catch((function(e){clearTimeout(i),o=t.error,r(e)}))}))}));return new Promise((function(e,r){Promise.all(n).then((function(n){var o=n.filter((function(e){return e!==t.resolved}));o.length>0?r(o):e()})).catch((function(e){return r([e])}))}))}},{key:"shutdown",value:function(){return this.activeSpanProcessor.shutdown()}},{key:"_getPropagator",value:function(t){var n;return null===(n=e._registeredPropagators.get(t))||void 0===n?void 0:n()}},{key:"_getSpanExporter",value:function(t){var n;return null===(n=e._registeredExporters.get(t))||void 0===n?void 0:n()}},{key:"_buildPropagatorFromEnv",value:function(){var e=this,t=Array.from(new Set(o.getEnv().OTEL_PROPAGATORS)),n=t.map((function(t){var n=e._getPropagator(t);return n||r.diag.warn('Propagator "'.concat(t,'" requested through environment variable is unavailable.')),n})).reduce((function(e,t){return t&&e.push(t),e}),[]);if(0!==n.length)return 1===t.length?n[0]:new o.CompositePropagator({propagators:n})}},{key:"_buildExporterFromEnv",value:function(){var e=o.getEnv().OTEL_TRACES_EXPORTER;if("none"!==e){var t=this._getSpanExporter(e);return t||r.diag.error('Exporter "'.concat(e,'" requested through environment variable is unavailable.')),t}}}]),e}();e.BasicTracerProvider=f,f._registeredPropagators=new Map([["tracecontext",function(){return new o.HttpTraceContextPropagator}],["baggage",function(){return new o.HttpBaggagePropagator}]]),f._registeredExporters=new Map})),Wt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleSpanExporter=void 0;var t=It(),n=function(){function e(){h(this,e)}return _(e,[{key:"export",value:function(e,t){return this._sendSpans(e,t)}},{key:"shutdown",value:function(){return this._sendSpans([]),Promise.resolve()}},{key:"_exportInfo",value:function(e){return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:t.hrTimeToMicroseconds(e.startTime),duration:t.hrTimeToMicroseconds(e.duration),attributes:e.attributes,status:e.status,events:e.events}}},{key:"_sendSpans",value:function(e,n){var r,o=E(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;console.log(this._exportInfo(i))}}catch(e){o.e(e)}finally{o.f()}if(n)return n({code:t.ExportResultCode.SUCCESS})}}]),e}();e.ConsoleSpanExporter=n})),$t=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemorySpanExporter=void 0;var t=It(),n=function(){function e(){h(this,e),this._finishedSpans=[],this._stopped=!1}return _(e,[{key:"export",value:function(e,n){var o;if(this._stopped)return n({code:t.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});(o=this._finishedSpans).push.apply(o,r(e)),setTimeout((function(){return n({code:t.ExportResultCode.SUCCESS})}),0)}},{key:"shutdown",value:function(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}},{key:"reset",value:function(){this._finishedSpans=[]}},{key:"getFinishedSpans",value:function(){return this._finishedSpans}}]),e}();e.InMemorySpanExporter=n})),Zt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Jt=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleSpanProcessor=void 0;var t=Ve(),n=It(),r=function(){function e(t){h(this,e),this._exporter=t,this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve()}return _(e,[{key:"forceFlush",value:function(){return Promise.resolve()}},{key:"onStart",value:function(e){}},{key:"onEnd",value:function(e){var r=this;this._isShutdown||t.context.with(n.suppressTracing(t.context.active()),(function(){r._exporter.export([e],(function(e){var t;e.code!==n.ExportResultCode.SUCCESS&&n.globalErrorHandler(null!==(t=e.error)&&void 0!==t?t:new Error("SimpleSpanProcessor: span export failed (status ".concat(e,")")))}))}))}},{key:"shutdown",value:function(){var e=this;return this._isShutdown||(this._isShutdown=!0,this._shuttingDownPromise=new Promise((function(t,n){Promise.resolve().then((function(){return e._exporter.shutdown()})).then(t).catch((function(e){n(e)}))}))),this._shuttingDownPromise}}]),e}();e.SimpleSpanProcessor=r})),en=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),tn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),nn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),rn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),on=j((function(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Rt(),e),n(Qt(),e),n(Yt(),e),n(Wt(),e),n($t(),e),n(Zt(),e),n(Jt(),e),n(en(),e),n(Bt(),e),n(Ct(),e),n(tn(),e),n(nn(),e),n(rn(),e)})),an=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.azureCoreTracing=e.AzureMonitorSymbol=void 0;var t=z();e.AzureMonitorSymbol="Azure_Monitor_Tracer";var n=!1;e.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(r){if(n)return r;try{var o=on(),i=Ve(),a=(new o.BasicTracerProvider).getTracer("applicationinsights tracer"),s=r.setTracer;r.setTracer=function(n){var r=n.startSpan;n.startSpan=function(e,n,o){var i=r.call(this,e,n,o),a=i.end;return i.end=function(){var e=a.apply(this,arguments);return t.channel.publish("azure-coretracing",i),e},i},n[e.AzureMonitorSymbol]=!0,s.call(this,n)},i.trace.getSpan(i.context.active()),r.setTracer(a),n=!0}catch(e){}return r}},e.enable=function(){t.channel.registerMonkeyPatch("@azure/core-tracing",e.azureCoreTracing)}})),sn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.bunyan=void 0;var t=z();e.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){var n=e.prototype._emit;return e.prototype._emit=function(e,r){var o=n.apply(this,arguments);if(!r){var i=o;i||(i=n.call(this,e,!0)),t.channel.publish("bunyan",{level:e.level,result:i})}return o},e}},e.enable=function(){t.channel.registerMonkeyPatch("bunyan",e.bunyan)}})),cn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.console=void 0;var t=z(),r=n(3);e.console={versionSpecifier:">= 4.0.0",patch:function(e){var n=new r.Writable,o=new r.Writable;n.write=function(e){if(!e)return!0;var n=e.toString();return t.channel.publish("console",{message:n}),!0},o.write=function(e){if(!e)return!0;var n=e.toString();return t.channel.publish("console",{message:n,stderr:!0}),!0};for(var i=new e.Console(n,o),a=function(t){var n=e[t];n&&(e[t]=function(){if(i[t])try{i[t].apply(i,arguments)}catch(e){}return n.apply(e,arguments)})},s=0,c=["log","info","warn","error","dir","time","timeEnd","trace","assert"];s<c.length;s++){a(c[s])}return e}},e.enable=function(){t.channel.registerMonkeyPatch("console",e.console),n(124)}})),un=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongoCore=void 0;var t=z();e.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var n=e.Server.prototype.connect;return e.Server.prototype.connect=function(){var e=n.apply(this,arguments),r=this.s.pool.write;this.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=t.channel.bindToContext(arguments[e])),r.apply(this,arguments)};var o=this.s.pool.logout;return this.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=t.channel.bindToContext(arguments[1])),o.apply(this,arguments)},e},e}},e.enable=function(){t.channel.registerMonkeyPatch("mongodb-core",e.mongoCore)}})),ln=j((function(e){"use strict";var t=e&&e.__assign||function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongo330=e.mongo3=e.mongo2=void 0;var n=z();e.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:function(e){var r=e.instrument({operationIdGenerator:{next:function(){return n.channel.bindToContext((function(e){return e()}))}}}),o={};return r.on("started",(function(e){o[e.requestId]||(o[e.requestId]=t(t({},e),{time:new Date}))})),r.on("succeeded",(function(e){var t=o[e.requestId];t&&delete o[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})):n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),r.on("failed",(function(e){var t=o[e.requestId];t&&delete o[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})):n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),e}},e.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:function(e){var r=e.instrument(),o={},i={};return r.on("started",(function(e){o[e.requestId]||(i[e.requestId]=n.channel.bindToContext((function(e){return e()})),o[e.requestId]=t(t({},e),{time:new Date}))})),r.on("succeeded",(function(e){var t=o[e.requestId];t&&delete o[e.requestId],"object"==m(e)&&"function"==typeof i[e.requestId]&&(i[e.requestId]((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete i[e.requestId])})),r.on("failed",(function(e){var t=o[e.requestId];t&&delete o[e.requestId],"object"==m(e)&&"function"==typeof i[e.requestId]&&(i[e.requestId]((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete i[e.requestId])})),e}},e.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:function(e){!function(e){var t=e.Server.prototype.connect;e.Server.prototype.connect=function(){var e=t.apply(this,arguments),r=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=n.channel.bindToContext(arguments[e])),r.apply(this,arguments)};var o=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=n.channel.bindToContext(arguments[1])),o.apply(this,arguments)},e}}(e);var t=e.instrument(),r={},o={};return t.on("started",(function(e){r[e.requestId]||(o[e.requestId]=n.channel.bindToContext((function(e){return e()})),r[e.requestId]=e)})),t.on("succeeded",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"object"==m(e)&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete o[e.requestId])})),t.on("failed",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"object"==m(e)&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete o[e.requestId])})),e}},e.enable=function(){n.channel.registerMonkeyPatch("mongodb",e.mongo2),n.channel.registerMonkeyPatch("mongodb",e.mongo3),n.channel.registerMonkeyPatch("mongodb",e.mongo330)}})),pn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mysql=void 0;var t=z(),r=n(0);e.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(e,o){var i=function(e,n){return function(n,r){var o=e[n];o&&(e[n]=function(){for(var e=arguments.length-1,n=arguments.length-1;n>=0;--n){if("function"==typeof arguments[n]){e=n;break}if(m(arguments[n])<"u")break}var i=arguments[e],a={result:null,startTime:null,startDate:null};"function"==typeof i&&(r?(a.startTime=process.hrtime(),a.startDate=new Date,arguments[e]=t.channel.bindToContext(r(a,i))):arguments[e]=t.channel.bindToContext(i));var s=o.apply(this,arguments);return a.result=s,s})}},a=function(e,t){return i(e.prototype)},s=n(125)(r.dirname(o)+"/lib/Connection");["connect","changeUser","ping","statistics","end"].forEach((function(e){return a(s)(e)})),i(s)("createQuery",(function(e,n){return function(r){var o=process.hrtime(e.startTime),i=1e3*o[0]+o[1]/1e6|0;t.channel.publish("mysql",{query:e.result,callbackArgs:arguments,err:r,duration:i,time:e.startDate}),n.apply(this,arguments)}}));var c=n(126)(r.dirname(o)+"/lib/Pool");return["_enqueueCallback"].forEach((function(e){return a(c)(e)})),e}},e.enable=function(){t.channel.registerMonkeyPatch("mysql",e.mysql)}})),fn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgresPool1=void 0;var t=z();e.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:function(e){var n=e.prototype.connect;return e.prototype.connect=function(e){return e&&(arguments[0]=t.channel.bindToContext(e)),n.apply(this,arguments)},e}},e.enable=function(){t.channel.registerMonkeyPatch("pg-pool",e.postgresPool1)}})),dn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgres7=e.postgres6=void 0;var t=z(),r=n(6);e.postgres6={versionSpecifier:"6.*",patch:function(e,n){var o=e.Client.prototype.query,i="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,n,a){var s,c={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},u=process.hrtime();function l(e){e&&e[i]&&(e=e[i]);var n=t.channel.bindToContext((function(n,o){var i=process.hrtime(u);if(c.result=o&&{rowCount:o.rowCount,command:o.command},c.error=n,c.duration=Math.ceil(1e3*i[0]+i[1]/1e6),t.channel.publish("postgres",c),n){if(e)return e.apply(this,arguments);s&&s instanceof r.EventEmitter&&s.emit("error",n)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(n,i,{value:e}),n}catch(t){return e}}try{"string"==typeof e?n instanceof Array?(c.query.preparable={text:e,args:n},a=l(a)):(c.query.text=e,a?a=l(a):n=l(n)):("string"==typeof e.name?c.query.plan=e.name:e.values instanceof Array?c.query.preparable={text:e.text,args:e.values}:c.query.text=e.text,a?a=l(a):n?n=l(n):e.callback=l(e.callback))}catch(e){return o.apply(this,arguments)}return arguments[0]=e,arguments[1]=n,arguments[2]=a,arguments.length=arguments.length>3?arguments.length:3,s=o.apply(this,arguments)},e}},e.postgres7={versionSpecifier:">=7.* <=8.*",patch:function(e,n){var o=e.Client.prototype.query,i="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,n,a){var s,c=this,u=!!a,l={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},p=process.hrtime();function f(e){e&&e[i]&&(e=e[i]);var n=t.channel.bindToContext((function(n,o){var i=process.hrtime(p);if(l.result=o&&{rowCount:o.rowCount,command:o.command},l.error=n,l.duration=Math.ceil(1e3*i[0]+i[1]/1e6),t.channel.publish("postgres",l),n){if(e)return e.apply(this,arguments);s&&s instanceof r.EventEmitter&&s.emit("error",n)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(n,i,{value:e}),n}catch(t){return e}}try{"string"==typeof e?n instanceof Array?(l.query.preparable={text:e,args:n},a=(u="function"==typeof a)?f(a):a):(l.query.text=e,a?a=(u="function"==typeof a)?f(a):a:n=(u="function"==typeof n)?f(n):n):("string"==typeof e.name?l.query.plan=e.name:e.values instanceof Array?l.query.preparable={text:e.text,args:e.values}:l.query.text=e.text,a?(u="function"==typeof a,a=f(a)):n?n=(u="function"==typeof n)?f(n):n:(u="function"==typeof e.callback,e.callback=u?f(e.callback):e.callback))}catch(e){return o.apply(this,arguments)}return arguments[0]=e,arguments[1]=n,arguments[2]=a,arguments.length=arguments.length>3?arguments.length:3,s=o.apply(this,arguments),u?s:s.then((function(e){return f()(void 0,e),new c._Promise((function(t,n){t(e)}))})).catch((function(e){return f()(e,void 0),new c._Promise((function(t,n){n(e)}))}))},e}},e.enable=function(){t.channel.registerMonkeyPatch("pg",e.postgres6),t.channel.registerMonkeyPatch("pg",e.postgres7)}})),hn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.redis=void 0;var t=z();e.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var n=e.RedisClient.prototype.internal_send_command;return e.RedisClient.prototype.internal_send_command=function(e){if(e){var r=e.callback;if(!r||!r.pubsubBound){var o=this.address,i=process.hrtime(),a=new Date;e.callback=t.channel.bindToContext((function(n,s){var c=process.hrtime(i),u=1e3*c[0]+c[1]/1e6|0;t.channel.publish("redis",{duration:u,address:o,commandObj:e,err:n,result:s,time:a}),"function"==typeof r&&r.apply(this,arguments)})),e.callback.pubsubBound=!0}}return n.call(this,e)},e}},e.enable=function(){t.channel.registerMonkeyPatch("redis",e.redis)}})),vn=j((function(e){"use strict";var t=e&&e.__assign||function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=void 0;var n=z();e.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:function(e){var r=e.Connection.prototype.makeRequest;return e.Connection.prototype.makeRequest=function(){function e(e){var r=process.hrtime(),o={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return n.channel.bindToContext((function(i,a,s){var c=process.hrtime(r);o=t(t({},o),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!i&&{rowCount:a,rows:s},query:{text:this.parametersByName.statement.value},error:i,duration:Math.ceil(1e3*c[0]+c[1]/1e6)}),n.channel.publish("tedious",o),e.call(this,i,a,s)}))}var o=arguments[0];arguments[0].callback=e(o.callback),r.apply(this,arguments)},e}},e.enable=function(){n.channel.registerMonkeyPatch("tedious",e.tedious)}})),_n=j((function(e){"use strict";var t,n=e&&e.__extends||(t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,n)},function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),r=e&&e.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.winston2=e.winston3=void 0;var o=z();e.winston3={versionSpecifier:"3.x",patch:function(e){var t=function(e){function t(t,n){var r=e.call(this,n)||this;return r.winston=t,r}return n(t,e),t.prototype.log=function(e,t){var n=e.message,i=e.level,a=e.meta,s=r(e,["message","level","meta"]);i="function"==typeof Symbol.for?e[Symbol.for("level")]:i,n=e instanceof Error?e:n;var c=function(e,t){return null!=e.config.npm.levels[t]?"npm":null!=e.config.syslog.levels[t]?"syslog":"unknown"}(this.winston,i);for(var u in a=a||{},s)s.hasOwnProperty(u)&&(a[u]=s[u]);o.channel.publish("winston",{message:n,level:i,levelKind:c,meta:a}),t()},t}(e.Transport);function i(){var n,r=arguments[0].levels||e.config.npm.levels;for(var o in r)r.hasOwnProperty(o)&&(n=void 0===n||r[o]>r[n]?o:n);this.add(new t(e,{level:n}))}var a=e.createLogger;e.createLogger=function(){var n,r=arguments[0].levels||e.config.npm.levels;for(var o in r)r.hasOwnProperty(o)&&(n=void 0===n||r[o]>r[n]?o:n);var s=a.apply(this,arguments);s.add(new t(e,{level:n}));var c=s.configure;return s.configure=function(){c.apply(this,arguments),i.apply(this,arguments)},s};var s=e.configure;return e.configure=function(){s.apply(this,arguments),i.apply(this,arguments)},e.add(new t(e)),e}},e.winston2={versionSpecifier:"2.x",patch:function(e){var t,n=e.Logger.prototype.log,r=function(n,r,i){var a;return a=t===e.config.npm.levels?"npm":t===e.config.syslog.levels?"syslog":"unknown",o.channel.publish("winston",{level:n,message:r,meta:i,levelKind:a}),r};return e.Logger.prototype.log=function(){return t=this.levels,this.filters&&0!==this.filters.length?this.filters[this.filters.length-1]!==r&&(this.filters=this.filters.filter((function(e){return e!==r})),this.filters.push(r)):this.filters=[r],n.apply(this,arguments)},e}},e.enable=function(){o.channel.registerMonkeyPatch("winston",e.winston2),o.channel.registerMonkeyPatch("winston",e.winston3)}})),yn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=e.pgPool=e.pg=e.winston=e.redis=e.mysql=e.mongodb=e.mongodbCore=e.console=e.bunyan=e.azuresdk=void 0;var t=an();e.azuresdk=t;var n=sn();e.bunyan=n;var r=cn();e.console=r;var o=un();e.mongodbCore=o;var i=ln();e.mongodb=i;var a=pn();e.mysql=a;var s=fn();e.pgPool=s;var c=dn();e.pg=c;var u=hn();e.redis=u;var l=vn();e.tedious=l;var p=_n();e.winston=p,e.enable=function(){n.enable(),r.enable(),o.enable(),i.enable(),a.enable(),c.enable(),s.enable(),u.enable(),p.enable(),t.enable(),l.enable()}})),gn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerContextPreservation=e.IsInitialized=void 0;var t=q(),n=V();e.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var r,o,i,a,s="DiagnosticChannel";if(e.IsInitialized){for(a in r=yn(),o=(process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"").split(","),i={bunyan:r.bunyan,console:r.console,mongodb:r.mongodb,mongodbCore:r.mongodbCore,mysql:r.mysql,redis:r.redis,pg:r.pg,pgPool:r.pgPool,winston:r.winston,azuresdk:r.azuresdk})-1===o.indexOf(a)&&(i[a].enable(),n.info(s,"Subscribed to "+a+" events"));o.length>0&&n.info(s,"Some modules will not be patched",o)}else n.info(s,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");e.registerContextPreservation=function(n){if(e.IsInitialized){var r=z();r.channel.addContextPreservation(n),r.channel.spanContextPropagator=t.AsyncScopeManager}}})),mn=j((function(e,t){"use strict";t.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}})),En=j((function(e,t){"use strict";var r=e&&e.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=n(8),i=n(21),a=n(14),s=n(127),c=V(),u=mn(),l=function(){function e(){}return e.getCookie=function(t,n){var r="";if(t&&t.length&&"string"==typeof n)for(var o=t+"=",i=n.split(";"),a=0;a<i.length;a++){n=i[a];if((n=e.trim(n))&&0===n.indexOf(o)){r=n.substring(o.length,i[a].length);break}}return r},e.trim=function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""},e.int32ArrayToBase64=function(e){var t=function(e,t){return String.fromCharCode(e>>t&255)},n=e.map((function(e){return t(e,24)+t(e,16)+t(e,8)+t(e,0)})).join(""),r=(Buffer.from?Buffer.from(n,"binary"):new Buffer(n,"binary")).toString("base64");return r.substr(0,r.indexOf("="))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var t,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r="",o=0;o<4;o++)r+=n[15&(t=e.random32())]+n[t>>4&15]+n[t>>8&15]+n[t>>12&15]+n[t>>16&15]+n[t>>20&15]+n[t>>24&15]+n[t>>28&15];var i=n[8+4*Math.random()|0];return r.substr(0,8)+r.substr(9,4)+"4"+r.substr(13,3)+i+r.substr(16,3)+r.substr(19,12)},e.w3cSpanId=function(){return e.w3cTraceId().substring(16)},e.isValidW3CId=function(e){return 32===e.length&&"00000000000000000000000000000000"!==e},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isError=function(e){return e instanceof Error},e.isPrimitive=function(e){var t=m(e);return"string"===t||"number"===t||"boolean"===t},e.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},e.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=(e/1e3%60).toFixed(7).replace(/0{0,4}$/,""),n=""+Math.floor(e/6e4)%60,r=""+Math.floor(e/36e5)%24,o=Math.floor(e/864e5);return t=t.indexOf(".")<2?"0"+t:t,n=n.length<2?"0"+n:n,(o>0?o+".":"")+(r=r.length<2?"0"+r:r)+":"+n+":"+t},e.extractError=function(e){var t=e;return{message:e.message,code:t.code||t.id||""}},e.extractObject=function(t){return t instanceof Error?e.extractError(t):"function"==typeof t.toJSON?t.toJSON():t},e.validateStringMap=function(t){if("object"==m(t)){var n={};for(var r in t){var o="",i=t[r],a=m(i);if(e.isPrimitive(i))o=i.toString();else if(null===i||"undefined"===a)o="";else{if("function"===a){c.info("key: "+r+" was function; will not serialize");continue}var s=e.isArray(i)?i:e.extractObject(i);try{o=e.isPrimitive(s)?s:JSON.stringify(s)}catch(e){o=i.constructor.name.toString()+" (Error: "+e.message+")",c.info("key: "+r+", could not be serialized")}}n[r]=o.substring(0,e.MAX_PROPERTY_LENGTH)}return n}c.info("Invalid properties dropped from payload")},e.canIncludeCorrelationHeader=function(e,t){var n=e&&e.config&&e.config.correlationHeaderExcludedDomains;if(!n||0==n.length||!t)return!0;for(var r=0;r<n.length;r++){if(new RegExp(n[r].replace(/\./g,".").replace(/\*/g,".*")).test(a.parse(t).hostname))return!1}return!0},e.getCorrelationContextTarget=function(e,t){var n=e.headers&&e.headers[u.requestContextHeader];if(n)for(var r=n.split(","),o=0;o<r.length;++o){var i=r[o].split("=");if(2==i.length&&i[0]==t)return i[1]}},e.makeRequest=function(t,n,s,u){n&&0===n.indexOf("//")&&(n="https:"+n);var l=a.parse(n),p=r(r({},s),{host:l.hostname,port:l.port,path:l.pathname}),f=void 0;if("https:"===l.protocol&&(f=t.proxyHttpsUrl||void 0),"http:"===l.protocol&&(f=t.proxyHttpUrl||void 0),f){0===f.indexOf("//")&&(f="http:"+f);var d=a.parse(f);"https:"===d.protocol?(c.info("Proxies that use HTTPS are not supported"),f=void 0):p=r(r({},p),{host:d.hostname,port:d.port||"80",path:n,headers:r(r({},p.headers),{Host:l.hostname})})}var h="https:"===l.protocol&&!f;return h&&void 0!==t.httpsAgent?p.agent=t.httpsAgent:h||void 0===t.httpAgent?h&&(p.agent=e.tlsRestrictedAgent):p.agent=t.httpAgent,h?i.request(p,u):o.request(p,u)},e.safeIncludeCorrelationHeader=function(t,n,r){var o;if("string"==typeof r)o=r;else if(r instanceof Array)o=r.join(",");else if(r&&"function"==typeof r.toString)try{o=r.toString()}catch(e){c.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",e,r)}o?e.addCorrelationIdHeaderFromString(t,n,o):n.setHeader(u.requestContextHeader,u.requestContextSourceKey+"="+t.config.correlationId)},e.dumpObj=function(e){var t=Object.prototype.toString.call(e);return t+("[object Error]"===t?"{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":JSON.stringify(e))},e.addCorrelationIdHeaderFromString=function(e,t,n){var r=n.split(","),o=u.requestContextSourceKey+"=";r.some((function(e){return e.substring(0,o.length)===o}))||t.setHeader(u.requestContextHeader,n+","+u.requestContextSourceKey+"="+e.config.correlationId)},e.MAX_PROPERTY_LENGTH=8192,e.tlsRestrictedAgent=new i.Agent({keepAlive:!0,maxSockets:25,secureOptions:s.SSL_OP_NO_SSLv2|s.SSL_OP_NO_SSLv3|s.SSL_OP_NO_TLSv1|s.SSL_OP_NO_TLSv1_1}),e}();t.exports=l})),bn=j((function(e,t){"use strict";var n=En(),r=V(),o=function(){function e(){}return e.queryCorrelationId=function(t,o){var i=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId";if(e.completedLookups.hasOwnProperty(i))o(e.completedLookups[i]);else if(e.pendingLookups[i])e.pendingLookups[i].push(o);else{e.pendingLookups[i]=[o];setTimeout((function o(){if(e.pendingLookups[i]){var a={method:"GET",disableAppInsightsAutoCollection:!0};r.info(e.TAG,a);var s=n.makeRequest(t,i,a,(function(n){if(200===n.statusCode){var a="";n.setEncoding("utf-8"),n.on("data",(function(e){a+=e})),n.on("end",(function(){r.info(e.TAG,a);var t=e.correlationIdPrefix+a;e.completedLookups[i]=t,e.pendingLookups[i]&&e.pendingLookups[i].forEach((function(e){return e(t)})),delete e.pendingLookups[i]}))}else n.statusCode>=400&&n.statusCode<500?(e.completedLookups[i]=void 0,delete e.pendingLookups[i]):setTimeout(o,t.correlationIdRetryIntervalMs)}));s&&(s.on("error",(function(t){r.warn(e.TAG,t)})),s.end())}}),0)}},e.cancelCorrelationIdQuery=function(t,n){var r=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId",o=e.pendingLookups[r];o&&(e.pendingLookups[r]=o.filter((function(e){return e!=n})),0==e.pendingLookups[r].length&&delete e.pendingLookups[r])},e.generateRequestId=function(t){if(t){"."!==(t="|"==t[0]?t:"|"+t)[t.length-1]&&(t+=".");var n=(e.currentRootId++).toString(16);return e.appendSuffix(t,n,"_")}return e.generateRootId()},e.getRootId=function(e){var t=e.indexOf(".");t<0&&(t=e.length);var n="|"===e[0]?1:0;return e.substring(n,t)},e.generateRootId=function(){return"|"+n.w3cTraceId()+"."},e.appendSuffix=function(t,r,o){if(t.length+r.length<e.requestIdMaxLength)return t+r+o;var i=e.requestIdMaxLength-9;if(t.length>i)for(;i>1;--i){var a=t[i-1];if("."===a||"_"===a)break}if(i<=1)return e.generateRootId();for(r=n.randomu32().toString(16);r.length<8;)r="0"+r;return t.substring(0,i)+r+"#"},e.TAG="CorrelationIdManager",e.correlationIdPrefix="cid-v1:",e.w3cEnabled=!0,e.pendingLookups={},e.completedLookups={},e.requestIdMaxLength=1024,e.currentRootId=n.randomu32(),e}();t.exports=o})),Tn=j((function(e,t){"use strict";var n=En(),r=bn(),o=function(){function e(t,o){if(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&"string"==typeof t)if(t.split(",").length>1)this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16);else{var i=t.trim().split("-"),a=i.length;a>=4?(this.version=i[0],this.traceId=i[1],this.spanId=i[2],this.traceFlag=i[3]):(this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=e.DEFAULT_VERSION,this.traceId=n.w3cTraceId()),"00"===this.version&&4!==a&&(this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),"ff"===this.version&&(this.version=e.DEFAULT_VERSION,this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=e.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.traceId=n.w3cTraceId()),e.isValidTraceId(this.traceId)||(this.traceId=n.w3cTraceId()),e.isValidSpanId(this.spanId)||(this.spanId=n.w3cTraceId().substr(0,16),this.traceId=n.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(o){this.parentId=o.slice();var s=r.getRootId(o);e.isValidTraceId(s)||(this.legacyRootId=s,s=n.w3cTraceId()),-1!==o.indexOf("|")&&(o=o.substring(1+o.substring(0,o.length-1).lastIndexOf("."),o.length-1)),this.traceId=s,this.spanId=o}else this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.formatOpenTelemetryTraceFlags=function(e){var t="0"+e.toString(16);return t.substring(t.length-2)},e.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.prototype.updateSpanId=function(){this.spanId=n.w3cTraceId().substr(0,16)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}();t.exports=o})),Sn=j((function(e,t){"use strict";var n=function(){function e(e){this.fieldmap=[],e&&(this.fieldmap=this.parseHeader(e))}return e.prototype.toString=function(){var e=this.fieldmap;return e&&0!=e.length?e.join(", "):null},e.validateKeyChars=function(e){var t=e.split("@");if(2==t.length){var n=t[0].trim(),r=t[1].trim(),o=Boolean(n.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),i=Boolean(r.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return o&&i}return 1==t.length&&Boolean(e.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/))},e.prototype.parseHeader=function(t){var n=[],r={},o=t.split(",");if(o.length>32)return null;for(var i=0,a=o;i<a.length;i++){var s=a[i].trim();if(0!==s.length){var c=s.split("=");if(2!==c.length||!e.validateKeyChars(c[0])||r[c[0]])return null;r[c[0]]=!0,n.push(s)}}return n},e.strict=!0,e}();t.exports=n})),An=j((function(e,t){"use strict";var n=function(){};t.exports=n})),In=j((function(e,t){"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return r(t,e),t}(An());t.exports=o})),On=j((function(e,t){"use strict";var n=function(){};t.exports=n})),Cn=j((function(e,t){"use strict";var n=function(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"};t.exports=n})),Pn=j((function(e,t){"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e){function t(){return e.call(this)||this}return r(t,e),t}(On());t.exports=o})),wn=j((function(e,t){"use strict";var n,r;(r=n||(n={}))[r.Measurement=0]="Measurement",r[r.Aggregation=1]="Aggregation",t.exports=n})),Rn=j((function(e,t){"use strict";var n=wn(),r=function(){this.kind=n.Measurement};t.exports=r})),Nn=j((function(e,t){"use strict";var n=function(){this.ver=1,this.sampleRate=100,this.tags={}};t.exports=n})),Dn=j((function(e,t){"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return r(t,e),t}(An());t.exports=o})),xn=j((function(e,t){"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return r(t,e),t}(An());t.exports=o})),Mn=j((function(e,t){"use strict";var n=function(){this.hasFullStack=!0,this.parsedStack=[]};t.exports=n})),kn=j((function(e,t){"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t}return r(t,e),t}(An());t.exports=o})),Ln=j((function(e,t){"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t}return r(t,e),t}(An());t.exports=o})),jn=j((function(e,t){"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return r(t,e),t}(Dn());t.exports=o})),Un=j((function(e,t){"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return r(t,e),t}(An());t.exports=o})),Hn=j((function(e,t){"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return r(t,e),t}(An());t.exports=o})),Vn=j((function(e,t){"use strict";var n,r;(r=n||(n={}))[r.Verbose=0]="Verbose",r[r.Information=1]="Information",r[r.Warning=2]="Warning",r[r.Error=3]="Error",r[r.Critical=4]="Critical",t.exports=n})),qn=j((function(e,t){"use strict";var n=function(){};t.exports=n})),Gn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AvailabilityData=In(),e.Base=On(),e.ContextTagKeys=Cn(),e.Data=Pn(),e.DataPoint=Rn(),e.DataPointType=wn(),e.Domain=An(),e.Envelope=Nn(),e.EventData=Dn(),e.ExceptionData=xn(),e.ExceptionDetails=Mn(),e.MessageData=kn(),e.MetricData=Ln(),e.PageViewData=jn(),e.RemoteDependencyData=Un(),e.RequestData=Hn(),e.SeverityLevel=Vn(),e.StackFrame=qn()})),Bn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.domainSupportsProperties=e.RemoteDependencyDataConstants=void 0;var t=Gn(),n=function(){function e(){}return e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();e.RemoteDependencyDataConstants=n,e.domainSupportsProperties=function(e){return"properties"in e||e instanceof t.EventData||e instanceof t.ExceptionData||e instanceof t.MessageData||e instanceof t.MetricData||e instanceof t.PageViewData||e instanceof t.RemoteDependencyData||e instanceof t.RequestData}})),Fn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),zn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Kn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Xn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Yn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Qn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Wn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),$n=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Zn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Jn=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),er=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),tr=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),nr=j((function(e){"use strict";var t,n;Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryType=e.TelemetryTypeString=e.baseTypeToTelemetryType=e.telemetryTypeToBaseType=void 0,e.telemetryTypeToBaseType=function(e){switch(e){case t.Event:return"EventData";case t.Exception:return"ExceptionData";case t.Trace:return"MessageData";case t.Metric:return"MetricData";case t.Request:return"RequestData";case t.Dependency:return"RemoteDependencyData";case t.Availability:return"AvailabilityData";case t.PageView:return"PageViewData"}},e.baseTypeToTelemetryType=function(e){switch(e){case"EventData":return t.Event;case"ExceptionData":return t.Exception;case"MessageData":return t.Trace;case"MetricData":return t.Metric;case"RequestData":return t.Request;case"RemoteDependencyData":return t.Dependency;case"AvailabilityData":return t.Availability;case"PageViewData":return t.PageView}},e.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"},(n=t=e.TelemetryType||(e.TelemetryType={}))[n.Event=0]="Event",n[n.Exception=1]="Exception",n[n.Trace=2]="Trace",n[n.Metric=3]="Metric",n[n.Request=4]="Request",n[n.Dependency=5]="Dependency",n[n.Availability=6]="Availability",n[n.PageView=7]="PageView"})),rr=j((function(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Fn(),e),n(zn(),e),n(Kn(),e),n(Xn(),e),n(Yn(),e),n(Qn(),e),n(Wn(),e),n($n(),e),n(Zn(),e),n(Jn(),e),n(er(),e),n(tr(),e),n(nr(),e)})),or=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ir=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ar=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),sr=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),cr=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ur=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),lr=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),pr=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),fr=j((function(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(or(),e),n(ir(),e),n(ar(),e),n(sr(),e),n(cr(),e),n(ur(),e),n(lr(),e),n(pr(),e)})),dr=j((function(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Bn(),e),n(Gn(),e),n(rr(),e),n(fr(),e)})),hr=j((function(e,t){"use strict";var n=function(){function e(){}return e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(e,t){var n=+new Date;this.duration=n-this.startTime,this.statusCode=e;var r=this.properties||{};if(t)if("string"==typeof t)r.error=t;else if(t instanceof Error)r.error=t.message;else if("object"==m(t))for(var o in t)r[o]=t[o]&&t[o].toString&&t[o].toString();this.properties=r},e.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},e}();t.exports=n})),vr=j((function(e,t){"use strict";var r,o=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=n(14),a=dr(),s=En(),c=mn(),u=hr(),l=bn(),p=Sn(),f=Tn(),d=function(e){function t(t,n){var r=e.call(this)||this;return t&&(r.method=t.method,r.url=r._getAbsoluteUrl(t),r.startTime=+new Date,r.socketRemoteAddress=t.socket&&t.socket.remoteAddress,r.parseHeaders(t,n),t.connection&&(r.connectionRemoteAddress=t.connection.remoteAddress,r.legacySocketRemoteAddress=t.connection.socket&&t.connection.socket.remoteAddress)),r}return o(t,e),t.prototype.onError=function(e,t){this._setStatus(void 0,e),t&&(this.duration=t)},t.prototype.onResponse=function(e,t){this._setStatus(e.statusCode,void 0),t&&(this.duration=t)},t.prototype.getRequestTelemetry=function(e){var t={id:this.requestId,name:this.method+" "+i.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(e&&e.time?t.time=e.time:this.startTime&&(t.time=new Date(this.startTime)),e){for(var n in e)t[n]||(t[n]=e[n]);if(e.properties)for(var n in e.properties)t.properties[n]=e.properties[n]}return t},t.prototype.getRequestTags=function(e){var n={};for(var r in e)n[r]=e[r];return n[t.keys.locationIp]=e[t.keys.locationIp]||this._getIp(),n[t.keys.sessionId]=e[t.keys.sessionId]||this._getId("ai_session"),n[t.keys.userId]=e[t.keys.userId]||this._getId("ai_user"),n[t.keys.userAuthUserId]=e[t.keys.userAuthUserId]||this._getId("ai_authUser"),n[t.keys.operationName]=this.getOperationName(e),n[t.keys.operationParentId]=this.getOperationParentId(e),n[t.keys.operationId]=this.getOperationId(e),n},t.prototype.getOperationId=function(e){return e[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(e){return e[t.keys.operationParentId]||this.parentId||this.getOperationId(e)},t.prototype.getOperationName=function(e){return e[t.keys.operationName]||this.method+" "+i.parse(this.url).pathname},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype.getTraceparent=function(){return this.traceparent},t.prototype.getTracestate=function(){return this.tracestate},t.prototype.getLegacyRootId=function(){return this.legacyRootId},t.prototype._getAbsoluteUrl=function(e){if(!e.headers)return e.url;var t=e.connection?e.connection.encrypted:null,n=i.parse(e.url),r=n.pathname,o=n.search,a=t||"https"==e.headers["x-forwarded-proto"]?"https":"http";return i.format({protocol:a,host:e.headers.host,pathname:r,search:o})},t.prototype._getIp=function(){var e=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,t=function(t){var n=e.exec(t);if(n)return n[0]},n=t(this.rawHeaders["x-forwarded-for"])||t(this.rawHeaders["x-client-ip"])||t(this.rawHeaders["x-real-ip"])||t(this.connectionRemoteAddress)||t(this.socketRemoteAddress)||t(this.legacySocketRemoteAddress);return!n&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&"::"===this.connectionRemoteAddress.substr(0,2)&&(n="127.0.0.1"),n},t.prototype._getId=function(e){var n=this.rawHeaders&&this.rawHeaders.cookie&&"string"==typeof this.rawHeaders.cookie&&this.rawHeaders.cookie||"";return t.parseId(s.getCookie(e,n))},t.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},t.prototype.parseHeaders=function(e,t){if(this.rawHeaders=e.headers||e.rawHeaders,this.userAgent=e.headers&&e.headers["user-agent"],this.sourceCorrelationId=s.getCorrelationContextTarget(e,c.requestContextSourceKey),e.headers){var n=e.headers[c.traceStateHeader]?e.headers[c.traceStateHeader].toString():null,r=e.headers[c.traceparentHeader]?e.headers[c.traceparentHeader].toString():null,o=e.headers[c.requestIdHeader]?e.headers[c.requestIdHeader].toString():null,i=e.headers[c.parentIdHeader]?e.headers[c.parentIdHeader].toString():null,a=e.headers[c.rootIdHeader]?e.headers[c.rootIdHeader].toString():null;this.correlationContextHeader=e.headers[c.correlationContextHeader]?e.headers[c.correlationContextHeader].toString():null,l.w3cEnabled&&(r||n)?(this.traceparent=new f(r?r.toString():null),this.tracestate=r&&n&&new p(n?n.toString():null),this.setBackCompatFromThisTraceContext()):o?l.w3cEnabled?(this.traceparent=new f(null,o),this.setBackCompatFromThisTraceContext()):(this.parentId=o,this.requestId=l.generateRequestId(this.parentId),this.operationId=l.getRootId(this.requestId)):l.w3cEnabled?(this.traceparent=new f,this.traceparent.parentId=i,this.traceparent.legacyRootId=a||i,this.setBackCompatFromThisTraceContext()):(this.parentId=i,this.requestId=l.generateRequestId(a||this.parentId),this.correlationContextHeader=null,this.operationId=l.getRootId(this.requestId)),t&&(this.requestId=t,this.operationId=l.getRootId(this.requestId))}},t.parseId=function(e){var t=e.split("|");return t.length>0?t[0]:""},t.keys=new a.ContextTagKeys,t}(u);t.exports=d})),_r=j((function(e,t){var n;e=t.exports=X,n="object"==("undefined"==typeof process?"undefined":m(process))&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var r=Number.MAX_SAFE_INTEGER||9007199254740991,o=e.re=[],i=e.src=[],a=0,s=a++;i[s]="0|[1-9]\\d*";var c=a++;i[c]="[0-9]+";var u=a++;i[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=a++;i[l]="("+i[s]+")\\.("+i[s]+")\\.("+i[s]+")";var p=a++;i[p]="("+i[c]+")\\.("+i[c]+")\\.("+i[c]+")";var f=a++;i[f]="(?:"+i[s]+"|"+i[u]+")";var d=a++;i[d]="(?:"+i[c]+"|"+i[u]+")";var h=a++;i[h]="(?:-("+i[f]+"(?:\\."+i[f]+")*))";var v=a++;i[v]="(?:-?("+i[d]+"(?:\\."+i[d]+")*))";var _=a++;i[_]="[0-9A-Za-z-]+";var y=a++;i[y]="(?:\\+("+i[_]+"(?:\\."+i[_]+")*))";var g=a++,E="v?"+i[l]+i[h]+"?"+i[y]+"?";i[g]="^"+E+"$";var b="[v=\\s]*"+i[p]+i[v]+"?"+i[y]+"?",T=a++;i[T]="^"+b+"$";var S=a++;i[S]="((?:<|>)?=?)";var A=a++;i[A]=i[c]+"|x|X|\\*";var I=a++;i[I]=i[s]+"|x|X|\\*";var O=a++;i[O]="[v=\\s]*("+i[I]+")(?:\\.("+i[I]+")(?:\\.("+i[I]+")(?:"+i[h]+")?"+i[y]+"?)?)?";var C=a++;i[C]="[v=\\s]*("+i[A]+")(?:\\.("+i[A]+")(?:\\.("+i[A]+")(?:"+i[v]+")?"+i[y]+"?)?)?";var P=a++;i[P]="^"+i[S]+"\\s*"+i[O]+"$";var w=a++;i[w]="^"+i[S]+"\\s*"+i[C]+"$";var R=a++;i[R]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var N=a++;i[N]="(?:~>?)";var D=a++;i[D]="(\\s*)"+i[N]+"\\s+",o[D]=new RegExp(i[D],"g");var x=a++;i[x]="^"+i[N]+i[O]+"$";var M=a++;i[M]="^"+i[N]+i[C]+"$";var k=a++;i[k]="(?:\\^)";var L=a++;i[L]="(\\s*)"+i[k]+"\\s+",o[L]=new RegExp(i[L],"g");var j=a++;i[j]="^"+i[k]+i[O]+"$";var U=a++;i[U]="^"+i[k]+i[C]+"$";var H=a++;i[H]="^"+i[S]+"\\s*("+b+")$|^$";var V=a++;i[V]="^"+i[S]+"\\s*("+E+")$|^$";var q=a++;i[q]="(\\s*)"+i[S]+"\\s*("+b+"|"+i[O]+")",o[q]=new RegExp(i[q],"g");var G=a++;i[G]="^\\s*("+i[O]+")\\s+-\\s+("+i[O]+")\\s*$";var B=a++;i[B]="^\\s*("+i[C]+")\\s+-\\s+("+i[C]+")\\s*$";var F,z=a++;for(i[z]="(<|>)?=?\\s*\\*",F=0;F<35;F++)n(F,i[F]),o[F]||(o[F]=new RegExp(i[F]));function K(e,t){if((!t||"object"!=m(t))&&(t={loose:!!t,includePrerelease:!1}),e instanceof X)return e;if("string"!=typeof e||e.length>256)return null;if(!(t.loose?o[T]:o[g]).test(e))return null;try{return new X(e,t)}catch(e){return null}}function X(e,t){if((!t||"object"!=m(t))&&(t={loose:!!t,includePrerelease:!1}),e instanceof X){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof X))return new X(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var i=e.trim().match(t.loose?o[T]:o[g]);if(!i)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<r)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}e.parse=K,e.valid=function(e,t){var n=K(e,t);return n?n.version:null},e.clean=function(e,t){var n=K(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},e.SemVer=X,X.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},X.prototype.toString=function(){return this.version},X.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof X||(e=new X(e,this.options)),this.compareMain(e)||this.comparePre(e)},X.prototype.compareMain=function(e){return e instanceof X||(e=new X(e,this.options)),Q(this.major,e.major)||Q(this.minor,e.minor)||Q(this.patch,e.patch)},X.prototype.comparePre=function(e){if(e instanceof X||(e=new X(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return Q(r,o)}while(++t)},X.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new X(e,n).inc(t,r).version}catch(e){return null}},e.diff=function(e,t){if(J(e,t))return null;var n=K(e),r=K(t),o="";if(n.prerelease.length||r.prerelease.length){o="pre";var i="prerelease"}for(var a in n)if(("major"===a||"minor"===a||"patch"===a)&&n[a]!==r[a])return o+a;return i},e.compareIdentifiers=Q;var Y=/^[0-9]+$/;function Q(e,t){var n=Y.test(e),r=Y.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function W(e,t,n){return new X(e,n).compare(new X(t,n))}function $(e,t,n){return W(e,t,n)>0}function Z(e,t,n){return W(e,t,n)<0}function J(e,t,n){return 0===W(e,t,n)}function ee(e,t,n){return 0!==W(e,t,n)}function te(e,t,n){return W(e,t,n)>=0}function ne(e,t,n){return W(e,t,n)<=0}function re(e,t,n,r){switch(t){case"===":return"object"==m(e)&&(e=e.version),"object"==m(n)&&(n=n.version),e===n;case"!==":return"object"==m(e)&&(e=e.version),"object"==m(n)&&(n=n.version),e!==n;case"":case"=":case"==":return J(e,n,r);case"!=":return ee(e,n,r);case">":return $(e,n,r);case">=":return te(e,n,r);case"<":return Z(e,n,r);case"<=":return ne(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function oe(e,t){if((!t||"object"!=m(t))&&(t={loose:!!t,includePrerelease:!1}),e instanceof oe){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof oe))return new oe(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}e.rcompareIdentifiers=function(e,t){return Q(t,e)},e.major=function(e,t){return new X(e,t).major},e.minor=function(e,t){return new X(e,t).minor},e.patch=function(e,t){return new X(e,t).patch},e.compare=W,e.compareLoose=function(e,t){return W(e,t,!0)},e.rcompare=function(e,t,n){return W(t,e,n)},e.sort=function(t,n){return t.sort((function(t,r){return e.compare(t,r,n)}))},e.rsort=function(t,n){return t.sort((function(t,r){return e.rcompare(t,r,n)}))},e.gt=$,e.lt=Z,e.eq=J,e.neq=ee,e.gte=te,e.lte=ne,e.cmp=re,e.Comparator=oe;var ie={};function ae(e,t){if((!t||"object"!=m(t))&&(t={loose:!!t,includePrerelease:!1}),e instanceof ae)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ae(e.raw,t);if(e instanceof oe)return new ae(e.value,t);if(!(this instanceof ae))return new ae(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ce(e,t,n,r,o,i,a,s,c,u,l,p,f){return((t=se(n)?"":se(r)?">="+n+".0.0":se(o)?">="+n+"."+r+".0":">="+t)+" "+(s=se(c)?"":se(u)?"<"+(+c+1)+".0.0":se(l)?"<"+c+"."+(+u+1)+".0":p?"<="+c+"."+u+"."+l+"-"+p:"<="+s)).trim()}function ue(e,t,r){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(o=0;o<e.length;o++)if(n(e[o].semver),e[o].semver!==ie&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function le(e,t,n){try{t=new ae(t,n)}catch(e){return!1}return t.test(e)}function pe(e,t,n,r){var o,i,a,s,c;switch(e=new X(e,r),t=new ae(t,r),n){case">":o=$,i=ne,a=Z,s=">",c=">=";break;case"<":o=Z,i=te,a=$,s="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(le(e,t,r))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],p=null,f=null;if(l.forEach((function(e){e.semver===ie&&(e=new oe(">=0.0.0")),p=p||e,f=f||e,o(e.semver,p.semver,r)?p=e:a(e.semver,f.semver,r)&&(f=e)})),p.operator===s||p.operator===c||(!f.operator||f.operator===s)&&i(e,f.semver))return!1;if(f.operator===c&&a(e,f.semver))return!1}return!0}oe.prototype.parse=function(e){var t=this.options.loose?o[H]:o[V],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new X(n[2],this.options.loose):this.semver=ie},oe.prototype.toString=function(){return this.value},oe.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new X(e,this.options)),re(e,this.operator,this.semver,this.options))},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Comparator is required");var n;if((!t||"object"!=m(t))&&(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new ae(e.value,t),le(this.value,n,t);if(""===e.operator)return n=new ae(this.value,t),le(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||o||i&&a||s||c},e.Range=ae,ae.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ae.prototype.toString=function(){return this.range},ae.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?o[B]:o[G];e=e.replace(r,ce),n("hyphen replace",e),e=e.replace(o[q],"$1$2$3"),n("comparator trim",e,o[q]),e=(e=(e=e.replace(o[D],"$1~")).replace(o[L],"$1^")).split(/\s+/).join(" ");var i=t?o[H]:o[V],a=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t.loose?o[U]:o[j];return e.replace(r,(function(t,r,o,i,a){var s;return n("caret",e,t,r,o,i,a),se(r)?s="":se(o)?s=">="+r+".0.0 <"+(+r+1)+".0.0":se(i)?s="0"===r?">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0":">="+r+"."+o+".0 <"+(+r+1)+".0.0":a?(n("replaceCaret pr",a),s="0"===r?"0"===o?">="+r+"."+o+"."+i+"-"+a+" <"+r+"."+o+"."+(+i+1):">="+r+"."+o+"."+i+"-"+a+" <"+r+"."+(+o+1)+".0":">="+r+"."+o+"."+i+"-"+a+" <"+(+r+1)+".0.0"):(n("no pr"),s="0"===r?"0"===o?">="+r+"."+o+"."+i+" <"+r+"."+o+"."+(+i+1):">="+r+"."+o+"."+i+" <"+r+"."+(+o+1)+".0":">="+r+"."+o+"."+i+" <"+(+r+1)+".0.0"),n("caret return",s),s}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t.loose?o[M]:o[x];return e.replace(r,(function(t,r,o,i,a){var s;return n("tilde",e,t,r,o,i,a),se(r)?s="":se(o)?s=">="+r+".0.0 <"+(+r+1)+".0.0":se(i)?s=">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0":a?(n("replaceTilde pr",a),s=">="+r+"."+o+"."+i+"-"+a+" <"+r+"."+(+o+1)+".0"):s=">="+r+"."+o+"."+i+" <"+r+"."+(+o+1)+".0",n("tilde return",s),s}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t.loose?o[w]:o[P];return e.replace(r,(function(t,r,o,i,a,s){n("xRange",e,t,r,o,i,a,s);var c=se(o),u=c||se(i),l=u||se(a);return"="===r&&l&&(r=""),c?t=">"===r||"<"===r?"<0.0.0":"*":r&&l?(u&&(i=0),a=0,">"===r?(r=">=",u?(o=+o+1,i=0,a=0):(i=+i+1,a=0)):"<="===r&&(r="<",u?o=+o+1:i=+i+1),t=r+o+"."+i+"."+a):u?t=">="+o+".0.0 <"+(+o+1)+".0.0":l&&(t=">="+o+"."+i+".0 <"+o+"."+(+i+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(o[z],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(a=a.filter((function(e){return!!e.match(i)}))),a=a.map((function(e){return new oe(e,this.options)}),this)},ae.prototype.intersects=function(e,t){if(!(e instanceof ae))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new ae(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ae.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new X(e,this.options));for(var t=0;t<this.set.length;t++)if(ue(this.set[t],e,this.options))return!0;return!1},e.satisfies=le,e.maxSatisfying=function(e,t,n){var r=null,o=null;try{var i=new ae(t,n)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(!r||-1===o.compare(e))&&(o=new X(r=e,n))})),r},e.minSatisfying=function(e,t,n){var r=null,o=null;try{var i=new ae(t,n)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(!r||1===o.compare(e))&&(o=new X(r=e,n))})),r},e.minVersion=function(e,t){e=new ae(e,t);var n=new X("0.0.0");if(e.test(n)||(n=new X("0.0.0-0"),e.test(n)))return n;n=null;for(var r=0;r<e.set.length;++r){e.set[r].forEach((function(e){var t=new X(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!n||$(n,t))&&(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}return n&&e.test(n)?n:null},e.validRange=function(e,t){try{return new ae(e,t).range||"*"}catch(e){return null}},e.ltr=function(e,t,n){return pe(e,t,"<",n)},e.gtr=function(e,t,n){return pe(e,t,">",n)},e.outside=pe,e.prerelease=function(e,t){var n=K(e,t);return n&&n.prerelease.length?n.prerelease:null},e.intersects=function(e,t,n){return e=new ae(e,n),t=new ae(t,n),e.intersects(t)},e.coerce=function(e){if(e instanceof X)return e;if("string"!=typeof e)return null;var t=e.match(o[R]);return null==t?null:K(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),yr=j((function(e,t){"use strict";function n(e){return"function"==typeof e}var r=console.error.bind(console);function o(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function i(e){e&&e.logger&&(n(e.logger)?r=e.logger:r("new logger isn't a function, not replacing"))}function a(e,t,i){if(e&&e[t]){if(!i)return r("no wrapper function"),void r((new Error).stack);if(n(e[t])&&n(i)){var a=e[t],s=i(a,t);return o(s,"__original",a),o(s,"__unwrap",(function(){e[t]===s&&o(e,t,a)})),o(s,"__wrapped",!0),o(e,t,s),s}r("original object and wrapper must be functions")}else r("no original function "+t+" to wrap")}function s(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void r("no original to unwrap to -- has "+t+" already been unwrapped?"):(r("no function to unwrap."),void r((new Error).stack))}i.wrap=a,i.massWrap=function(e,t,n){if(!e)return r("must provide one or more modules to patch"),void r((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){a(e,t,n)}))})):r("must provide one or more functions to wrap on modules")},i.unwrap=s,i.massUnwrap=function(e,t){if(!e)return r("must provide one or more modules to patch"),void r((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){s(e,t)}))})):r("must provide one or more functions to unwrap on modules")},t.exports=i})),gr=j((function(e,t){"use strict";var n=yr(),r=n.wrap,o=n.unwrap,i="wrap@before";function a(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function s(e,t){var n;return n=e._events&&e._events[t],Array.isArray(n)||(n=n?[n]:[]),n}function c(e,t,n){var r=s(e,t).filter((function(e){return-1===n.indexOf(e)}));r.length>0&&function(e,t){for(var n=t.length,r=0;r<n;r++){var o=t[r],a=e[i];if("function"==typeof a)a(o);else if(Array.isArray(a))for(var s=a.length,c=0;c<s;c++)a[c](o)}}(e,r)}function u(e,t){if(e){var n=e;if("function"==typeof e)n=t(e);else if(Array.isArray(e)){n=[];for(var r=0;r<e.length;r++)n[r]=t(e[r])}return n}}t.exports=function(e,t,n){if(!(e&&e.on&&e.addListener&&e.removeListener&&e.emit))throw new Error("can only wrap real EEs");if(!t)throw new Error("must have function to run on listener addition");if(!n)throw new Error("must have function to wrap listeners when emitting");function l(e){return function(t,n){var o=s(this,t).slice();try{var i=e.call(this,t,n);return c(this,t,o),i}finally{this.on.__wrapped||r(this,"on",l),this.addListener.__wrapped||r(this,"addListener",l)}}}e[i]?"function"==typeof e[i]?a(e,i,[e[i],t]):Array.isArray(e[i])&&e[i].push(t):a(e,i,t),e.__wrapped||(r(e,"addListener",l),r(e,"on",l),r(e,"emit",(function(e){return function(t){if(!this._events||!this._events[t])return e.apply(this,arguments);var i=this._events[t];function a(e){return function(){this._events[t]=i;try{return e.apply(this,arguments)}finally{i=this._events[t],this._events[t]=u(i,n)}}}r(this,"removeListener",a);try{return this._events[t]=u(i,n),e.apply(this,arguments)}finally{o(this,"removeListener"),this._events[t]=i}}})),a(e,"__unwrap",(function(){o(e,"addListener"),o(e,"on"),o(e,"emit"),delete e[i],delete e.__wrapped})),a(e,"__wrapped",!0))}})),mr=j((function(e,t){"use strict";var r=n(1),o=n(26),i=gr(),a=n(57),s="cls@contexts",c="error@context",u=process.env.DEBUG_CLS_HOOKED,l=-1;function p(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}function f(e){return process.namespaces[e]}function d(e){var t=f(e);o.ok(t,"can't delete nonexistent namespace! \""+e+'"'),o.ok(t.id,"don't assign to process.namespaces directly! "+r.inspect(t)),process.namespaces[e]=null}function h(){u&&process._rawDebug("".concat(r.format.apply(r,arguments)))}t.exports={getNamespace:f,createNamespace:function(e){o.ok(e,"namespace must be given a name."),u&&h("NS-CREATING NAMESPACE (".concat(e,")"));var t=new p(e);return t.id=l,a.createHook({init:function(n,o,i,s){if(l=a.executionAsyncId(),t.active){if(t._contexts.set(n,t.active),u){var c=" ".repeat(t._indent<0?0:t._indent);h("".concat(c,"INIT [").concat(o,"] (").concat(e,") asyncId:").concat(n," currentUid:").concat(l," triggerId:").concat(i," active:").concat(r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})," resource:").concat(s))}}else if(0===l){var p=a.triggerAsyncId(),f=t._contexts.get(p);if(f){if(t._contexts.set(n,f),u){var d=" ".repeat(t._indent<0?0:t._indent);h("".concat(d,"INIT USING CONTEXT FROM TRIGGERID [").concat(o,"] (").concat(e,") asyncId:").concat(n," currentUid:").concat(l," triggerId:").concat(p," active:").concat(r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})," resource:").concat(s))}}else if(u){var v=" ".repeat(t._indent<0?0:t._indent);h("".concat(v,"INIT MISSING CONTEXT [").concat(o,"] (").concat(e,") asyncId:").concat(n," currentUid:").concat(l," triggerId:").concat(p," active:").concat(r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})," resource:").concat(s))}}if(u&&"PROMISE"===o){h(r.inspect(s,{showHidden:!0}));var _=s.parentId,y=" ".repeat(t._indent<0?0:t._indent);h("".concat(y,"INIT RESOURCE-PROMISE [").concat(o,"] (").concat(e,") parentId:").concat(_," asyncId:").concat(n," currentUid:").concat(l," triggerId:").concat(i," active:").concat(r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})," resource:").concat(s))}},before:function(n){var o;if(l=a.executionAsyncId(),o=t._contexts.get(n)||t._contexts.get(l)){if(u){var i=a.triggerAsyncId(),s=" ".repeat(t._indent<0?0:t._indent);h("".concat(s,"BEFORE (").concat(e,") asyncId:").concat(n," currentUid:").concat(l," triggerId:").concat(i," active:").concat(r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})," context:").concat(r.inspect(o))),t._indent+=2}t.enter(o)}else if(u){var c=a.triggerAsyncId(),p=" ".repeat(t._indent<0?0:t._indent);h("".concat(p,"BEFORE MISSING CONTEXT (").concat(e,") asyncId:").concat(n," currentUid:").concat(l," triggerId:").concat(c," active:").concat(r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})," namespace._contexts:").concat(r.inspect(t._contexts,{showHidden:!0,depth:2,colors:!0}))),t._indent+=2}},after:function(n){var o;if(l=a.executionAsyncId(),o=t._contexts.get(n)||t._contexts.get(l)){if(u){var i=a.triggerAsyncId();t._indent-=2;var s=" ".repeat(t._indent<0?0:t._indent);h("".concat(s,"AFTER (").concat(e,") asyncId:").concat(n," currentUid:").concat(l," triggerId:").concat(i," active:").concat(r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})," context:").concat(r.inspect(o)))}t.exit(o)}else if(u){var c=a.triggerAsyncId();t._indent-=2;var p=" ".repeat(t._indent<0?0:t._indent);h("".concat(p,"AFTER MISSING CONTEXT (").concat(e,") asyncId:").concat(n," currentUid:").concat(l," triggerId:").concat(c," active:").concat(r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})," context:").concat(r.inspect(o)))}},destroy:function(n){if(l=a.executionAsyncId(),u){var o=a.triggerAsyncId(),i=" ".repeat(t._indent<0?0:t._indent);h("".concat(i,"DESTROY (").concat(e,") currentUid:").concat(l," asyncId:").concat(n," triggerId:").concat(o," active:").concat(r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})," context:").concat(r.inspect(t._contexts.get(l))))}t._contexts.delete(n)}}).enable(),process.namespaces[e]=t,t},destroyNamespace:d,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){d(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:c},p.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");(this.active[e]=t,u)&&h(" ".repeat(this._indent<0?0:this._indent)+"CONTEXT-SET KEY:"+e+"="+t+" in ns:"+this.name+" currentUid:"+l+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0}));return t},p.prototype.get=function(e){if(this.active){if(u){var t=a.executionAsyncId(),n=a.triggerAsyncId(),o=" ".repeat(this._indent<0?0:this._indent);h(o+"CONTEXT-GETTING KEY:"+e+"="+this.active[e]+" ("+this.name+") currentUid:"+l+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),h("".concat(o,"CONTEXT-GETTING KEY: (").concat(this.name,") ").concat(e,"=").concat(this.active[e]," currentUid:").concat(l," asyncHooksCurrentId:").concat(t," triggerId:").concat(n," len:").concat(this._set.length," active:").concat(r.inspect(this.active)))}return this.active[e]}if(u){var i=a.currentId(),s=a.triggerAsyncId(),c=" ".repeat(this._indent<0?0:this._indent);h("".concat(c,"CONTEXT-GETTING KEY NO ACTIVE NS: (").concat(this.name,") ").concat(e,"=undefined currentUid:").concat(l," asyncHooksCurrentId:").concat(i," triggerId:").concat(s," len:").concat(this._set.length))}},p.prototype.createContext=function(){var e=Object.create(this.active?this.active:Object.prototype);if(e._ns_name=this.name,e.id=l,u){var t=a.executionAsyncId(),n=a.triggerAsyncId(),o=" ".repeat(this._indent<0?0:this._indent);h("".concat(o,"CONTEXT-CREATED Context: (").concat(this.name,") currentUid:").concat(l," asyncHooksCurrentId:").concat(t," triggerId:").concat(n," len:").concat(this._set.length," context:").concat(r.inspect(e,{showHidden:!0,depth:2,colors:!0})))}return e},p.prototype.run=function(e){var t=this.createContext();this.enter(t);try{if(u){var n=a.triggerAsyncId(),o=a.executionAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);h("".concat(i,"CONTEXT-RUN BEGIN: (").concat(this.name,") currentUid:").concat(l," triggerId:").concat(n," asyncHooksCurrentId:").concat(o," len:").concat(this._set.length," context:").concat(r.inspect(t)))}return e(t),t}catch(n){throw n&&(n[c]=t),n}finally{if(u){var s=a.triggerAsyncId(),p=a.executionAsyncId(),f=" ".repeat(this._indent<0?0:this._indent);h("".concat(f,"CONTEXT-RUN END: (").concat(this.name,") currentUid:").concat(l," triggerId:").concat(s," asyncHooksCurrentId:").concat(p," len:").concat(this._set.length," ").concat(r.inspect(t)))}this.exit(t)}},p.prototype.runAndReturn=function(e){var t;return this.run((function(n){t=e(n)})),t},p.prototype.runPromise=function(e){var t=this,n=this.createContext();this.enter(n);var o=e(n);if(!o||!o.then||!o.catch)throw new Error("fn must return a promise.");return u&&h("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+r.inspect(n)),o.then((function(e){return u&&h("CONTEXT-runPromise AFTER then: ("+t.name+") currentUid:"+l+" len:"+t._set.length+" "+r.inspect(n)),t.exit(n),e})).catch((function(e){throw e[c]=n,u&&h("CONTEXT-runPromise AFTER catch: ("+t.name+") currentUid:"+l+" len:"+t._set.length+" "+r.inspect(n)),t.exit(n),e}))},p.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());var n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[c]=t),e}finally{n.exit(t)}}},p.prototype.enter=function(e){if(o.ok(e,"context must be provided for entering"),u){var t=a.executionAsyncId(),n=a.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);h("".concat(i,"CONTEXT-ENTER: (").concat(this.name,") currentUid:").concat(l," triggerId:").concat(n," asyncHooksCurrentId:").concat(t," len:").concat(this._set.length," ").concat(r.inspect(e)))}this._set.push(this.active),this.active=e},p.prototype.exit=function(e){if(o.ok(e,"context must be provided for exiting"),u){var t=a.executionAsyncId(),n=a.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);h("".concat(i,"CONTEXT-EXIT: (").concat(this.name,") currentUid:").concat(l," triggerId:").concat(n," asyncHooksCurrentId:").concat(t," len:").concat(this._set.length," ").concat(r.inspect(e)))}if(this.active===e)return o.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());var s=this._set.lastIndexOf(e);s<0?(u&&h("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(e)),o.ok(s>=0,"context not currently entered; can't exit. \n"+r.inspect(this)+"\n"+r.inspect(e))):(o.ok(s,"can't remove top context"),this._set.splice(s,1))},p.prototype.bindEmitter=function(e){o.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");var t=this,n="context@"+this.name;i(e,(function(e){!e||(e[s]||(e[s]=Object.create(null)),e[s][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e[s])return e;var t=e,n=e[s];return Object.keys(n).forEach((function(e){var r=n[e];t=r.namespace.bind(t,r.context)})),t}))},p.prototype.fromException=function(e){return e[c]},process.namespaces={}})),Er=j((function(e,t){"use strict";function n(){}t.exports=function(){var e=this._hooks,t=this._state,r=process.nextTick;process.nextTick=function(){if(!t.enabled)return r.apply(process,arguments);for(var o=new Array(arguments.length),i=0;i<arguments.length;i++)o[i]=arguments[i];var a=o[0];if("function"!=typeof a)throw new TypeError("callback is not a function");var s=new n,c=--t.counter;return e.init.call(s,c,0,null,null),o[0]=function(){e.pre.call(s,c);var t=!0;try{a.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(s,c,!0),e.destroy.call(null,c)}))}e.post.call(s,c,!1),e.destroy.call(null,c)},r.apply(process,o)}}})),br=j((function(e,t){"use strict";function n(){}t.exports=function(){var e=this._hooks,t=this._state,r=global.Promise,o=r.prototype.then;function i(t,n,r,o){return"function"!=typeof t?o?function(t){return function(n){return e.destroy.call(null,t),n}}(r):function(t){return function(n){throw e.destroy.call(null,t),n}}(r):function(){e.pre.call(n,r);try{return t.apply(this,arguments)}finally{e.post.call(n,r,!1),e.destroy.call(null,r)}}}r.prototype.then=function(r,a){if(!t.enabled)return o.call(this,r,a);var s=new n,c=--t.counter;return e.init.call(s,c,0,null,null),o.call(this,i(r,s,c,!0),i(a,s,c,!1))}}})),Tr=j((function(e,t){"use strict";var r=n(92);function o(){}function i(){}function a(){}var s=new Map,c=new Map,u=new Map,l=null,p=!1;function f(e,t,n,o,i,a,s){var c=r[n],u=r[o];r[n]=function(){if(!t.enabled)return c.apply(r,arguments);for(var n=new Array(arguments.length),o=0;o<arguments.length;o++)n[o]=arguments[o];var u=n[0];if("function"!=typeof u)throw new TypeError('"callback" argument must be a function');var f,d=new i,h=--t.counter;return e.init.call(d,h,0,null,null),n[0]=function(){l=f,e.pre.call(d,h);var t=!0;try{u.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(d,h,!0),a.delete(f),e.destroy.call(null,h)}))}e.post.call(d,h,!1),l=null,(s||p)&&(p=!1,a.delete(f),e.destroy.call(null,h))},f=c.apply(r,n),a.set(f,h),f},r[o]=function(t){if(l===t&&null!==t)p=!0;else if(a.has(t)){var n=a.get(t);a.delete(t),e.destroy.call(null,n)}u.apply(r,arguments)}}t.exports=function(){f(this._hooks,this._state,"setTimeout","clearTimeout",o,s,!0),f(this._hooks,this._state,"setInterval","clearInterval",i,c,!1),f(this._hooks,this._state,"setImmediate","clearImmediate",a,u,!0),global.setTimeout=r.setTimeout,global.setInterval=r.setInterval,global.setImmediate=r.setImmediate,global.clearTimeout=r.clearTimeout,global.clearInterval=r.clearInterval,global.clearImmediate=r.clearImmediate}})),Sr=j((function(e,t){t.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}})),Ar=j((function(e,t){"use strict";var n=process.binding("async_wrap"),r=n.Providers.TIMERWRAP,o={nextTick:Er(),promise:br(),timers:Tr()},i=new Set;function a(){this.enabled=!1,this.counter=0}function s(){var e=this.initFns=[],t=this.preFns=[],n=this.postFns=[],o=this.destroyFns=[];this.init=function(t,n,o,a){if(n!==r)for(var s=0,c=e;s<c.length;s++){(0,c[s])(t,this,n,o,a)}else i.add(t)},this.pre=function(e){if(!i.has(e))for(var n=0,r=t;n<r.length;n++){(0,r[n])(e,this)}},this.post=function(e,t){if(!i.has(e))for(var r=0,o=n;r<o.length;r++){(0,o[r])(e,this,t)}},this.destroy=function(e){if(i.has(e))i.delete(e);else for(var t=0,n=o;t<n.length;t++){(0,n[t])(e)}}}function c(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}function u(){this._state=new a,this._hooks=new s,this.version=Sr().version,this.providers=n.Providers;for(var e=0,t=Object.keys(o);e<t.length;e++){var r=t[e];o[r].call(this)}process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),n.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}s.prototype.add=function(e){e.init&&this.initFns.push(e.init),e.pre&&this.preFns.push(e.pre),e.post&&this.postFns.push(e.post),e.destroy&&this.destroyFns.push(e.destroy)},s.prototype.remove=function(e){e.init&&c(this.initFns,e.init),e.pre&&c(this.preFns,e.pre),e.post&&c(this.postFns,e.post),e.destroy&&c(this.destroyFns,e.destroy)},t.exports=u,u.prototype.addHooks=function(e){this._hooks.add(e)},u.prototype.removeHooks=function(e){this._hooks.remove(e)},u.prototype.enable=function(){this._state.enabled=!0,n.enable()},u.prototype.disable=function(){this._state.enabled=!1,n.disable()}})),Ir=j((function(e,t){t.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}})),Or=j((function(e,t){t.exports=function(e,t){var n=[];n.push(function(e){try{return Error.prototype.toString.call(e)}catch(e){try{return"<error: "+e+">"}catch(e){return"<error>"}}}(e));for(var r=0;r<t.length;r++){var o,i=t[r];try{o=i.toString()}catch(e){try{o="<error: "+e+">"}catch(e){o="<error>"}}n.push("    at "+o)}return n.join("\n")}})),Cr=j((function(e,t){var n=Or();function r(){this.extend=new a,this.filter=new a,this.format=new s,this.version=Ir().version}var o=!1;r.prototype.callSite=function e(t){t||(t={}),o=!0;var n={};Error.captureStackTrace(n,e);var r=n.stack;return o=!1,r=r.slice(t.slice||0),t.extend&&(r=this.extend._modify(n,r)),t.filter&&(r=this.filter._modify(n,r)),r};var i=new r;function a(){this._modifiers=[]}function s(){this._formater=n,this._previous=void 0}a.prototype._modify=function(e,t){for(var n=0,r=this._modifiers.length;n<r;n++)t=this._modifiers[n](e,t);return t},a.prototype.attach=function(e){this._modifiers.push(e)},a.prototype.deattach=function(e){var t=this._modifiers.indexOf(e);return-1!==t&&(this._modifiers.splice(t,1),!0)},s.prototype.replace=function(e){e?this._formater=e:this.restore()},s.prototype.restore=function(){this._formater=n,this._previous=void 0},s.prototype._backup=function(){this._previous=this._formater},s.prototype._roolback=function(){this._previous===n?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&i.format.replace(Error.prepareStackTrace);var c=!1;function u(e,t){if(o)return t;if(c)return n(e,t);var r=t.concat();r=i.extend._modify(e,r),r=(r=i.filter._modify(e,r)).slice(0,Error.stackTraceLimit),Object.isExtensible(e)&&void 0===Object.getOwnPropertyDescriptor(e,"callSite")&&(e.callSite={original:t,mutated:r}),c=!0;var a=i.format._formater(e,r);return c=!1,a}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return u},set:function(e){e===u?i.format._roolback():(i.format._backup(),i.format.replace(e))}}),Object.defineProperty(Error.prototype,"callSite",{get:function(){return this.stack,this.callSite},set:function(e){Object.defineProperty(this,"callSite",{value:e,writable:!0,configurable:!0})},configurable:!0}),t.exports=i})),Pr=j((function(e,t){if(global._stackChain){if(global._stackChain.version!==Ir().version)throw new Error("Conflicting version of stack-chain found");t.exports=global._stackChain}else t.exports=global._stackChain=Cr()})),wr=j((function(e,n){"use strict";var r=Ar();if(global._asyncHook){if(global._asyncHook.version!==Sr().version)throw new Error("Conflicting version of async-hook-jl found");n.exports=global._asyncHook}else Pr().filter.attach((function(e,n){return n.filter((function(e){var n=e.getFileName();return!(n&&n.slice(0,t.length)===t)}))})),n.exports=global._asyncHook=new r})),Rr=j((function(e,t){"use strict";var r=n(1),o=n(26),i=gr(),a=wr(),s="cls@contexts",c="error@context",u=[];for(var l in a.providers)u[a.providers[l]]=l;var p,f,d=process.env.DEBUG_CLS_HOOKED,h=-1;function v(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map}function _(e){return process.namespaces[e]}function y(e){var t=_(e);o.ok(t,"can't delete nonexistent namespace! \""+e+'"'),o.ok(t.id,"don't assign to process.namespaces directly! "+r.inspect(t)),process.namespaces[e]=null}function g(e){process.env.DEBUG&&process._rawDebug(e)}function m(e){return e?"function"==typeof e?e.name?e.name:(e.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]:e.constructor&&e.constructor.name?e.constructor.name:void 0:e}if(t.exports={getNamespace:_,createNamespace:function(e){o.ok(e,"namespace must be given a name."),d&&g("CREATING NAMESPACE "+e);var t=new v(e);return t.id=h,a.addHooks({init:function(n,o,i,a,s){h=n,a?(t._contexts.set(n,t._contexts.get(a)),d&&g("PARENTID: "+e+" uid:"+n+" parent:"+a+" provider:"+i)):t._contexts.set(h,t.active),d&&g("INIT "+e+" uid:"+n+" parent:"+a+" provider:"+u[i]+" active:"+r.inspect(t.active,!0))},pre:function(n,o){h=n;var i=t._contexts.get(n);i?(d&&g(" PRE "+e+" uid:"+n+" handle:"+m(o)+" context:"+r.inspect(i)),t.enter(i)):d&&g(" PRE MISSING CONTEXT "+e+" uid:"+n+" handle:"+m(o))},post:function(n,o){h=n;var i=t._contexts.get(n);i?(d&&g(" POST "+e+" uid:"+n+" handle:"+m(o)+" context:"+r.inspect(i)),t.exit(i)):d&&g(" POST MISSING CONTEXT "+e+" uid:"+n+" handle:"+m(o))},destroy:function(n){h=n,d&&g("DESTROY "+e+" uid:"+n+" context:"+r.inspect(t._contexts.get(h))+" active:"+r.inspect(t.active,!0)),t._contexts.delete(n)}}),process.namespaces[e]=t,t},destroyNamespace:y,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){y(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:c},v.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return d&&g("    SETTING KEY:"+e+"="+t+" in ns:"+this.name+" uid:"+h+" active:"+r.inspect(this.active,!0)),this.active[e]=t,t},v.prototype.get=function(e){if(this.active)return d&&g("    GETTING KEY:"+e+"="+this.active[e]+" "+this.name+" uid:"+h+" active:"+r.inspect(this.active,!0)),this.active[e];d&&g("    GETTING KEY:"+e+"=undefined "+this.name+" uid:"+h+" active:"+r.inspect(this.active,!0))},v.prototype.createContext=function(){d&&g("   CREATING Context: "+this.name+" uid:"+h+" len:"+this._set.length+"  active:"+r.inspect(this.active,!0,2,!0));var e=Object.create(this.active?this.active:Object.prototype);return e._ns_name=this.name,e.id=h,d&&g("   CREATED Context: "+this.name+" uid:"+h+" len:"+this._set.length+"  context:"+r.inspect(e,!0,2,!0)),e},v.prototype.run=function(e){var t=this.createContext();this.enter(t);try{return d&&g(" BEFORE RUN: "+this.name+" uid:"+h+" len:"+this._set.length+" "+r.inspect(t)),e(t),t}catch(e){throw e&&(e[c]=t),e}finally{d&&g(" AFTER RUN: "+this.name+" uid:"+h+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t)}},v.prototype.runAndReturn=function(e){var t;return this.run((function(n){t=e(n)})),t},v.prototype.runPromise=function(e){var t=this,n=this.createContext();this.enter(n);var o=e(n);if(!o||!o.then||!o.catch)throw new Error("fn must return a promise.");return d&&g(" BEFORE runPromise: "+this.name+" uid:"+h+" len:"+this._set.length+" "+r.inspect(n)),o.then((function(e){return d&&g(" AFTER runPromise: "+t.name+" uid:"+h+" len:"+t._set.length+" "+r.inspect(n)),t.exit(n),e})).catch((function(e){throw e[c]=n,d&&g(" AFTER runPromise: "+t.name+" uid:"+h+" len:"+t._set.length+" "+r.inspect(n)),t.exit(n),e}))},v.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());var n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[c]=t),e}finally{n.exit(t)}}},v.prototype.enter=function(e){o.ok(e,"context must be provided for entering"),d&&g("  ENTER "+this.name+" uid:"+h+" len:"+this._set.length+" context: "+r.inspect(e)),this._set.push(this.active),this.active=e},v.prototype.exit=function(e){if(o.ok(e,"context must be provided for exiting"),d&&g("  EXIT "+this.name+" uid:"+h+" len:"+this._set.length+" context: "+r.inspect(e)),this.active===e)return o.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());var t=this._set.lastIndexOf(e);t<0?(d&&g("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(e)),o.ok(t>=0,"context not currently entered; can't exit. \n"+r.inspect(this)+"\n"+r.inspect(e))):(o.ok(t,"can't remove top context"),this._set.splice(t,1))},v.prototype.bindEmitter=function(e){o.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");var t=this,n="context@"+this.name;i(e,(function(e){!e||(e[s]||(e[s]=Object.create(null)),e[s][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e[s])return e;var t=e,n=e[s];return Object.keys(n).forEach((function(e){var r=n[e];t=r.namespace.bind(t,r.context)})),t}))},v.prototype.fromException=function(e){return e[c]},process.namespaces={},a._state&&!a._state.enabled&&a.enable(),d)for(f in(p=Pr()).filter._modifiers)p.filter.deattach(f)})),Nr=j((function(e,t){"use strict";var n=_r();process&&n.gte(process.versions.node,"8.0.0")?t.exports=mr():t.exports=Rr()})),Dr=j((function(e,t){var n;e=t.exports=X,n="object"==("undefined"==typeof process?"undefined":m(process))&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var r=Number.MAX_SAFE_INTEGER||9007199254740991,o=e.re=[],i=e.src=[],a=0,s=a++;i[s]="0|[1-9]\\d*";var c=a++;i[c]="[0-9]+";var u=a++;i[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=a++;i[l]="("+i[s]+")\\.("+i[s]+")\\.("+i[s]+")";var p=a++;i[p]="("+i[c]+")\\.("+i[c]+")\\.("+i[c]+")";var f=a++;i[f]="(?:"+i[s]+"|"+i[u]+")";var d=a++;i[d]="(?:"+i[c]+"|"+i[u]+")";var h=a++;i[h]="(?:-("+i[f]+"(?:\\."+i[f]+")*))";var v=a++;i[v]="(?:-?("+i[d]+"(?:\\."+i[d]+")*))";var _=a++;i[_]="[0-9A-Za-z-]+";var y=a++;i[y]="(?:\\+("+i[_]+"(?:\\."+i[_]+")*))";var g=a++,E="v?"+i[l]+i[h]+"?"+i[y]+"?";i[g]="^"+E+"$";var b="[v=\\s]*"+i[p]+i[v]+"?"+i[y]+"?",T=a++;i[T]="^"+b+"$";var S=a++;i[S]="((?:<|>)?=?)";var A=a++;i[A]=i[c]+"|x|X|\\*";var I=a++;i[I]=i[s]+"|x|X|\\*";var O=a++;i[O]="[v=\\s]*("+i[I]+")(?:\\.("+i[I]+")(?:\\.("+i[I]+")(?:"+i[h]+")?"+i[y]+"?)?)?";var C=a++;i[C]="[v=\\s]*("+i[A]+")(?:\\.("+i[A]+")(?:\\.("+i[A]+")(?:"+i[v]+")?"+i[y]+"?)?)?";var P=a++;i[P]="^"+i[S]+"\\s*"+i[O]+"$";var w=a++;i[w]="^"+i[S]+"\\s*"+i[C]+"$";var R=a++;i[R]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var N=a++;i[N]="(?:~>?)";var D=a++;i[D]="(\\s*)"+i[N]+"\\s+",o[D]=new RegExp(i[D],"g");var x=a++;i[x]="^"+i[N]+i[O]+"$";var M=a++;i[M]="^"+i[N]+i[C]+"$";var k=a++;i[k]="(?:\\^)";var L=a++;i[L]="(\\s*)"+i[k]+"\\s+",o[L]=new RegExp(i[L],"g");var j=a++;i[j]="^"+i[k]+i[O]+"$";var U=a++;i[U]="^"+i[k]+i[C]+"$";var H=a++;i[H]="^"+i[S]+"\\s*("+b+")$|^$";var V=a++;i[V]="^"+i[S]+"\\s*("+E+")$|^$";var q=a++;i[q]="(\\s*)"+i[S]+"\\s*("+b+"|"+i[O]+")",o[q]=new RegExp(i[q],"g");var G=a++;i[G]="^\\s*("+i[O]+")\\s+-\\s+("+i[O]+")\\s*$";var B=a++;i[B]="^\\s*("+i[C]+")\\s+-\\s+("+i[C]+")\\s*$";var F,z=a++;for(i[z]="(<|>)?=?\\s*\\*",F=0;F<35;F++)n(F,i[F]),o[F]||(o[F]=new RegExp(i[F]));function K(e,t){if((!t||"object"!=m(t))&&(t={loose:!!t,includePrerelease:!1}),e instanceof X)return e;if("string"!=typeof e||e.length>256)return null;if(!(t.loose?o[T]:o[g]).test(e))return null;try{return new X(e,t)}catch(e){return null}}function X(e,t){if((!t||"object"!=m(t))&&(t={loose:!!t,includePrerelease:!1}),e instanceof X){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof X))return new X(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var i=e.trim().match(t.loose?o[T]:o[g]);if(!i)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<r)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}e.parse=K,e.valid=function(e,t){var n=K(e,t);return n?n.version:null},e.clean=function(e,t){var n=K(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},e.SemVer=X,X.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},X.prototype.toString=function(){return this.version},X.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof X||(e=new X(e,this.options)),this.compareMain(e)||this.comparePre(e)},X.prototype.compareMain=function(e){return e instanceof X||(e=new X(e,this.options)),Q(this.major,e.major)||Q(this.minor,e.minor)||Q(this.patch,e.patch)},X.prototype.comparePre=function(e){if(e instanceof X||(e=new X(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return Q(r,o)}while(++t)},X.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new X(e,n).inc(t,r).version}catch(e){return null}},e.diff=function(e,t){if(J(e,t))return null;var n=K(e),r=K(t),o="";if(n.prerelease.length||r.prerelease.length){o="pre";var i="prerelease"}for(var a in n)if(("major"===a||"minor"===a||"patch"===a)&&n[a]!==r[a])return o+a;return i},e.compareIdentifiers=Q;var Y=/^[0-9]+$/;function Q(e,t){var n=Y.test(e),r=Y.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function W(e,t,n){return new X(e,n).compare(new X(t,n))}function $(e,t,n){return W(e,t,n)>0}function Z(e,t,n){return W(e,t,n)<0}function J(e,t,n){return 0===W(e,t,n)}function ee(e,t,n){return 0!==W(e,t,n)}function te(e,t,n){return W(e,t,n)>=0}function ne(e,t,n){return W(e,t,n)<=0}function re(e,t,n,r){switch(t){case"===":return"object"==m(e)&&(e=e.version),"object"==m(n)&&(n=n.version),e===n;case"!==":return"object"==m(e)&&(e=e.version),"object"==m(n)&&(n=n.version),e!==n;case"":case"=":case"==":return J(e,n,r);case"!=":return ee(e,n,r);case">":return $(e,n,r);case">=":return te(e,n,r);case"<":return Z(e,n,r);case"<=":return ne(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function oe(e,t){if((!t||"object"!=m(t))&&(t={loose:!!t,includePrerelease:!1}),e instanceof oe){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof oe))return new oe(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}e.rcompareIdentifiers=function(e,t){return Q(t,e)},e.major=function(e,t){return new X(e,t).major},e.minor=function(e,t){return new X(e,t).minor},e.patch=function(e,t){return new X(e,t).patch},e.compare=W,e.compareLoose=function(e,t){return W(e,t,!0)},e.rcompare=function(e,t,n){return W(t,e,n)},e.sort=function(t,n){return t.sort((function(t,r){return e.compare(t,r,n)}))},e.rsort=function(t,n){return t.sort((function(t,r){return e.rcompare(t,r,n)}))},e.gt=$,e.lt=Z,e.eq=J,e.neq=ee,e.gte=te,e.lte=ne,e.cmp=re,e.Comparator=oe;var ie={};function ae(e,t){if((!t||"object"!=m(t))&&(t={loose:!!t,includePrerelease:!1}),e instanceof ae)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ae(e.raw,t);if(e instanceof oe)return new ae(e.value,t);if(!(this instanceof ae))return new ae(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ce(e,t,n,r,o,i,a,s,c,u,l,p,f){return((t=se(n)?"":se(r)?">="+n+".0.0":se(o)?">="+n+"."+r+".0":">="+t)+" "+(s=se(c)?"":se(u)?"<"+(+c+1)+".0.0":se(l)?"<"+c+"."+(+u+1)+".0":p?"<="+c+"."+u+"."+l+"-"+p:"<="+s)).trim()}function ue(e,t,r){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(o=0;o<e.length;o++)if(n(e[o].semver),e[o].semver!==ie&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function le(e,t,n){try{t=new ae(t,n)}catch(e){return!1}return t.test(e)}function pe(e,t,n,r){var o,i,a,s,c;switch(e=new X(e,r),t=new ae(t,r),n){case">":o=$,i=ne,a=Z,s=">",c=">=";break;case"<":o=Z,i=te,a=$,s="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(le(e,t,r))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],p=null,f=null;if(l.forEach((function(e){e.semver===ie&&(e=new oe(">=0.0.0")),p=p||e,f=f||e,o(e.semver,p.semver,r)?p=e:a(e.semver,f.semver,r)&&(f=e)})),p.operator===s||p.operator===c||(!f.operator||f.operator===s)&&i(e,f.semver))return!1;if(f.operator===c&&a(e,f.semver))return!1}return!0}oe.prototype.parse=function(e){var t=this.options.loose?o[H]:o[V],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new X(n[2],this.options.loose):this.semver=ie},oe.prototype.toString=function(){return this.value},oe.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new X(e,this.options)),re(e,this.operator,this.semver,this.options))},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Comparator is required");var n;if((!t||"object"!=m(t))&&(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new ae(e.value,t),le(this.value,n,t);if(""===e.operator)return n=new ae(this.value,t),le(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||o||i&&a||s||c},e.Range=ae,ae.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ae.prototype.toString=function(){return this.range},ae.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?o[B]:o[G];e=e.replace(r,ce),n("hyphen replace",e),e=e.replace(o[q],"$1$2$3"),n("comparator trim",e,o[q]),e=(e=(e=e.replace(o[D],"$1~")).replace(o[L],"$1^")).split(/\s+/).join(" ");var i=t?o[H]:o[V],a=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t.loose?o[U]:o[j];return e.replace(r,(function(t,r,o,i,a){var s;return n("caret",e,t,r,o,i,a),se(r)?s="":se(o)?s=">="+r+".0.0 <"+(+r+1)+".0.0":se(i)?s="0"===r?">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0":">="+r+"."+o+".0 <"+(+r+1)+".0.0":a?(n("replaceCaret pr",a),s="0"===r?"0"===o?">="+r+"."+o+"."+i+"-"+a+" <"+r+"."+o+"."+(+i+1):">="+r+"."+o+"."+i+"-"+a+" <"+r+"."+(+o+1)+".0":">="+r+"."+o+"."+i+"-"+a+" <"+(+r+1)+".0.0"):(n("no pr"),s="0"===r?"0"===o?">="+r+"."+o+"."+i+" <"+r+"."+o+"."+(+i+1):">="+r+"."+o+"."+i+" <"+r+"."+(+o+1)+".0":">="+r+"."+o+"."+i+" <"+(+r+1)+".0.0"),n("caret return",s),s}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t.loose?o[M]:o[x];return e.replace(r,(function(t,r,o,i,a){var s;return n("tilde",e,t,r,o,i,a),se(r)?s="":se(o)?s=">="+r+".0.0 <"+(+r+1)+".0.0":se(i)?s=">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0":a?(n("replaceTilde pr",a),s=">="+r+"."+o+"."+i+"-"+a+" <"+r+"."+(+o+1)+".0"):s=">="+r+"."+o+"."+i+" <"+r+"."+(+o+1)+".0",n("tilde return",s),s}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t.loose?o[w]:o[P];return e.replace(r,(function(t,r,o,i,a,s){n("xRange",e,t,r,o,i,a,s);var c=se(o),u=c||se(i),l=u||se(a);return"="===r&&l&&(r=""),c?t=">"===r||"<"===r?"<0.0.0":"*":r&&l?(u&&(i=0),a=0,">"===r?(r=">=",u?(o=+o+1,i=0,a=0):(i=+i+1,a=0)):"<="===r&&(r="<",u?o=+o+1:i=+i+1),t=r+o+"."+i+"."+a):u?t=">="+o+".0.0 <"+(+o+1)+".0.0":l&&(t=">="+o+"."+i+".0 <"+o+"."+(+i+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(o[z],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(a=a.filter((function(e){return!!e.match(i)}))),a=a.map((function(e){return new oe(e,this.options)}),this)},ae.prototype.intersects=function(e,t){if(!(e instanceof ae))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new ae(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ae.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new X(e,this.options));for(var t=0;t<this.set.length;t++)if(ue(this.set[t],e,this.options))return!0;return!1},e.satisfies=le,e.maxSatisfying=function(e,t,n){var r=null,o=null;try{var i=new ae(t,n)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(!r||-1===o.compare(e))&&(o=new X(r=e,n))})),r},e.minSatisfying=function(e,t,n){var r=null,o=null;try{var i=new ae(t,n)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(!r||1===o.compare(e))&&(o=new X(r=e,n))})),r},e.minVersion=function(e,t){e=new ae(e,t);var n=new X("0.0.0");if(e.test(n)||(n=new X("0.0.0-0"),e.test(n)))return n;n=null;for(var r=0;r<e.set.length;++r){e.set[r].forEach((function(e){var t=new X(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!n||$(n,t))&&(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}return n&&e.test(n)?n:null},e.validRange=function(e,t){try{return new ae(e,t).range||"*"}catch(e){return null}},e.ltr=function(e,t,n){return pe(e,t,"<",n)},e.gtr=function(e,t,n){return pe(e,t,">",n)},e.outside=pe,e.prerelease=function(e,t){var n=K(e,t);return n&&n.prerelease.length?n.prerelease:null},e.intersects=function(e,t,n){return e=new ae(e,n),t=new ae(t,n),e.intersects(t)},e.coerce=function(e){if(e instanceof X)return e;if("string"!=typeof e)return null;var t=e.match(o[R]);return null==t?null:K(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),xr=j((function(e,t){var n,r,o,i,a,s=yr().wrap,c=[],u=0,l=!1,p=[];function f(e,t){var n=e.length,r=t.length,o=[];if(0===n&&0===r)return o;for(var i=0;i<n;i++)o[i]=e[i];if(0===r)return o;for(var a=0;a<r;a++){var s=!0;for(i=0;i<n;i++)if(e[i].uid===t[a].uid){s=!1;break}s&&o.push(t[a])}return o}function d(e,t){"function"==typeof e.create&&(this.create=e.create,this.flags|=1),"function"==typeof e.before&&(this.before=e.before,this.flags|=2),"function"==typeof e.after&&(this.after=e.after,this.flags|=4),"function"==typeof e.error&&(this.error=e.error,this.flags|=8),this.uid=++u,this.data=void 0===t?null:t}function h(e,t){if("object"!=m(e)||!e)throw new TypeError("callbacks argument must be an object");return e instanceof d?e:new d(e,t)}process._fatalException?(o=!1,n=function(e){var t=c.length;if(o||0===t)return!1;var n=!1;o=!0;for(var r=0;r<t;++r){var a=c[r];if(0!=(8&a.flags)){var s=i&&i[a.uid];n=a.error(s,e)||n}}return o=!1,p.length>0&&(c=p.pop()),i=void 0,n&&!l},r=function(e,t,n){var r=[];l=!0;for(var o=0;o<n;++o){var a=t[o];if(r[a.uid]=a.data,0!=(1&a.flags)){var s=a.create(a.data);void 0!==s&&(r[a.uid]=s)}}return l=!1,function(){i=r,p.push(c),c=f(t,c),l=!0;for(var o=0;o<n;++o)(2&t[o].flags)>0&&t[o].before(this,r[t[o].uid]);l=!1;var a=e.apply(this,arguments);for(l=!0,o=0;o<n;++o)(4&t[o].flags)>0&&t[o].after(this,r[t[o].uid]);return l=!1,c=p.pop(),i=void 0,a}},s(process,"_fatalException",(function(e){return function(t){return n(t)||e(t)}}))):(a=!1,n=function(e){if(a)throw e;for(var t=!1,n=c.length,r=0;r<n;++r){var o=c[r];0!=(8&o.flags)&&(t=o.error(null,e)||t)}if(!t&&l)throw e},r=function(e,t,r){var o=[];l=!0;for(var i=0;i<r;++i){var s=t[i];if(o[s.uid]=s.data,0!=(1&s.flags)){var u=s.create(s.data);void 0!==u&&(o[s.uid]=u)}}return l=!1,function(){var i,s=!1,u=!1;p.push(c),c=f(t,c),l=!0;for(var d=0;d<r;++d)(2&t[d].flags)>0&&t[d].before(this,o[t[d].uid]);l=!1;try{i=e.apply(this,arguments)}catch(e){s=!0;for(d=0;d<r;++d)if(0!=(8&c[d].flags))try{u=c[d].error(o[t[d].uid],e)||u}catch(e){throw a=!0,e}if(!u)throw process.removeListener("uncaughtException",n),process._originalNextTick((function(){process.addListener("uncaughtException",n)})),e}finally{if(!s||u){for(l=!0,d=0;d<r;++d)(4&t[d].flags)>0&&t[d].after(this,o[t[d].uid]);l=!1}c=p.pop()}return i}},process.addListener("uncaughtException",n)),d.prototype.create=void 0,d.prototype.before=void 0,d.prototype.after=void 0,d.prototype.error=void 0,d.prototype.data=void 0,d.prototype.uid=0,d.prototype.flags=0,process.createAsyncListener=h,process.addAsyncListener=function(e,t){var n;n=e instanceof d?e:h(e,t);for(var r=!1,o=0;o<c.length;o++)if(n===c[o]){r=!0;break}return r||c.push(n),n},process.removeAsyncListener=function(e){for(var t=0;t<c.length;t++)if(e===c[t]){c.splice(t,1);break}},t.exports=function(e){var t=c.length;if(0===t)return e;for(var n=c.slice(),o=0;o<t;++o)if(n[o].flags>0)return r(e,n,t);return function(e,t,n){l=!0;for(var r=0;r<n;++r){var o=t[r];o.create&&o.create(o.data)}return l=!1,function(){p.push(c),c=f(t,c);var n=e.apply(this,arguments);return c=p.pop(),n}}(e,n,t)}})),Mr=j((function(e,t){"use strict";t.exports=function(e,t){return function(e){o(r,e);var n=a(r);function r(e){var o,i,a;h(this,r);var u=c(o=n.call(this,(function(e,n){i=this,a=[function(n){return t(u,!1),e(n)},function(e){return t(u,!1),n(e)}]})));try{e.apply(i,a)}catch(e){a[1](e)}return s(o,u)}return _(r)}(e)}})),kr=j((function(){"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var e=yr(),t=Dr(),r=e.wrap,o=e.massWrap,i=xr(),a=n(1),s=t.gte(process.version,"6.0.0"),c=t.gte(process.version,"7.0.0"),u=t.gte(process.version,"8.0.0"),l=t.gte(process.version,"11.0.0"),p=n(15);function f(e){return function(){this.on("connection",(function(e){e._handle&&(e._handle.onread=i(e._handle.onread))}));try{return e.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=i(this._handle.onconnection))}}}function d(e){if(e&&e._handle){var t=e._handle;t._originalOnread||(t._originalOnread=t.onread),t.onread=i(t._originalOnread)}}c&&!p._normalizeArgs?p._normalizeArgs=function(e){if(0===e.length)return[{},null];var t=e[0],n={};"object"==m(t)&&null!==t?n=t:function(e){return"string"==typeof e&&!1===function(e){return(e=Number(e))>=0&&e}(e)}(t)?n.path=t:(n.port=t,e.length>1&&"string"==typeof e[1]&&(n.host=e[1]));var r=e[e.length-1];return"function"!=typeof r?[n,null]:[n,r]}:!c&&!p._normalizeConnectArgs&&(p._normalizeConnectArgs=function(e){var t,n={};"object"==m(e[0])&&null!==e[0]?n=e[0]:"string"==typeof e[0]&&!1===(t=e[0],(t=Number(t))>=0&&t)?n.path=e[0]:(n.port=e[0],"string"==typeof e[1]&&(n.host=e[1]));var r=e[e.length-1];return"function"==typeof r?[n,r]:[n]}),"_setUpListenHandle"in p.Server.prototype?r(p.Server.prototype,"_setUpListenHandle",f):r(p.Server.prototype,"_listen2",f),r(p.Socket.prototype,"connect",(function(e){return function(){var t;(t=u&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?arguments[0]:c?p._normalizeArgs(arguments):p._normalizeConnectArgs(arguments))[1]&&(t[1]=i(t[1]));var n=e.apply(this,t);return d(this),n}}));var h=n(8);r(h.Agent.prototype,"addRequest",(function(e){return function(t){var n=t.onSocket;return t.onSocket=i((function(e){return d(e),n.apply(this,arguments)})),e.apply(this,arguments)}}));var v=n(27);function _(e){Array.isArray(e.stdio)&&e.stdio.forEach((function(e){e&&e._handle&&(e._handle.onread=i(e._handle.onread),r(e._handle,"close",N))})),e._handle&&(e._handle.onexit=i(e._handle.onexit))}v.ChildProcess?r(v.ChildProcess.prototype,"spawn",(function(e){return function(){var t=e.apply(this,arguments);return _(this),t}})):o(v,["execFile","fork","spawn"],(function(e){return function(){var t=e.apply(this,arguments);return _(t),t}})),process._fatalException||(process._originalNextTick=process.nextTick);var y=[];process._nextDomainTick&&y.push("_nextDomainTick"),process._tickDomainCallback&&y.push("_tickDomainCallback"),o(process,y,R),r(process,"nextTick",N);var g=["setTimeout","setInterval"];global.setImmediate&&g.push("setImmediate");var E=n(92),b=global.setTimeout===E.setTimeout;o(E,g,N),b&&o(global,g,N);var T=n(128);o(T,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],R),T.resolveNaptr&&r(T,"resolveNaptr",R);var S,A,I,O=n(2);o(O,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],R),O.lchown&&r(O,"lchown",R),O.lchmod&&r(O,"lchmod",R),O.ftruncate&&r(O,"ftruncate",R);try{S=n(9)}catch(e){}S&&S.Deflate&&S.Deflate.prototype&&((A=Object.getPrototypeOf(S.Deflate.prototype))._transform?r(A,"_transform",R):A.write&&A.flush&&A.end&&o(A,["write","flush","end"],R));try{I=n(28)}catch(e){}I&&(C=["pbkdf2","randomBytes"],l||C.push("pseudoRandomBytes"),o(I,C,R));var C,P,w=!!global.Promise&&"function Promise() { [native code] }"===Promise.toString()&&"function toString() { [native code] }"===Promise.toString.toString();function R(e){var t=function(){var t,n=arguments.length-1;if("function"==typeof arguments[n]){t=Array(arguments.length);for(var r=0;r<arguments.length-1;r++)t[r]=arguments[r];t[n]=i(arguments[n])}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(n){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=i(n)),e.call(this,n))};case 2:return function(n,r){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=i(r)),e.call(this,n,r))};case 3:return function(n,r,o){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof o&&(o=i(o)),e.call(this,n,r,o))};case 4:return function(n,r,o,a){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof a&&(a=i(a)),e.call(this,n,r,o,a))};case 5:return function(n,r,o,a,s){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof s&&(s=i(s)),e.call(this,n,r,o,a,s))};case 6:return function(n,r,o,a,s,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof c&&(c=i(c)),e.call(this,n,r,o,a,s,c))};default:return t}}function N(e){var t=function(){var t;if("function"==typeof arguments[0]){(t=Array(arguments.length))[0]=i(arguments[0]);for(var n=1;n<arguments.length;n++)t[n]=arguments[n]}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(n){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=i(n)),e.call(this,n))};case 2:return function(n,r){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=i(n)),e.call(this,n,r))};case 3:return function(n,r,o){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=i(n)),e.call(this,n,r,o))};case 4:return function(n,r,o,a){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=i(n)),e.call(this,n,r,o,a))};case 5:return function(n,r,o,a,s){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=i(n)),e.call(this,n,r,o,a,s))};case 6:return function(n,r,o,a,s,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=i(n)),e.call(this,n,r,o,a,s,c))};default:return t}}w&&(P=process.addAsyncListener({create:function(){w=!1}}),global.Promise.resolve(!0).then((function(){w=!1})),process.removeAsyncListener(P)),w&&function(){var e=global.Promise;function t(r){if(!(this instanceof t))return e(r);if("function"!=typeof r)return new e(r);var o,i,a=new e((function(e,t){o=this,i=[function(t){return n(a,!1),e(t)},function(e){return n(a,!1),t(e)}]}));a.__proto__=t.prototype;try{r.apply(o,i)}catch(e){i[1](e)}return a}if(a.inherits(t,e),r(e.prototype,"then",c),e.prototype.chain&&r(e.prototype,"chain",c),s)global.Promise=Mr()(e,n);else{["all","race","reject","resolve","accept","defer"].forEach((function(n){"function"==typeof e[n]&&(t[n]=e[n])})),global.Promise=t}function n(e,t){(!e.__asl_wrapper||t)&&(e.__asl_wrapper=i(o))}function o(t,r,i,a){var s;try{return{returnVal:s=r.call(t,i),error:!1}}catch(e){return{errorVal:e,error:!0}}finally{s instanceof e?a.__asl_wrapper=function(){var e=s.__asl_wrapper||o;return e.apply(this,arguments)}:n(a,!0)}}function c(e){return function(){var t=this,n=e.apply(t,Array.prototype.map.call(arguments,r));return n.__asl_wrapper=function(e,r,i,a){return t.__asl_wrapper?(t.__asl_wrapper(e,(function(){}),null,n),n.__asl_wrapper(e,r,i,a)):o(e,r,i,a)},n;function r(e){return"function"!=typeof e?e:i((function(r){var i=(t.__asl_wrapper||o)(this,e,r,n);if(i.error)throw i.errorVal;return i.returnVal}))}}}}()})),Lr=j((function(e,t){"use strict";var r=n(26),o=gr(),i="cls@contexts",a="error@context";function s(e){this.name=e,this.active=null,this._set=[],this.id=null}function c(e){return process.namespaces[e]}function u(e){var t=c(e);r.ok(t,"can't delete nonexistent namespace!"),r.ok(t.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(t.id),process.namespaces[e]=null}function l(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){u(e)})),process.namespaces=Object.create(null)}process.addAsyncListener||kr(),s.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,t},s.prototype.get=function(e){if(this.active)return this.active[e]},s.prototype.createContext=function(){return Object.create(this.active)},s.prototype.run=function(e){var t=this.createContext();this.enter(t);try{return e(t),t}catch(e){throw e&&(e[a]=t),e}finally{this.exit(t)}},s.prototype.runAndReturn=function(e){var t;return this.run((function(n){t=e(n)})),t},s.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());var n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[a]=t),e}finally{n.exit(t)}}},s.prototype.enter=function(e){r.ok(e,"context must be provided for entering"),this._set.push(this.active),this.active=e},s.prototype.exit=function(e){if(r.ok(e,"context must be provided for exiting"),this.active===e)return r.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());var t=this._set.lastIndexOf(e);r.ok(t>=0,"context not currently entered; can't exit"),r.ok(t,"can't remove top context"),this._set.splice(t,1)},s.prototype.bindEmitter=function(e){r.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");var t=this,n="context@"+this.name;o(e,(function(e){!e||(e[i]||(e[i]=Object.create(null)),e[i][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e[i])return e;var t=e,n=e[i];return Object.keys(n).forEach((function(e){var r=n[e];t=r.namespace.bind(t,r.context)})),t}))},s.prototype.fromException=function(e){return e[a]},process.namespaces||l(),t.exports={getNamespace:c,createNamespace:function(e){r.ok(e,"namespace must be given a name!");var t=new s(e);return t.id=process.addAsyncListener({create:function(){return t.active},before:function(e,n){n&&t.enter(n)},after:function(e,n){n&&t.exit(n)},error:function(e){e&&t.exit(e)}}),process.namespaces[e]=t,t},destroyNamespace:u,reset:l}})),jr=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CorrelationContextManager=void 0;var t=V(),n=gn(),r=Tn(),o=Sn(),i=vr(),a=function(){function e(){}return e.getCurrentContext=function(){if(!e.enabled)return null;var t=e.session.get(e.CONTEXT_NAME);return void 0===t?null:t},e.generateContextObject=function(e,t,n,r,o,i){return t=t||e,this.enabled?{operation:{name:n,id:e,parentId:t,traceparent:o,tracestate:i},customProperties:new s(r)}:null},e.spanToContextObject=function(t,n,o){var i=new r;return i.traceId=t.traceId,i.spanId=t.spanId,i.traceFlag=r.formatOpenTelemetryTraceFlags(t.traceFlags)||r.DEFAULT_TRACE_FLAG,i.parentId=n,e.generateContextObject(i.traceId,i.parentId,o,null,i)},e.runWithContext=function(t,n){var r;return e.enabled?e.session.bind(n,((r={})[e.CONTEXT_NAME]=t,r))():n()},e.wrapEmitter=function(t){e.enabled&&e.session.bindEmitter(t)},e.wrapCallback=function(t,n){var r;return e.enabled?e.session.bind(t,n?((r={})[e.CONTEXT_NAME]=n,r):void 0):t},e.enable=function(t){if(!this.enabled){if(!this.isNodeVersionCompatible())return void(this.enabled=!1);e.hasEverEnabled||(this.forceClsHooked=t,this.hasEverEnabled=!0,m(this.cls)>"u"&&(!0===e.forceClsHooked||void 0===e.forceClsHooked&&e.shouldUseClsHooked()?this.cls=Nr():this.cls=Lr()),e.session=this.cls.createNamespace("AI-CLS-Session"),n.registerContextPreservation((function(t){return e.session.bind(t)}))),this.enabled=!0}},e.startOperation=function(n,a){var s=n&&n.traceContext||null,c=n&&n.traceId?n:null,u=n&&n.headers;if(c){var l=new r("00-"+c.traceId+"-"+c.spanId+"-01"),p=new o(c.traceState?c.traceState.serialize():null);return e.generateContextObject(c.traceId,"|"+c.traceId+"."+c.spanId+".","string"==typeof a?a:"",void 0,l,p)}if(s){l=new r(s.traceparent),p=new o(s.tracestate);var f="object"==m(a)?new i(a):null;return e.generateContextObject(l.traceId,l.parentId,"string"==typeof a?a:f.getOperationName({}),f&&f.getCorrelationContextHeader()||void 0,l,p)}if(u){l=new r(u.traceparent?u.traceparent.toString():null),p=new o(u.tracestate?u.tracestate.toString():null),f=new i(n);return e.generateContextObject(l.traceId,l.parentId,f.getOperationName({}),f.getCorrelationContextHeader(),l,p)}return t.warn("startOperation was called with invalid arguments",arguments),null},e.disable=function(){this.enabled=!1},e.reset=function(){e.hasEverEnabled&&(e.session=null,e.session=this.cls.createNamespace("AI-CLS-Session"))},e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>3||parseInt(e[0])>2&&parseInt(e[1])>2},e.shouldUseClsHooked=function(){var e=process.versions.node.split(".");return parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=2},e.canUseClsHooked=function(){var e=process.versions.node.split("."),t=parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=0,n=parseInt(e[0])<8||parseInt(e[0])<=8&&parseInt(e[1])<2,r=parseInt(e[0])>4||parseInt(e[0])>=4&&parseInt(e[1])>=7;return!(t&&n)&&r},e.enabled=!1,e.hasEverEnabled=!1,e.forceClsHooked=void 0,e.CONTEXT_NAME="ApplicationInsights-Context",e}();e.CorrelationContextManager=a;var s=function(){function e(e){this.props=[],this.addHeaderData(e)}return e.prototype.addHeaderData=function(e){var t=e?e.split(", "):[];this.props=t.map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}})).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map((function(e){return e.key+"="+e.value})).join(", ")},e.prototype.getProperty=function(e){for(var t=0;t<this.props.length;++t){var n=this.props[t];if(n.key===e)return n.value}},e.prototype.setProperty=function(n,r){if(e.bannedCharacters.test(n)||e.bannedCharacters.test(r))t.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+n+" and value: "+r);else{for(var o=0;o<this.props.length;++o){var i=this.props[o];if(i.key===n)return void(i.value=r)}this.props.push({key:n,value:r})}},e.bannedCharacters=/[,=]/,e}()})),Ur=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=dr(),n=z(),r=[],o=function(e){var n=e.data.message;r.forEach((function(r){n instanceof Error?r.trackException({exception:n}):(n.lastIndexOf("\n")==n.length-1&&(n=n.substring(0,n.length-1)),r.trackTrace({message:n,severity:e.data.stderr?t.SeverityLevel.Warning:t.SeverityLevel.Information}))}))};e.enable=function(e,t){e?(0===r.length&&n.channel.subscribe("console",o),r.push(t)):0===(r=r.filter((function(e){return e!=t}))).length&&n.channel.unsubscribe("console",o)},e.dispose=function(){n.channel.unsubscribe("console",o),r=[]}})),Hr=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=dr(),n=z(),r=[],o={10:t.SeverityLevel.Verbose,20:t.SeverityLevel.Verbose,30:t.SeverityLevel.Information,40:t.SeverityLevel.Warning,50:t.SeverityLevel.Error,60:t.SeverityLevel.Critical},i=function(e){var t=e.data.result;r.forEach((function(n){var r=o[e.data.level];t instanceof Error?n.trackException({exception:t}):n.trackTrace({message:t,severity:r})}))};e.enable=function(e,t){e?(0===r.length&&n.channel.subscribe("bunyan",i),r.push(t)):0===(r=r.filter((function(e){return e!=t}))).length&&n.channel.unsubscribe("bunyan",i)},e.dispose=function(){n.channel.unsubscribe("bunyan",i),r=[]}})),Vr=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=dr(),n=z(),r=[],o={syslog:function(e){var n={emerg:t.SeverityLevel.Critical,alert:t.SeverityLevel.Critical,crit:t.SeverityLevel.Critical,error:t.SeverityLevel.Error,warning:t.SeverityLevel.Warning,notice:t.SeverityLevel.Information,info:t.SeverityLevel.Information,debug:t.SeverityLevel.Verbose};return void 0===n[e]?t.SeverityLevel.Information:n[e]},npm:function(e){var n={error:t.SeverityLevel.Error,warn:t.SeverityLevel.Warning,info:t.SeverityLevel.Information,verbose:t.SeverityLevel.Verbose,debug:t.SeverityLevel.Verbose,silly:t.SeverityLevel.Verbose};return void 0===n[e]?t.SeverityLevel.Information:n[e]},unknown:function(e){return t.SeverityLevel.Information}},i=function(e){var t=e.data.message;r.forEach((function(n){if(t instanceof Error)n.trackException({exception:t,properties:e.data.meta});else{var r=o[e.data.levelKind](e.data.level);n.trackTrace({message:t,severity:r,properties:e.data.meta})}}))};e.enable=function(e,t){e?(0===r.length&&n.channel.subscribe("winston",i),r.push(t)):0===(r=r.filter((function(e){return e!=t}))).length&&n.channel.unsubscribe("winston",i)},e.dispose=function(){n.channel.unsubscribe("winston",i),r=[]}})),qr=j((function(e,t){"use strict";var n=gn(),r=function(){function e(t){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,e.INSTANCE=this}return e.prototype.enable=function(e,t){n.IsInitialized&&(Ur().enable(e&&t,this._client),Hr().enable(e,this._client),Vr().enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=["debug","info","log","warn","error"],e}();t.exports=r})),Gr=j((function(e,t){"use strict";var n=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t;var n=process.versions.node.split(".");e._canUseUncaughtExceptionMonitor=parseInt(n[0])>13||13===parseInt(n[0])&&parseInt(n[1])>=7}return e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var n=this;if(t){this._isInitialized=!0;if(!this._exceptionListenerHandle){var r=function(t,r,o){void 0===o&&(o=new Error(e._FALLBACK_ERROR_MESSAGE)),n._client.trackException({exception:o}),n._client.flush({isAppCrashing:!0}),t&&r&&1===process.listeners(r).length&&(console.error(o),process.exit(1))};e._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=r.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=r.bind(this,!0,e.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=r.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(e._canUseUncaughtExceptionMonitor?process.removeListener(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",e.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",e.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",e._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",e._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",e._canUseUncaughtExceptionMonitor=!1,e}();t.exports=n})),Br=j((function(e){"use strict";var t,n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),e.HeartBeatMetricName=e.DependencyTypeName=e.SpanAttribute=e.TelemetryTypeStringToQuickPulseDocumentType=e.TelemetryTypeStringToQuickPulseType=e.QuickPulseType=e.QuickPulseDocumentType=e.PerformanceToQuickPulseCounter=e.MetricId=e.PerformanceCounter=e.QuickPulseCounter=e.DEFAULT_LIVEMETRICS_HOST=e.DEFAULT_LIVEMETRICS_ENDPOINT=e.DEFAULT_BREEZE_ENDPOINT=void 0,e.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com",(r=n=e.QuickPulseCounter||(e.QuickPulseCounter={})).COMMITTED_BYTES="\\Memory\\Committed Bytes",r.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",r.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",r.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",r.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",r.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",r.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",r.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",r.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec",function(e){e.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",e.AVAILABLE_BYTES="\\Memory\\Available Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",e.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",e.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"}(o=e.PerformanceCounter||(e.PerformanceCounter={})),function(e){e.REQUESTS_DURATION="requests/duration",e.DEPENDENCIES_DURATION="dependencies/duration",e.EXCEPTIONS_COUNT="exceptions/count",e.TRACES_COUNT="traces/count"}(e.MetricId||(e.MetricId={})),e.PerformanceToQuickPulseCounter=((t={})[o.PROCESSOR_TIME]=n.PROCESSOR_TIME,t[o.REQUEST_RATE]=n.REQUEST_RATE,t[o.REQUEST_DURATION]=n.REQUEST_DURATION,t[n.COMMITTED_BYTES]=n.COMMITTED_BYTES,t[n.REQUEST_FAILURE_RATE]=n.REQUEST_FAILURE_RATE,t[n.DEPENDENCY_RATE]=n.DEPENDENCY_RATE,t[n.DEPENDENCY_FAILURE_RATE]=n.DEPENDENCY_FAILURE_RATE,t[n.DEPENDENCY_DURATION]=n.DEPENDENCY_DURATION,t[n.EXCEPTION_RATE]=n.EXCEPTION_RATE,t),e.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"},e.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"},e.TelemetryTypeStringToQuickPulseType={EventData:e.QuickPulseType.Event,ExceptionData:e.QuickPulseType.Exception,MessageData:e.QuickPulseType.Trace,MetricData:e.QuickPulseType.Metric,RequestData:e.QuickPulseType.Request,RemoteDependencyData:e.QuickPulseType.Dependency,AvailabilityData:e.QuickPulseType.Availability,PageViewData:e.QuickPulseType.PageView},e.TelemetryTypeStringToQuickPulseDocumentType={EventData:e.QuickPulseDocumentType.Event,ExceptionData:e.QuickPulseDocumentType.Exception,MessageData:e.QuickPulseDocumentType.Trace,MetricData:e.QuickPulseDocumentType.Metric,RequestData:e.QuickPulseDocumentType.Request,RemoteDependencyData:e.QuickPulseDocumentType.Dependency,AvailabilityData:e.QuickPulseDocumentType.Availability,PageViewData:e.QuickPulseDocumentType.PageView},e.SpanAttribute={HttpHost:"http.host",HttpMethod:"http.method",HttpPort:"http.port",HttpStatusCode:"http.status_code",HttpUrl:"http.url",HttpUserAgent:"http.user_agent",GrpcMethod:"grpc.method",GrpcService:"rpc.service"},e.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc"},e.HeartBeatMetricName="HeartBeat"})),Fr=j((function(e,t){"use strict";var r=n(7),o=Br(),i=function(){function e(t,n,r){void 0===n&&(n=6e4),void 0===r&&(r=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t,this._collectionInterval=n,this._enableLiveMetricsCounters=r}return e.prototype.enable=function(t,n){var o=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._lastCpus=r.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:e._totalExceptionCount,time:+new Date},"function"==typeof process.cpuUsage&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=n||this._collectionInterval,this._handle=setInterval((function(){return o.trackPerformance()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(t,n){var r;if(e.isEnabled()){if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}e._intervalRequestExecutionTime+=r,!1===n&&e._totalFailedRequestCount++,e._totalRequestCount++}},e.countException=function(){e._totalExceptionCount++},e.countDependency=function(t,n){var r;if(e.isEnabled()){if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}e._intervalDependencyExecutionTime+=r,!1===n&&e._totalFailedDependencyCount++,e._totalDependencyCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},e.prototype._trackCpu=function(){var e=r.cpus();if(e&&e.length&&this._lastCpus&&e.length===this._lastCpus.length){for(var t=0,n=0,i=0,a=0,s=0,c=0;e&&c<e.length;c++){var u=e[c],l=this._lastCpus[c],p=(u.model,u.speed,u.times),f=l.times;t+=p.user-f.user||0,n+=p.sys-f.sys||0,i+=p.nice-f.nice||0,a+=p.idle-f.idle||0,s+=p.irq-f.irq||0}var d=void 0;if("function"==typeof process.cpuUsage){var h=process.cpuUsage(),v=process.hrtime(),_=h.user-this._lastAppCpuUsage.user+(h.system-this._lastAppCpuUsage.system)||0;if(m(this._lastHrtime)<"u"&&2===this._lastHrtime.length)d=100*_/((1e6*(v[0]-this._lastHrtime[0])+(v[1]-this._lastHrtime[1])/1e3||0)*e.length);this._lastAppCpuUsage=h,this._lastHrtime=v}var y=t+n+i+a+s||1;this._client.trackMetric({name:o.PerformanceCounter.PROCESSOR_TIME,value:(y-a)/y*100}),this._client.trackMetric({name:o.PerformanceCounter.PROCESS_TIME,value:d||t/y*100})}this._lastCpus=e},e.prototype._trackMemory=function(){var e=r.freemem(),t=process.memoryUsage().rss,n=r.totalmem()-e;this._client.trackMetric({name:o.PerformanceCounter.PRIVATE_BYTES,value:t}),this._client.trackMetric({name:o.PerformanceCounter.AVAILABLE_BYTES,value:e}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:o.QuickPulseCounter.COMMITTED_BYTES,value:n})},e.prototype._trackNetwork=function(){var t=this._lastRequests,n={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},r=n.totalRequestCount-t.totalRequestCount||0,i=n.totalFailedRequestCount-t.totalFailedRequestCount||0,a=n.time-t.time,s=a/1e3,c=(e._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/r||0;if(this._lastIntervalRequestExecutionTime=e._intervalRequestExecutionTime,a>0){var u=r/s,l=i/s;this._client.trackMetric({name:o.PerformanceCounter.REQUEST_RATE,value:u}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:o.PerformanceCounter.REQUEST_DURATION,value:c}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:o.QuickPulseCounter.REQUEST_FAILURE_RATE,value:l})}this._lastRequests=n},e.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastDependencies,n={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},r=n.totalDependencyCount-t.totalDependencyCount||0,i=n.totalFailedDependencyCount-t.totalFailedDependencyCount||0,a=n.time-t.time,s=a/1e3,c=(e._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/r||0;if(this._lastIntervalDependencyExecutionTime=e._intervalDependencyExecutionTime,a>0){var u=r/s,l=i/s;this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_RATE,value:u}),this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:l}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_DURATION,value:c})}this._lastDependencies=n}},e.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastExceptions,n={totalExceptionCount:e._totalExceptionCount,time:+new Date},r=n.totalExceptionCount-t.totalExceptionCount||0,i=n.time-t.time;if(i>0){var a=r/(i/1e3);this._client.trackMetric({name:o.QuickPulseCounter.EXCEPTION_RATE,value:a})}this._lastExceptions=n}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._totalDependencyCount=0,e._totalFailedDependencyCount=0,e._totalExceptionCount=0,e._intervalDependencyExecutionTime=0,e._intervalRequestExecutionTime=0,e}();t.exports=i})),zr=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AggregatedMetricCounter=void 0;var t=function(e){this.dimensions=e,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0};e.AggregatedMetricCounter=t})),Kr=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PreaggregatedMetricPropertyNames=void 0,e.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}})),Xr=j((function(e,t){"use strict";var n=e&&e.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r=Br(),o=zr(),i=Kr(),a=function(){function e(t,n){void 0===n&&(n=6e4),e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,e._dependencyCountersCollection=[],e._requestCountersCollection=[],e._exceptionCountersCollection=[],e._traceCountersCollection=[],this._client=t,this._collectionInterval=n}return e.prototype.enable=function(e,t){var n=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._collectionInterval=t||this._collectionInterval,this._handle=setInterval((function(){return n.trackPreAggregatedMetrics()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countException=function(t){e.isEnabled()&&e._getAggregatedCounter(t,this._exceptionCountersCollection).totalCount++},e.countTrace=function(t){e.isEnabled()&&e._getAggregatedCounter(t,this._traceCountersCollection).totalCount++},e.countRequest=function(t,n){if(e.isEnabled()){var r,o=e._getAggregatedCounter(n,this._requestCountersCollection);if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}o.intervalExecutionTime+=r,o.totalCount++}},e.countDependency=function(t,n){if(e.isEnabled()){var r,o=e._getAggregatedCounter(n,this._dependencyCountersCollection);if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}o.intervalExecutionTime+=r,o.totalCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},e._getAggregatedCounter=function(e,t){for(var n=!1,r=0;r<t.length;r++){if(e===t[r].dimensions)return t[r];if(Object.keys(e).length===Object.keys(t[r].dimensions).length){for(var i in e)if(e[i]!=t[r].dimensions[i]){n=!0;break}if(!n)return t[r];n=!1}}var a=new o.AggregatedMetricCounter(e);return t.push(a),a},e.prototype._trackRequestMetrics=function(){for(var t=0;t<e._requestCountersCollection.length;t++){var n=e._requestCountersCollection[t];n.time=+new Date;var o=n.totalCount-n.lastTotalCount||0,i=n.time-n.lastTime,a=(n.intervalExecutionTime-n.lastIntervalExecutionTime)/o||0;n.lastIntervalExecutionTime=n.intervalExecutionTime,i>0&&o>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:n.dimensions,value:a,count:o,aggregationInterval:i,metricType:r.MetricId.REQUESTS_DURATION}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackDependencyMetrics=function(){for(var t=0;t<e._dependencyCountersCollection.length;t++){var n=e._dependencyCountersCollection[t];n.time=+new Date;var o=n.totalCount-n.lastTotalCount||0,i=n.time-n.lastTime,a=(n.intervalExecutionTime-n.lastIntervalExecutionTime)/o||0;n.lastIntervalExecutionTime=n.intervalExecutionTime,i>0&&o>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:n.dimensions,value:a,count:o,aggregationInterval:i,metricType:r.MetricId.DEPENDENCIES_DURATION}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackExceptionMetrics=function(){for(var t=0;t<e._exceptionCountersCollection.length;t++){var n=e._exceptionCountersCollection[t],o=n.totalCount-n.lastTotalCount||0,i=n.time-n.lastTime;this._trackPreAggregatedMetric({name:"Exceptions",dimensions:n.dimensions,value:o,count:o,aggregationInterval:i,metricType:r.MetricId.EXCEPTIONS_COUNT}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackTraceMetrics=function(){for(var t=0;t<e._traceCountersCollection.length;t++){var n=e._traceCountersCollection[t],o=n.totalCount-n.lastTotalCount||0,i=n.time-n.lastTime;this._trackPreAggregatedMetric({name:"Traces",dimensions:n.dimensions,value:o,count:o,aggregationInterval:i,metricType:r.MetricId.TRACES_COUNT}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackPreAggregatedMetric=function(e){var t={};for(var r in e.dimensions)t[i.PreaggregatedMetricPropertyNames[r]]=e.dimensions[r];t=n(n({},t),{"_MS.MetricId":e.metricType,"_MS.AggregationIntervalMs":String(e.aggregationInterval),"_MS.IsAutocollected":"True"});var o={name:e.name,value:e.value,count:e.count,properties:t,kind:"Aggregation"};this._client.trackMetric(o)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();t.exports=a})),Yr=j((function(e,r){"use strict";var o=n(7),i=n(2),a=n(0),s=dr(),c=V(),u=function(){function e(e){this.keys=new s.ContextTagKeys,this.tags={},this._loadApplicationContext(e),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(n){if(n=n||a.resolve(t,"../../../../package.json"),!e.appVersion[n]){e.appVersion[n]="unknown";try{var r=JSON.parse(i.readFileSync(n,"utf8"));r&&"string"==typeof r.version&&(e.appVersion[n]=r.version)}catch(e){c.info("unable to read app version: ",e)}}this.tags[this.keys.applicationVersion]=e.appVersion[n]},e.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=o&&o.hostname(),this.tags[this.keys.deviceOSVersion]=o&&o.type()+" "+o.release(),this.tags[this.keys.cloudRole]=e.DefaultRoleName,this.tags["ai.device.osArchitecture"]=o&&o.arch(),this.tags["ai.device.osPlatform"]=o&&o.platform()},e.prototype._loadInternalContext=function(){var n=a.resolve(t,"../../package.json");if(!e.sdkVersion){e.sdkVersion="unknown";try{var r=JSON.parse(i.readFileSync(n,"utf8"));r&&"string"==typeof r.version&&(e.sdkVersion=r.version)}catch(e){c.info("unable to read app version: ",e)}}this.tags[this.keys.internalSdkVersion]="node:"+e.sdkVersion},e.DefaultRoleName="Web",e.appVersion={},e.sdkVersion=null,e}();r.exports=u})),Qr=j((function(e,t){"use strict";var r,o=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=n(14),a=dr(),s=En(),c=mn(),u=hr(),l=bn(),p=function(e){function t(n,r){var o=e.call(this)||this;return r&&r.method&&n&&(o.method=r.method,o.url=t._getUrlFromRequestOptions(n,r),o.startTime=+new Date),o}return o(t,e),t.prototype.onError=function(e){this._setStatus(void 0,e)},t.prototype.onResponse=function(e){this._setStatus(e.statusCode,void 0),this.correlationId=s.getCorrelationContextTarget(e,c.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(e,t){var n=i.parse(this.url);n.search=void 0,n.hash=void 0;var r=this.method.toUpperCase()+" "+n.pathname,o=a.RemoteDependencyDataConstants.TYPE_HTTP,s=n.hostname;n.port&&(s+=":"+n.port),this.correlationId?(o=a.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==l.correlationIdPrefix&&(s+=" | "+this.correlationId)):o=a.RemoteDependencyDataConstants.TYPE_HTTP;var c={id:t,name:r,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:o,target:s};if(e&&e.time?c.time=e.time:this.startTime&&(c.time=new Date(this.startTime)),e){for(var u in e)c[u]||(c[u]=e[u]);if(e.properties)for(var u in e.properties)c.properties[u]=e.properties[u]}return c},t._getUrlFromRequestOptions=function(e,t){if("string"==typeof e)if(0===e.indexOf("http://")||0===e.indexOf("https://"))e=i.parse(e);else{var n=i.parse(e);e="443"===n.host?i.parse("https://"+e):i.parse("http://"+e)}else{if(e&&"function"==typeof i.URL&&e instanceof i.URL)return i.format(e);var r=e;e={},r&&Object.keys(r).forEach((function(t){e[t]=r[t]}))}if(e.path){var o=i.parse(e.path);e.pathname=o.pathname,e.search=o.search}e.host&&e.port&&(!i.parse("http://"+e.host).port&&e.port&&(e.hostname=e.host,delete e.host));return e.protocol=e.protocol||t.agent&&t.agent.protocol||t.protocol||void 0,e.hostname=e.hostname||"localhost",i.format(e)},t}(u);t.exports=p})),Wr=j((function(e){"use strict";var t=e&&e.__assign||function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.spanToTelemetryContract=void 0;var n=Ve(),r=Br();function o(e){var n=t({},e);return Object.keys(r.SpanAttribute).forEach((function(e){delete n[e]})),n}e.spanToTelemetryContract=function(e){var i="|"+e.spanContext().traceId+"."+e.spanContext().spanId+".",a=Math.round(1e3*e._duration[0]+e._duration[1]/1e6),s=e.attributes["peer.address"]?e.attributes["peer.address"].toString():"",c=e.attributes.component?e.attributes.component.toString():"",u=c.toUpperCase()===r.DependencyTypeName.Http||!!e.attributes[r.SpanAttribute.HttpUrl],l=c.toLowerCase()===r.DependencyTypeName.Grpc;if(u){var p=e.attributes[r.SpanAttribute.HttpMethod]||"GET",f=new URL(e.attributes[r.SpanAttribute.HttpUrl].toString()),d=e.attributes[r.SpanAttribute.HttpHost]||f.host,h=e.attributes[r.SpanAttribute.HttpPort]||f.port||null,v=p+" "+(f.pathname||"/"),_=r.DependencyTypeName.Http,y=h?(d+":"+h).toString():d.toString(),g=f.toString(),m=e.attributes[r.SpanAttribute.HttpStatusCode]||e.status.code||0;return{id:i,name:v,dependencyTypeName:_,target:y,data:g,success:m<400,duration:a,url:g,resultCode:String(m),properties:o(e.attributes)}}if(l){p=e.attributes[r.SpanAttribute.GrpcMethod]||"rpc";var E=e.attributes[r.SpanAttribute.GrpcService],b=E?p+" "+E:e.name;return{id:i,duration:a,name:b,target:E.toString(),data:E.toString()||b,url:E.toString()||b,dependencyTypeName:r.DependencyTypeName.Grpc,resultCode:String(e.status.code||0),success:0===e.status.code,properties:o(e.attributes)}}var T=e.name,S=e.links&&e.links.map((function(e){return{operation_Id:e.context.traceId,id:e.context.spanId}}));return{id:i,duration:a,name:T,target:s,data:s||T,url:s||T,dependencyTypeName:e.kind===n.SpanKind.INTERNAL?r.DependencyTypeName.InProc:c||e.name,resultCode:String(e.status.code||0),success:0===e.status.code,properties:t(t({},o(e.attributes)),{"_MS.links":S||void 0})}}})),$r=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=Ve(),n=z(),r=Tn(),o=Wr(),i=q(),a=[];e.subscriber=function(e){var n=e.data,s=o.spanToTelemetryContract(n),c=n.spanContext(),u=new r;u.traceId=c.traceId,u.spanId=c.spanId,u.traceFlag=r.formatOpenTelemetryTraceFlags(c.traceFlags),u.parentId=n.parentSpanId?"|"+c.traceId+"."+n.parentSpanId+".":null,i.AsyncScopeManager.with(n,(function(){a.forEach((function(e){n.kind===t.SpanKind.SERVER?e.trackRequest(s):(n.kind===t.SpanKind.CLIENT||n.kind===t.SpanKind.INTERNAL)&&e.trackDependency(s)}))}))},e.enable=function(t,r){t?(0===a.length&&n.channel.subscribe("azure-coretracing",e.subscriber),a.push(r)):0===(a=a.filter((function(e){return e!=r}))).length&&n.channel.unsubscribe("azure-coretracing",e.subscriber)}})),Zr=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=z(),n=[];e.subscriber=function(e){"ismaster"!==e.data.event.commandName&&n.forEach((function(t){var n=e.data.startedData&&e.data.startedData.databaseName||"Unknown database";t.trackDependency({target:n,data:e.data.event.commandName,name:e.data.event.commandName,duration:e.data.event.duration,success:e.data.succeeded,resultCode:e.data.succeeded?"0":"1",time:e.data.startedData.time,dependencyTypeName:"mongodb"})}))},e.enable=function(r,o){r?(0===n.length&&t.channel.subscribe("mongodb",e.subscriber),n.push(o)):0===(n=n.filter((function(e){return e!=o}))).length&&t.channel.unsubscribe("mongodb",e.subscriber)}})),Jr=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=z(),n=[];e.subscriber=function(e){n.forEach((function(t){var n=e.data.query||{},r=n.sql||"Unknown query",o=!e.data.err,i=(n._connection||{}).config||{},a=i.socketPath?i.socketPath:(i.host||"localhost")+":"+i.port;t.trackDependency({target:a,data:r,name:r,duration:e.data.duration,success:o,resultCode:o?"0":"1",time:e.data.time,dependencyTypeName:"mysql"})}))},e.enable=function(r,o){r?(0===n.length&&t.channel.subscribe("mysql",e.subscriber),n.push(o)):0===(n=n.filter((function(e){return e!=o}))).length&&t.channel.unsubscribe("mysql",e.subscriber)}})),eo=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=z(),n=[];e.subscriber=function(e){n.forEach((function(t){"info"!==e.data.commandObj.command&&t.trackDependency({target:e.data.address,name:e.data.commandObj.command,data:e.data.commandObj.command,duration:e.data.duration,success:!e.data.err,resultCode:e.data.err?"1":"0",time:e.data.time,dependencyTypeName:"redis"})}))},e.enable=function(r,o){r?(0===n.length&&t.channel.subscribe("redis",e.subscriber),n.push(o)):0===(n=n.filter((function(e){return e!=o}))).length&&t.channel.unsubscribe("redis",e.subscriber)}})),to=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=z(),n=[];e.subscriber=function(e){n.forEach((function(t){var n=e.data.query,r=n.preparable&&n.preparable.text||n.plan||n.text||"unknown query",o=!e.data.error,i=e.data.database.host+":"+e.data.database.port;t.trackDependency({target:i,data:r,name:r,duration:e.data.duration,success:o,resultCode:o?"0":"1",time:e.data.time,dependencyTypeName:"postgres"})}))},e.enable=function(r,o){r?(0===n.length&&t.channel.subscribe("postgres",e.subscriber),n.push(o)):0===(n=n.filter((function(e){return e!=o}))).length&&t.channel.unsubscribe("postgres",e.subscriber)}})),no=j((function(e,t){"use strict";var r=e&&e.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},o=n(8),i=n(21),a=V(),s=En(),c=mn(),u=Qr(),l=jr(),p=bn(),f=Tn(),d=gn(),h=function(){function e(t){if(e.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,this._isEnabled&&!this._isInitialized&&this._initialize(),d.IsInitialized&&($r().enable(!0,this._client),Zr().enable(e,this._client),Jr().enable(e,this._client),eo().enable(e,this._client),to().enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var n=o.request,a=i.request,s=function(n,r){var o=!r[e.disableCollectionRequestOption]&&!n[e.alreadyAutoCollectedFlag];r.headers&&r.headers["user-agent"]&&-1!==r.headers["user-agent"].toString().indexOf("azsdk-js")&&(o=!1),n[e.alreadyAutoCollectedFlag]=!0,n&&r&&o&&(l.CorrelationContextManager.wrapEmitter(n),e.trackRequest(t._client,{options:r,request:n}))};o.request=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var a=n.call.apply(n,r([o,e],t));return s(a,e),a},i.request=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=a.call.apply(a,r([i,e],t));return s(o,e),o},o.get=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=(t=o.request).call.apply(t,r([o,e],n));return a.end(),a},i.get=function(e){for(var t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var a=(t=i.request).call.apply(t,r([i,e],n));return a.end(),a}},e.trackRequest=function(t,n){if(n.options&&n.request&&t){var r,o,i=new u(n.options,n.request),d=l.CorrelationContextManager.getCurrentContext();if(d&&d.operation&&d.operation.traceparent&&f.isValidTraceId(d.operation.traceparent.traceId))d.operation.traceparent.updateSpanId(),r=d.operation.traceparent.getBackCompatRequestId();else if(p.w3cEnabled){o=(v=new f).toString(),r=v.getBackCompatRequestId()}else r=d&&d.operation&&d.operation.parentId+e.requestNumber+++".";if(s.canIncludeCorrelationHeader(t,i.getUrl())&&n.request.getHeader&&n.request.setHeader&&t.config&&t.config.correlationId){var h=n.request.getHeader(c.requestContextHeader);try{s.safeIncludeCorrelationHeader(t,n.request,h)}catch(e){a.warn("Request-Context header could not be set. Correlation of requests may be lost",e)}if(d&&d.operation)try{if(n.request.setHeader(c.requestIdHeader,r),t.config.ignoreLegacyHeaders||(n.request.setHeader(c.parentIdHeader,d.operation.id),n.request.setHeader(c.rootIdHeader,r)),o||d.operation.traceparent)n.request.setHeader(c.traceparentHeader,o||d.operation.traceparent.toString());else if(p.w3cEnabled){var v=(new f).toString();n.request.setHeader(c.traceparentHeader,v)}if(d.operation.tracestate){var _=d.operation.tracestate.toString();_&&n.request.setHeader(c.traceStateHeader,_)}var y=d.customProperties.serializeToHeader();y&&n.request.setHeader(c.correlationContextHeader,y)}catch(e){a.warn("Correlation headers could not be set. Correlation of requests may be lost.",e)}}n.request.on&&(n.request.on("response",(function(e){i.onResponse(e);var o=i.getDependencyTelemetry(n,r);o.contextObjects=o.contextObjects||{},o.contextObjects["http.RequestOptions"]=n.options,o.contextObjects["http.ClientRequest"]=n.request,o.contextObjects["http.ClientResponse"]=e,t.trackDependency(o)})),n.request.on("error",(function(e){i.onError(e);var o=i.getDependencyTelemetry(n,r);o.contextObjects=o.contextObjects||{},o.contextObjects["http.RequestOptions"]=n.options,o.contextObjects["http.ClientRequest"]=n.request,o.contextObjects.Error=e,t.trackDependency(o)})),n.request.on("abort",(function(){i.onError(new Error);var e=i.getDependencyTelemetry(n,r);e.contextObjects=e.contextObjects||{},e.contextObjects["http.RequestOptions"]=n.options,e.contextObjects["http.ClientRequest"]=n.request,t.trackDependency(e)})))}else a.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!n.options,!n.request,!t)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption="disableAppInsightsAutoCollection",e.requestNumber=1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();t.exports=h})),ro=j((function(e,t){"use strict";var r=n(7),o=Br(),i=En(),a=Yr(),s=no(),c=function(){function e(t){this._collectionInterval=9e5,this._vmData={},this._azInst_vmId="",this._azInst_subscriptionId="",this._azInst_osType="",e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t}return e.prototype.enable=function(e,t){var n=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._handle=setInterval((function(){return n.trackHeartBeat(t,(function(){}))}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackHeartBeat=function(e,t){var n=this,i=!1,s={},c=a.sdkVersion;s.sdk=c,s.osType=r.type(),process.env.WEBSITE_SITE_NAME?(s.appSrv_SiteName=process.env.WEBSITE_SITE_NAME||"",s.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME||"",s.appSrv_wsHost=process.env.WEBSITE_HOSTNAME||""):process.env.FUNCTIONS_WORKER_RUNTIME?s.azfunction_appId=process.env.WEBSITE_HOSTNAME:e&&(void 0===this._isVM?(i=!0,this._getAzureComputeMetadata(e,(function(){n._isVM&&Object.keys(n._vmData).length>0&&(s.azInst_vmId=n._vmData.vmId||"",s.azInst_subscriptionId=n._vmData.subscriptionId||"",s.azInst_osType=n._vmData.osType||"",n._azInst_vmId=n._vmData.vmId||"",n._azInst_subscriptionId=n._vmData.subscriptionId||"",n._azInst_osType=n._vmData.osType||""),n._client.trackMetric({name:o.HeartBeatMetricName,value:0,properties:s}),t()}))):this._isVM&&(s.azInst_vmId=this._azInst_vmId,s.azInst_subscriptionId=this._azInst_subscriptionId,s.azInst_osType=this._azInst_osType)),i||(this._client.trackMetric({name:o.HeartBeatMetricName,value:0,properties:s}),t())},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.prototype._getAzureComputeMetadata=function(e,t){var n,r=this,o=((n={method:"GET"})[s.disableCollectionRequestOption]=!0,n.headers={Metadata:"True"},n),a=i.makeRequest(e,"http://169.254.169.254/metadata/instance/compute?api-version=2017-12-01&format=json",o,(function(e){if(200===e.statusCode){r._isVM=!0;var n="";e.on("data",(function(e){n+=e})),e.on("end",(function(){r._vmData=r._isJSON(n)?JSON.parse(n):{},t()}))}else t()}));a&&(a.on("error",(function(e){e&&e.message&&e.message.indexOf("ENETUNREACH")>-1&&(r._isVM=!1),t()})),a.end())},e.prototype._isJSON=function(e){try{return JSON.parse(e)&&!!e}catch(e){return!1}},e}();t.exports=c})),oo=j((function(e,t){"use strict";var r=n(8),o=n(21),i=V(),a=En(),s=mn(),c=vr(),u=jr(),l=Fr(),p=function(){function e(t){if(e.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,(this._isAutoCorrelating||this._isEnabled||l.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(e,t){e&&!this._isAutoCorrelating?u.CorrelationContextManager.enable(t):!e&&this._isAutoCorrelating&&u.CorrelationContextManager.disable(),this._isAutoCorrelating=e},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(e){if(this._isAutoCorrelating)return u.CorrelationContextManager.generateContextObject(e.getOperationId(this._client.context.tags),e.getRequestId(),e.getOperationName(this._client.context.tags),e.getCorrelationContextHeader(),e.getTraceparent(),e.getTracestate())},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var n=function(n){if(n){if("function"!=typeof n)throw new Error("onRequest handler must be a function");return function(r,o){u.CorrelationContextManager.wrapEmitter(r),u.CorrelationContextManager.wrapEmitter(o);var i=r&&!r[e.alreadyAutoCollectedFlag];if(r&&i){var a=new c(r),s=t._generateCorrelationContext(a);u.CorrelationContextManager.runWithContext(s,(function(){t._isEnabled&&(r[e.alreadyAutoCollectedFlag]=!0,e.trackRequest(t._client,{request:r,response:o},a)),"function"==typeof n&&n(r,o)}))}else"function"==typeof n&&n(r,o)}}},i=function(e){var t=e.addListener.bind(e);e.addListener=function(e,r){switch(e){case"request":case"checkContinue":return t(e,n(r));default:return t(e,r)}},e.on=e.addListener},a=r.createServer;r.createServer=function(e,t){if(t&&"function"==typeof t){var r=a(e,n(t));return i(r),r}r=a(n(e));return i(r),r};var s=o.createServer;o.createServer=function(e,t){var r=s(e,n(t));return i(r),r}},e.trackRequestSync=function(t,n){if(n.request&&n.response&&t){e.addResponseCorrelationIdHeader(t,n.response);var r=u.CorrelationContextManager.getCurrentContext(),o=new c(n.request,r&&r.operation.parentId);r&&(r.operation.id=o.getOperationId(t.context.tags)||r.operation.id,r.operation.name=o.getOperationName(t.context.tags)||r.operation.name,r.operation.parentId=o.getRequestId()||r.operation.parentId,r.customProperties.addHeaderData(o.getCorrelationContextHeader())),e.endRequest(t,o,n,n.duration,n.error)}else i.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!n.request,!n.response,!t)},e.trackRequest=function(t,n,r){if(n.request&&n.response&&t){var o=u.CorrelationContextManager.getCurrentContext(),s=r||new c(n.request,o&&o.operation.parentId);a.canIncludeCorrelationHeader(t,s.getUrl())&&e.addResponseCorrelationIdHeader(t,n.response),o&&!r&&(o.operation.id=s.getOperationId(t.context.tags)||o.operation.id,o.operation.name=s.getOperationName(t.context.tags)||o.operation.name,o.operation.parentId=s.getOperationParentId(t.context.tags)||o.operation.parentId,o.customProperties.addHeaderData(s.getCorrelationContextHeader())),n.response.once&&n.response.once("finish",(function(){e.endRequest(t,s,n,null,null)})),n.request.on&&n.request.on("error",(function(r){e.endRequest(t,s,n,null,r)})),n.request.on&&n.request.on("aborted",(function(){e.endRequest(t,s,n,null,"The request has been aborted and the network socket has closed.")}))}else i.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!n.request,!n.response,!t)},e.addResponseCorrelationIdHeader=function(e,t){if(e.config&&e.config.correlationId&&t.getHeader&&t.setHeader&&!t.headersSent){var n=t.getHeader(s.requestContextHeader);a.safeIncludeCorrelationHeader(e,t,n)}},e.endRequest=function(e,t,n,r,o){o?t.onError(o,r):t.onResponse(n.response,r);var i=t.getRequestTelemetry(n);if(i.tagOverrides=t.getRequestTags(e.context.tags),n.tagOverrides)for(var a in n.tagOverrides)i.tagOverrides[a]=n.tagOverrides[a];var s=t.getLegacyRootId();s&&(i.properties.ai_legacyRootId=s),i.contextObjects=i.contextObjects||{},i.contextObjects["http.ServerRequest"]=n.request,i.contextObjects["http.ServerResponse"]=n.response,e.trackRequest(i)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1,u.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();t.exports=p})),io=j((function(e,t){"use strict";var r=e&&e.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=n(7),i=dr(),a=Br(),s=En(),c=V(),u=s.w3cTraceId(),l=function(){function e(){}return e.createQuickPulseEnvelope=function(e,t,n,r){var i=o&&"function"==typeof o.hostname&&o.hostname()||"Unknown",a=r.tags&&r.keys&&r.keys.cloudRoleInstance&&r.tags[r.keys.cloudRoleInstance]||i,s=r.tags&&r.keys&&r.keys.cloudRole&&r.tags[r.keys.cloudRole]||null;return{Documents:t.length>0?t:null,InstrumentationKey:n.instrumentationKey||"",Metrics:e.length>0?e:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:r.tags[r.keys.internalSdkVersion],StreamId:u,MachineName:i,Instance:a,RoleName:s}},e.createQuickPulseMetric=function(e){return{Name:e.name,Value:e.value,Weight:e.count||1}},e.telemetryEnvelopeToQuickPulseDocument=function(t){switch(t.data.baseType){case i.TelemetryTypeString.Event:return e.createQuickPulseEventDocument(t);case i.TelemetryTypeString.Exception:return e.createQuickPulseExceptionDocument(t);case i.TelemetryTypeString.Trace:return e.createQuickPulseTraceDocument(t);case i.TelemetryTypeString.Dependency:return e.createQuickPulseDependencyDocument(t);case i.TelemetryTypeString.Request:return e.createQuickPulseRequestDocument(t)}return null},e.createQuickPulseEventDocument=function(t){var n=e.createQuickPulseDocument(t),o=t.data.baseData.name;return r(r({},n),{Name:o})},e.createQuickPulseTraceDocument=function(t){var n=e.createQuickPulseDocument(t),o=t.data.baseData.severityLevel||0;return r(r({},n),{Message:t.data.baseData.message,SeverityLevel:i.SeverityLevel[o]})},e.createQuickPulseExceptionDocument=function(t){var n=e.createQuickPulseDocument(t),o=t.data.baseData.exceptions,i="",a="",s="";return o&&o.length>0&&(o[0].parsedStack&&o[0].parsedStack.length>0?o[0].parsedStack.forEach((function(e){i+=e.assembly+"\n"})):o[0].stack&&o[0].stack.length>0&&(i=o[0].stack),a=o[0].message,s=o[0].typeName),r(r({},n),{Exception:i,ExceptionMessage:a,ExceptionType:s})},e.createQuickPulseRequestDocument=function(t){var n=e.createQuickPulseDocument(t),o=t.data.baseData;return r(r({},n),{Name:o.name,Success:o.success,Duration:o.duration,ResponseCode:o.responseCode,OperationName:o.name})},e.createQuickPulseDependencyDocument=function(t){var n=e.createQuickPulseDocument(t),o=t.data.baseData;return r(r({},n),{Name:o.name,Target:o.target,Success:o.success,Duration:o.duration,ResultCode:o.resultCode,CommandName:o.data,OperationName:n.OperationId,DependencyTypeName:o.type})},e.createQuickPulseDocument=function(t){var n,r;return t.data.baseType?(r=a.TelemetryTypeStringToQuickPulseType[t.data.baseType],n=a.TelemetryTypeStringToQuickPulseDocumentType[t.data.baseType]):c.warn("Document type invalid; not sending live metric document",t.data.baseType),{DocumentType:n,__type:r,OperationId:t.tags[e.keys.operationId],Version:"1.0",Properties:e.aggregateProperties(t)}},e.aggregateProperties=function(e){var t=[],n=e.data.baseData.measurements||{};for(var r in n)if(n.hasOwnProperty(r)){var o={key:r,value:n[r]};t.push(o)}var i=e.data.baseData.properties||{};for(var r in i)if(i.hasOwnProperty(r)){o={key:r,value:i[r]};t.push(o)}return t},e.keys=new i.ContextTagKeys,e}();t.exports=l})),ao=j((function(e,t){"use strict";t.exports={getTransmissionTime:function(){return 1e4*(Date.now()+621355968e5)}}})),so=j((function(e,t){"use strict";var r=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=e&&e.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=n(21),a=no(),s=V(),c=ao(),u=En(),l="POST",p="x-ms-qps-transmission-time",f="x-ms-qps-service-polling-interval-hint",d="x-ms-qps-service-endpoint-redirect",h="x-ms-qps-instance-name",v="x-ms-qps-stream-id",_="x-ms-qps-machine-name",y="x-ms-qps-role-name",g="x-ms-qps-invariant-version",m="x-ms-qps-subscribed",E=function(){function e(e){this._config=e,this._consecutiveErrors=0}return e.prototype.ping=function(e,t,n){var r=[{name:v,value:e.StreamId},{name:_,value:e.MachineName},{name:y,value:e.RoleName},{name:h,value:e.Instance},{name:g,value:e.InvariantVersion.toString()}];this._submitData(e,t,n,"ping",r)},e.prototype.post=function(e,t,n){return r(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,this._submitData([e],t,n,"post")];case 1:return r.sent(),[2]}}))}))},e.prototype._submitData=function(e,t,n,s,h){return r(this,void 0,void 0,(function(){var r,v,_,y,g,E=this;return o(this,(function(o){return r=JSON.stringify(e),(y={})[a.disableCollectionRequestOption]=!0,y.host=t&&t.length>0?t:this._config.quickPulseHost,y.method=l,y.path="/QuickPulseService.svc/"+s+"?ikey="+this._config.instrumentationKey,y.headers=((g={Expect:"100-continue"})[p]=c.getTransmissionTime(),g["Content-Type"]="application/json",g["Content-Length"]=Buffer.byteLength(r),g),v=y,h&&h.length>0&&h.forEach((function(e){return v.headers[e.name]=e.value})),this._config.httpsAgent?v.agent=this._config.httpsAgent:v.agent=u.tlsRestrictedAgent,(_=i.request(v,(function(e){if(200==e.statusCode){var t="true"===e.headers[m],r=e.headers[d]?e.headers[d].toString():null,o=e.headers[f]?parseInt(e.headers[f].toString()):null;E._consecutiveErrors=0,n(t,e,r,o)}else E._onError("StatusCode:"+e.statusCode+" StatusMessage:"+e.statusMessage),n()}))).on("error",(function(e){E._onError(e),n()})),_.write(r),_.end(),[2]}))}))},e.prototype._onError=function(t){this._consecutiveErrors++;var n="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%e.MAX_QPS_FAILURES_BEFORE_WARN==0?(n="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",s.warn(e.TAG,n,t)):s.info(e.TAG,n,t)},e.TAG="QuickPulseSender",e.MAX_QPS_FAILURES_BEFORE_WARN=25,e}();t.exports=E})),co=j((function(e,t){"use strict";var n=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},r=e&&e.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},o=V(),i=io(),a=so(),s=Br(),c=Yr(),u=function(){function e(e,t){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=e,this.context=t||new c,this._sender=new a(this.config),this._isEnabled=!1}return e.prototype.addCollector=function(e){this._collectors.push(e)},e.prototype.trackMetric=function(e){this._addMetric(e)},e.prototype.addDocument=function(e){var t=i.telemetryEnvelopeToQuickPulseDocument(e);t&&this._documents.push(t)},e.prototype.enable=function(e){e&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!e&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},e.prototype.enableCollectors=function(e){this._collectors.forEach((function(t){t.enable(e)}))},e.prototype._addMetric=function(e){var t=e.value,n=e.count||1,r=s.PerformanceToQuickPulseCounter[e.name];r&&(this._metrics[r]?(this._metrics[r].Value=(this._metrics[r].Value*this._metrics[r].Weight+t*n)/(this._metrics[r].Weight+n),this._metrics[r].Weight+=n):(this._metrics[r]=i.createQuickPulseMetric(e),this._metrics[r].Name=r,this._metrics[r].Weight=1))},e.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},e.prototype._goQuickPulse=function(){return n(this,void 0,void 0,(function(){var t,n,o,a,s=this;return r(this,(function(r){switch(r.label){case 0:return t=Object.keys(this._metrics).map((function(e){return s._metrics[e]})),n=i.createQuickPulseEnvelope(t,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(n)]:[3,2];case 1:return r.sent(),[3,3];case 2:this._ping(n),r.label=3;case 3:return o=this._pollingIntervalHint>0?this._pollingIntervalHint:e.PING_INTERVAL,a=this._isCollectingData?e.POST_INTERVAL:o,this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,a=e.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(a=e.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),a),this._handle.unref(),[2]}}))}))},e.prototype._ping=function(e){this._sender.ping(e,this._redirectedHost,this._quickPulseDone.bind(this))},e.prototype._post=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this._sender.post(e,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return t.sent(),[2]}}))}))},e.prototype._quickPulseDone=function(e,t,n,r){null!=e?(this._isCollectingData!==e&&(o.info("Live Metrics sending data",e),this.enableCollectors(e)),this._isCollectingData=e,n&&n.length>0&&(this._redirectedHost=n,o.info("Redirecting endpoint to: ",n)),r&&r>0&&(this._pollingIntervalHint=r),t&&t.statusCode<300&&t.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},e.MAX_POST_WAIT_TIME=2e4,e.MAX_PING_WAIT_TIME=6e4,e.FALLBACK_INTERVAL=6e4,e.PING_INTERVAL=5e3,e.POST_INTERVAL=1e3,e}();t.exports=u})),uo=j((function(e,t){"use strict";var n=Br(),r=function(){function e(){}return e.parse=function(t){if(!t)return{};var r=t.split(e._FIELDS_SEPARATOR).reduce((function(t,n){var r=n.split(e._FIELD_KEY_VALUE_SEPARATOR);if(2===r.length){var o=r[0].toLowerCase(),i=r[1];t[o]=i}return t}),{});if(Object.keys(r).length>0){if(r.endpointsuffix){var o=r.location?r.location+".":"";r.ingestionendpoint=r.ingestionendpoint||"https://"+o+"dc."+r.endpointsuffix,r.liveendpoint=r.liveendpoint||"https://"+o+"live."+r.endpointsuffix}r.ingestionendpoint=r.ingestionendpoint||n.DEFAULT_BREEZE_ENDPOINT,r.liveendpoint=r.liveendpoint||n.DEFAULT_LIVEMETRICS_ENDPOINT}return r},e._FIELDS_SEPARATOR=";",e._FIELD_KEY_VALUE_SEPARATOR="=",e}();t.exports=r})),lo=j((function(e,t){"use strict";var r=bn(),o=uo(),i=(V(),Br()),a=n(14),s=function(){function e(t){var n=this;this.endpointBase=i.DEFAULT_BREEZE_ENDPOINT;var r=process.env[e.ENV_connectionString],s=o.parse(t),c=o.parse(r),u=!s.instrumentationkey&&Object.keys(s).length>0?null:t;this.instrumentationKey=s.instrumentationkey||u||c.instrumentationkey||e._getInstrumentationKey(),e._validateInstrumentationKey(this.instrumentationKey),this.endpointUrl=(s.ingestionendpoint||c.ingestionendpoint||this.endpointBase)+"/v2.1/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=3e4,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(e){return n.correlationId=e},this.proxyHttpUrl=process.env[e.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[e.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=s.ingestionendpoint||c.ingestionendpoint||process.env[e.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=s.liveendpoint||c.liveendpoint||process.env[e.ENV_quickPulseHost]||i.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=a.parse(this._quickPulseHost).host)}return Object.defineProperty(e.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(e){r.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=e,this.correlationId=r.correlationIdPrefix,r.queryCorrelationId(this,this.setCorrelationId)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(e){this._quickPulseHost=e},enumerable:!1,configurable:!0}),e._getInstrumentationKey=function(){var t=process.env[e.ENV_iKey]||process.env[e.ENV_azurePrefix+e.ENV_iKey]||process.env[e.legacy_ENV_iKey]||process.env[e.ENV_azurePrefix+e.legacy_ENV_iKey];if(!t||""==t)throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return t},e._validateInstrumentationKey=function(e){return new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e)},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",e.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",e.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",e.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",e.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",e.ENV_http_proxy="http_proxy",e.ENV_https_proxy="https_proxy",e}();t.exports=s})),po=j((function(e){"use strict";var t=e&&e.__assign||function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AutoCollectNativePerformance=void 0;var r=lo(),o=Yr(),i=V(),a=function(){function e(t){this._disabledMetrics={},e.INSTANCE&&e.INSTANCE.dispose(),e.INSTANCE=this,this._client=t}return e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>=6},e.prototype.enable=function(t,r,o){var a=this;if(void 0===r&&(r={}),void 0===o&&(o=6e4),e.isNodeVersionCompatible()){if(null==e._metricsAvailable&&t&&!this._isInitialized)try{var s=n(!function(){var e=new Error("Cannot find module 'applicationinsights-native-metrics'");throw e.code="MODULE_NOT_FOUND",e}());e._emitter=new s,e._metricsAvailable=!0,i.info("Native metrics module successfully loaded!")}catch(t){return void(e._metricsAvailable=!1)}this._isEnabled=t,this._disabledMetrics=r,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&e._emitter?(e._emitter.enable(!0,o),this._handle||(this._handle=setInterval((function(){return a._trackNativeMetrics()}),o),this._handle.unref())):e._emitter&&(e._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},e.prototype.dispose=function(){this.enable(!1)},e.parseEnabled=function(e){var n=process.env[r.ENV_nativeMetricsDisableAll],o=process.env[r.ENV_nativeMetricsDisablers];if(n)return{isEnabled:!1,disabledMetrics:{}};if(o){var i=o.split(","),a={};if(i.length>0)for(var s=0,c=i;s<c.length;s++){a[c[s]]=!0}return"object"==m(e)?{isEnabled:!0,disabledMetrics:t(t({},e),a)}:{isEnabled:e,disabledMetrics:a}}return"boolean"==typeof e?{isEnabled:e,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:e}},e.prototype._trackNativeMetrics=function(){var e=!0;"object"!=m(this._isEnabled)&&(e=this._isEnabled),e&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},e.prototype._trackGarbageCollection=function(){var t;if(!this._disabledMetrics.gc){var n=e._emitter.getGCData();for(var r in n){var i=n[r].metrics,a=r+" Garbage Collection Duration",s=Math.sqrt(i.sumSquares/i.count-Math.pow(i.total/i.count,2))||0;this._client.trackMetric({name:a,value:i.total,count:i.count,max:i.max,min:i.min,stdDev:s,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,t)})}}},e.prototype._trackEventLoop=function(){var t;if(!this._disabledMetrics.loop){var n=e._emitter.getLoopData().loopUsage;if(0!=n.count){var r=Math.sqrt(n.sumSquares/n.count-Math.pow(n.total/n.count,2))||0;this._client.trackMetric({name:"Event Loop CPU Time",value:n.total,count:n.count,min:n.min,max:n.max,stdDev:r,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,t)})}}},e.prototype._trackHeapUsage=function(){var e,t,n;if(!this._disabledMetrics.heap){var r=process.memoryUsage(),i=r.heapUsed,a=r.heapTotal,s=r.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:i,count:1,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,e)}),this._client.trackMetric({name:"Memory Total (Heap)",value:a,count:1,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,t)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:s-a,count:1,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,n)})}},e}();e.AutoCollectNativePerformance=a})),fo=j((function(e,t){"use strict";var n=V(),r=function(){function e(e,t,n,r){this._buffer=[],this._lastSend=0,this._isDisabled=e,this._getBatchSize=t,this._getBatchIntervalMs=n,this._sender=r}return e.prototype.setUseDiskRetryCaching=function(e,t,n){this._sender.setDiskRetryMode(e,t,n)},e.prototype.send=function(e){var t=this;if(!this._isDisabled()){if(!e)return void n.warn("Cannot send null/undefined telemetry");if(this._buffer.push(e),this._buffer.length>=this._getBatchSize())return void this.triggerSend(!1);!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout((function(){t._timeoutHandle=null,t.triggerSend(!1)}),this._getBatchIntervalMs()))}},e.prototype.triggerSend=function(e,t){var n=this._buffer.length<1;n||(e?(this._sender.saveOnCrash(this._buffer),"function"==typeof t&&t("data saved on crash")):this._sender.send(this._buffer,t)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,n&&"function"==typeof t&&t("no data to send")},e}();t.exports=r})),ho=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.azureRoleEnvironmentTelemetryProcessor=void 0,e.azureRoleEnvironmentTelemetryProcessor=function(e,t){process.env.WEBSITE_SITE_NAME&&(e.tags[t.keys.cloudRole]=process.env.WEBSITE_SITE_NAME)}})),vo=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSamplingHashCode=e.samplingTelemetryProcessor=void 0;var t=dr();function n(e){var t=2147483647,n=5381;if(!e)return 0;for(;e.length<8;)e+=e;for(var r=0;r<e.length;r++)n=((n<<5)+n|0)+e.charCodeAt(r)|0;return(n=n<=-2147483648?t:Math.abs(n))/t*100}e.samplingTelemetryProcessor=function(e,r){var o=e.sampleRate;return!!(null==o||o>=100||e.data&&t.TelemetryType.Metric===t.baseTypeToTelemetryType(e.data.baseType))||(r.correlationContext&&r.correlationContext.operation?n(r.correlationContext.operation.id)<o:100*Math.random()<o)},e.getSamplingHashCode=n})),_o=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.performanceMetricsTelemetryProcessor=void 0;var t=Fr(),n=dr();e.performanceMetricsTelemetryProcessor=function(e,r){switch(r&&r.addDocument(e),e.data.baseType){case n.TelemetryTypeString.Exception:t.countException();break;case n.TelemetryTypeString.Request:var o=e.data.baseData;t.countRequest(o.duration,o.success);break;case n.TelemetryTypeString.Dependency:var i=e.data.baseData;t.countDependency(i.duration,i.success)}return!0}})),yo=j((function(e){"use strict";var t=e&&e.__assign||function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.preAggregatedMetricsTelemetryProcessor=void 0;var n=dr(),r=Xr(),o=dr();e.preAggregatedMetricsTelemetryProcessor=function(e,i){if(r.isEnabled())switch(e.data.baseType){case o.TelemetryTypeString.Exception:var a=e.data.baseData;a.properties=t(t({},a.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var s={cloudRoleInstance:e.tags[i.keys.cloudRoleInstance],cloudRoleName:e.tags[i.keys.cloudRole]};r.countException(s);break;case o.TelemetryTypeString.Trace:var c=e.data.baseData;c.properties=t(t({},c.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var u={cloudRoleInstance:e.tags[i.keys.cloudRoleInstance],cloudRoleName:e.tags[i.keys.cloudRole],traceSeverityLevel:n.SeverityLevel[c.severity]};r.countTrace(u);break;case o.TelemetryTypeString.Request:var l=e.data.baseData;l.properties=t(t({},l.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var p={cloudRoleInstance:e.tags[i.keys.cloudRoleInstance],cloudRoleName:e.tags[i.keys.cloudRole],operationSynthetic:e.tags[i.keys.operationSyntheticSource],requestSuccess:l.success,requestResultCode:l.responseCode};r.countRequest(l.duration,p);break;case o.TelemetryTypeString.Dependency:var f=e.data.baseData;f.properties=t(t({},f.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var d={cloudRoleInstance:e.tags[i.keys.cloudRoleInstance],cloudRoleName:e.tags[i.keys.cloudRole],operationSynthetic:e.tags[i.keys.operationSyntheticSource],dependencySuccess:f.success,dependencyType:f.type,dependencyTarget:f.target,dependencyResultCode:f.resultCode};r.countDependency(f.duration,d)}return!0}})),go=j((function(e){"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(ho(),e),n(vo(),e),n(_o(),e),n(yo(),e)})),mo=j((function(e,t){"use strict";var r=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=e&&e.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=n(2),a=n(7),s=n(0),c=n(9),u=n(27),l=V(),p=no(),f=En(),d=function(){function e(t,n,r){if(this._redirectedHost=null,this._config=t,this._onSuccess=n,this._onError=r,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._fileCleanupTimer=null,this._tempDir=s.join(a.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey),!e.OS_PROVIDES_FILE_PROTECTION)if(e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=i.existsSync(e.ICACLS_PATH)}catch(e){}e.OS_PROVIDES_FILE_PROTECTION||l.warn(e.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else e.OS_PROVIDES_FILE_PROTECTION=!0}return e.prototype.setDiskRetryMode=function(t,n,r){var o=this;this._enableDiskRetryMode=e.OS_PROVIDES_FILE_PROTECTION&&t,"number"==typeof n&&n>=0&&(this._resendInterval=Math.floor(n)),"number"==typeof r&&r>=0&&(this._maxBytesOnDisk=Math.floor(r)),t&&!e.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,l.warn(e.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout((function(){o._fileCleanupTask()}),e.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref()):this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer)},e.prototype.send=function(t,n){return r(this,void 0,void 0,(function(){var r,i,a,s,u=this;return o(this,(function(o){return t&&(r=this._redirectedHost||this._config.endpointUrl,i={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},a="",t.forEach((function(e){var t=u._stringify(e);"string"==typeof t&&(a+=t+"\n")})),a.length>0&&(a=a.substring(0,a.length-1)),s=Buffer.from?Buffer.from(a):new Buffer(a),c.gzip(s,(function(o,a){var c=a;o?(l.warn(o),c=s,i.headers["Content-Length"]=s.length.toString()):(i.headers["Content-Encoding"]="gzip",i.headers["Content-Length"]=a.length.toString()),l.info(e.TAG,i),i[p.disableCollectionRequestOption]=!0;var d=f.makeRequest(u._config,r,i,(function(r){r.setEncoding("utf-8");var o="";r.on("data",(function(e){o+=e})),r.on("end",(function(){if(u._numConsecutiveFailures=0,u._enableDiskRetryMode)if(200===r.statusCode)u._resendTimer||(u._resendTimer=setTimeout((function(){u._resendTimer=null,u._sendFirstFileOnDisk()}),u._resendInterval),u._resendTimer.unref());else if(u._isRetriable(r.statusCode))try{var i=JSON.parse(o),a=[];i.errors.forEach((function(e){u._isRetriable(e.statusCode)&&a.push(t[e.index])})),a.length>0&&u._storeToDisk(a)}catch(e){u._storeToDisk(t)}if(307===r.statusCode||308===r.statusCode)if(u._numConsecutiveRedirects++,u._numConsecutiveRedirects<10){var s=r.headers.location?r.headers.location.toString():null;s&&(u._redirectedHost=s,u.send(t,n))}else"function"==typeof n&&n("Error sending telemetry because of circular redirects.");else u._numConsecutiveRedirects=0,"function"==typeof n&&n(o),l.info(e.TAG,o),"function"==typeof u._onSuccess&&u._onSuccess(o)}))}));d.on("error",(function(r){if(u._numConsecutiveFailures++,!u._enableDiskRetryMode||u._numConsecutiveFailures>0&&u._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var o="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";u._enableDiskRetryMode&&(o="Ingestion endpoint could not be reached "+u._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),l.warn(e.TAG,o,f.dumpObj(r))}else{o="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";l.info(e.TAG,o,f.dumpObj(r))}u._onErrorHelper(r),"function"==typeof n&&(r&&n(f.dumpObj(r)),n("Error sending telemetry")),u._enableDiskRetryMode&&u._storeToDisk(t)})),d.write(c),d.end()}))),[2]}))}))},e.prototype.saveOnCrash=function(e){this._enableDiskRetryMode&&this._storeToDiskSync(this._stringify(e))},e.prototype._isRetriable=function(e){return 206===e||408===e||429===e||439===e||500===e||503===e},e.prototype._runICACLS=function(t,n){var r=u.spawn(e.ICACLS_PATH,t,{windowsHide:!0});r.on("error",(function(e){return n(e)})),r.on("close",(function(e,t){return n(0===e?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+e+")"))}))},e.prototype._runICACLSSync=function(t){if(!u.spawnSync)throw new Error("Could not synchronously call ICACLS under current version of Node.js");var n=u.spawnSync(e.ICACLS_PATH,t,{windowsHide:!0});if(n.error)throw n.error;if(0!==n.status)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+n.status+")")},e.prototype._getACLIdentity=function(t){if(e.ACL_IDENTITY)return t(null,e.ACL_IDENTITY);var n=u.spawn(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),r="";n.stdout.on("data",(function(e){return r+=e})),n.on("error",(function(e){return t(e,null)})),n.on("close",(function(n,o){return e.ACL_IDENTITY=r&&r.trim(),t(0===n?null:new Error("Getting ACL identity did not succeed (PS returned code "+n+")"),e.ACL_IDENTITY)}))},e.prototype._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(u.spawnSync){var t=u.spawnSync(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(t.error)throw t.error;if(0!==t.status)throw new Error("Getting ACL identity did not succeed (PS returned code "+t.status+")");return e.ACL_IDENTITY=t.stdout&&t.stdout.toString().trim(),e.ACL_IDENTITY}throw new Error("Could not synchronously get ACL identity under current version of Node.js")},e.prototype._getACLArguments=function(e,t){return[e,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",t+":(OI)(CI)F","/inheritance:r"]},e.prototype._applyACLRules=function(t,n){var r=this;return e.USE_ICACLS?void 0!==e.ACLED_DIRECTORIES[t]?n(e.ACLED_DIRECTORIES[t]?null:new Error("Setting ACL restrictions did not succeed (cached result)")):(e.ACLED_DIRECTORIES[t]=!1,void this._getACLIdentity((function(o,i){if(o)return e.ACLED_DIRECTORIES[t]=!1,n(o);r._runICACLS(r._getACLArguments(t,i),(function(r){return e.ACLED_DIRECTORIES[t]=!r,n(r)}))}))):n(null)},e.prototype._applyACLRulesSync=function(t){if(e.USE_ICACLS){if(void 0===e.ACLED_DIRECTORIES[t])return this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),void(e.ACLED_DIRECTORIES[t]=!0);if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},e.prototype._confirmDirExists=function(e,t){var n=this;i.lstat(e,(function(r,o){r&&"ENOENT"===r.code?i.mkdir(e,(function(r){r&&"EEXIST"!==r.code?t(r):n._applyACLRules(e,t)})):!r&&o.isDirectory()?n._applyACLRules(e,t):t(r||new Error("Path existed but was not a directory"))}))},e.prototype._getShallowDirectorySize=function(e,t){i.readdir(e,(function(n,r){if(n)return t(n,-1);var o=null,a=0,c=0;if(0!==r.length)for(var u=0;u<r.length;u++)i.stat(s.join(e,r[u]),(function(e,n){c++,e?o=e:n.isFile()&&(a+=n.size),c===r.length&&t(o,o?-1:a)}));else t(null,0)}))},e.prototype._getShallowDirectorySizeSync=function(e){for(var t=i.readdirSync(e),n=0,r=0;r<t.length;r++)n+=i.statSync(s.join(e,t[r])).size;return n},e.prototype._storeToDisk=function(t){var n=this;l.info(e.TAG,"Checking existence of data storage directory: "+this._tempDir),this._confirmDirExists(this._tempDir,(function(r){if(r)return l.warn(e.TAG,"Error while checking/creating directory: "+(r&&r.message)),void n._onErrorHelper(r);n._getShallowDirectorySize(n._tempDir,(function(r,o){if(r||o<0)return l.warn(e.TAG,"Error while checking directory size: "+(r&&r.message)),void n._onErrorHelper(r);if(o>n._maxBytesOnDisk)l.warn(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+o);else{var a=(new Date).getTime()+".ai.json",c=s.join(n._tempDir,a);l.info(e.TAG,"saving data to disk at: "+c),i.writeFile(c,n._stringify(t),{mode:384},(function(e){return n._onErrorHelper(e)}))}}))}))},e.prototype._storeToDiskSync=function(t){try{l.info(e.TAG,"Checking existence of data storage directory: "+this._tempDir),i.existsSync(this._tempDir)||i.mkdirSync(this._tempDir),this._applyACLRulesSync(this._tempDir);var n=this._getShallowDirectorySizeSync(this._tempDir);if(n>this._maxBytesOnDisk)return void l.info(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+n);var r=(new Date).getTime()+".ai.json",o=s.join(this._tempDir,r);l.info(e.TAG,"saving data before crash to disk at: "+o),i.writeFileSync(o,t,{mode:384})}catch(t){l.warn(e.TAG,"Error while saving data to disk: "+(t&&t.message)),this._onErrorHelper(t)}},e.prototype._sendFirstFileOnDisk=function(){var e=this;i.exists(this._tempDir,(function(t){t&&i.readdir(e._tempDir,(function(t,n){if(t)e._onErrorHelper(t);else if((n=n.filter((function(e){return s.basename(e).indexOf(".ai.json")>-1}))).length>0){var r=n[0],o=s.join(e._tempDir,r);i.readFile(o,(function(t,n){t?e._onErrorHelper(t):i.unlink(o,(function(t){if(t)e._onErrorHelper(t);else try{var r=JSON.parse(n.toString());e.send(r)}catch(e){l.warn("Failed to read persisted file",e)}}))}))}}))}))},e.prototype._onErrorHelper=function(e){"function"==typeof this._onError&&this._onError(e)},e.prototype._stringify=function(e){try{return JSON.stringify(e)}catch(t){l.warn("Failed to serialize payload",t,e)}},e.prototype._fileCleanupTask=function(){var t=this;i.exists(this._tempDir,(function(n){n&&i.readdir(t._tempDir,(function(n,r){n?t._onErrorHelper(n):(r=r.filter((function(e){return s.basename(e).indexOf(".ai.json")>-1}))).length>0&&r.forEach((function(n){var r=new Date(parseInt(n.split(".ai.json")[0]));if(new Date(+new Date-e.FILE_RETEMPTION_PERIOD)>r){var o=s.join(t._tempDir,n);i.unlink(o,(function(e){e&&t._onErrorHelper(e)}))}}))}))}))},e.TAG="Sender",e.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",e.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.WAIT_BETWEEN_RESEND=6e4,e.MAX_BYTES_ON_DISK=52428800,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.CLEANUP_TIMEOUT=36e5,e.FILE_RETEMPTION_PERIOD=6048e5,e.TEMPDIR_PREFIX="appInsights-node",e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS="Windows_NT"===a.type(),e}();t.exports=d})),Eo=j((function(e,t){"use strict";var n=dr(),r=En(),o=jr(),i=function(){function e(){}return e.createEnvelope=function(t,o,i,a,s){var c=null;switch(o){case n.TelemetryType.Trace:c=e.createTraceData(t);break;case n.TelemetryType.Dependency:c=e.createDependencyData(t);break;case n.TelemetryType.Event:c=e.createEventData(t);break;case n.TelemetryType.Exception:c=e.createExceptionData(t);break;case n.TelemetryType.Request:c=e.createRequestData(t);break;case n.TelemetryType.Metric:c=e.createMetricData(t);break;case n.TelemetryType.Availability:c=e.createAvailabilityData(t);break;case n.TelemetryType.PageView:c=e.createPageViewData(t)}if(i&&n.domainSupportsProperties(c.baseData)){if(c&&c.baseData)if(c.baseData.properties)for(var u in i)c.baseData.properties[u]||(c.baseData.properties[u]=i[u]);else c.baseData.properties=i;c.baseData.properties=r.validateStringMap(c.baseData.properties)}var l=s&&s.instrumentationKey||"",p=new n.Envelope;return p.data=c,p.iKey=l,p.name="Microsoft.ApplicationInsights."+l.replace(/-/g,"")+"."+c.baseType.substr(0,c.baseType.length-4),p.tags=this.getTags(a,t.tagOverrides),p.time=(new Date).toISOString(),p.ver=1,p.sampleRate=s?s.samplingPercentage:100,o===n.TelemetryType.Metric&&(p.sampleRate=100),p},e.createTraceData=function(e){var t=new n.MessageData;t.message=e.message,t.properties=e.properties,isNaN(e.severity)?t.severityLevel=n.SeverityLevel.Information:t.severityLevel=e.severity;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Trace),r.baseData=t,r},e.createDependencyData=function(e){var t=new n.RemoteDependencyData;"string"==typeof e.name&&(t.name=e.name.length>1024?e.name.slice(0,1021)+"...":e.name),t.data=e.data,t.target=e.target,t.duration=r.msToTimeSpan(e.duration),t.success=e.success,t.type=e.dependencyTypeName,t.properties=e.properties,t.resultCode=e.resultCode?e.resultCode+"":"",e.id?t.id=e.id:t.id=r.w3cTraceId();var o=new n.Data;return o.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Dependency),o.baseData=t,o},e.createEventData=function(e){var t=new n.EventData;t.name=e.name,t.properties=e.properties,t.measurements=e.measurements;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Event),r.baseData=t,r},e.createExceptionData=function(e){var t=new n.ExceptionData;t.properties=e.properties,isNaN(e.severity)?t.severityLevel=n.SeverityLevel.Error:t.severityLevel=e.severity,t.measurements=e.measurements,t.exceptions=[];var o=e.exception.stack,i=new n.ExceptionDetails;i.message=e.exception.message,i.typeName=e.exception.name,i.parsedStack=this.parseStack(o),i.hasFullStack=r.isArray(i.parsedStack)&&i.parsedStack.length>0,t.exceptions.push(i);var a=new n.Data;return a.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Exception),a.baseData=t,a},e.createRequestData=function(e){var t=new n.RequestData;e.id?t.id=e.id:t.id=r.w3cTraceId(),t.name=e.name,t.url=e.url,t.source=e.source,t.duration=r.msToTimeSpan(e.duration),t.responseCode=e.resultCode?e.resultCode+"":"",t.success=e.success,t.properties=e.properties;var o=new n.Data;return o.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Request),o.baseData=t,o},e.createMetricData=function(e){var t=new n.MetricData;t.metrics=[];var r=new n.DataPoint;r.count=isNaN(e.count)?1:e.count,r.kind=n.DataPointType.Aggregation,r.max=isNaN(e.max)?e.value:e.max,r.min=isNaN(e.min)?e.value:e.min,r.name=e.name,r.stdDev=isNaN(e.stdDev)?0:e.stdDev,r.value=e.value,t.metrics.push(r),t.properties=e.properties;var o=new n.Data;return o.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Metric),o.baseData=t,o},e.createAvailabilityData=function(e){var t=new n.AvailabilityData;e.id?t.id=e.id:t.id=r.w3cTraceId(),t.name=e.name,t.duration=r.msToTimeSpan(e.duration),t.success=e.success,t.runLocation=e.runLocation,t.message=e.message,t.measurements=e.measurements,t.properties=e.properties;var o=new n.Data;return o.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Availability),o.baseData=t,o},e.createPageViewData=function(e){var t=new n.PageViewData;t.name=e.name,t.duration=r.msToTimeSpan(e.duration),t.url=e.url,t.measurements=e.measurements,t.properties=e.properties;var o=new n.Data;return o.baseType=n.telemetryTypeToBaseType(n.TelemetryType.PageView),o.baseData=t,o},e.getTags=function(e,t){var n=o.CorrelationContextManager.getCurrentContext(),r={};if(e&&e.tags)for(var i in e.tags)r[i]=e.tags[i];if(t)for(var i in t)r[i]=t[i];return n&&(r[e.keys.operationId]=r[e.keys.operationId]||n.operation.id,r[e.keys.operationName]=r[e.keys.operationName]||n.operation.name,r[e.keys.operationParentId]=r[e.keys.operationParentId]||n.operation.parentId),r},e.parseStack=function(e){var t=void 0;if("string"==typeof e){var n=e.split("\n");t=[];for(var r=0,o=0,i=0;i<=n.length;i++){var s=n[i];if(a.regex.test(s)){var c=new a(n[i],r++);o+=c.sizeInBytes,t.push(c)}}if(o>32768)for(var u=0,l=t.length-1,p=0,f=u,d=l;u<l;){if((p+=t[u].sizeInBytes+t[l].sizeInBytes)>32768){var h=d-f+1;t.splice(f,h);break}f=u,d=l,u++,l--}}return t},e}(),a=function(){function e(t,n){this.sizeInBytes=0,this.level=n,this.method="<no_method>",this.assembly=r.trim(t);var o=t.match(e.regex);o&&o.length>=5&&(this.method=r.trim(o[2])||this.method,this.fileName=r.trim(o[4])||"<no_filename>",this.line=parseInt(o[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,e.baseSize=58,e}();t.exports=i})),bo=j((function(e,t){"use strict";var r=n(14),o=lo(),i=Yr(),a=dr(),s=fo(),c=go(),u=jr(),l=mo(),p=En(),f=V(),d=Eo(),h=function(){function e(e){this._telemetryProcessors=[],this._enableAzureProperties=!1;var t=new o(e);this.config=t,this.context=new i,this.commonProperties={};var n=new l(this.config);this.channel=new s((function(){return t.disableAppInsights}),(function(){return t.maxBatchSize}),(function(){return t.maxBatchIntervalMs}),n)}return e.prototype.trackAvailability=function(e){this.track(e,a.TelemetryType.Availability)},e.prototype.trackPageView=function(e){this.track(e,a.TelemetryType.PageView)},e.prototype.trackTrace=function(e){this.track(e,a.TelemetryType.Trace)},e.prototype.trackMetric=function(e){this.track(e,a.TelemetryType.Metric)},e.prototype.trackException=function(e){e&&e.exception&&!p.isError(e.exception)&&(e.exception=new Error(e.exception.toString())),this.track(e,a.TelemetryType.Exception)},e.prototype.trackEvent=function(e){this.track(e,a.TelemetryType.Event)},e.prototype.trackRequest=function(e){this.track(e,a.TelemetryType.Request)},e.prototype.trackDependency=function(e){e&&!e.target&&e.data&&(e.target=r.parse(e.data).host),this.track(e,a.TelemetryType.Dependency)},e.prototype.flush=function(e){this.channel.triggerSend(!!e&&!!e.isAppCrashing,e?e.callback:void 0)},e.prototype.track=function(e,t){if(e&&a.telemetryTypeToBaseType(t)){var n=d.createEnvelope(e,t,this.commonProperties,this.context,this.config);e.time&&(n.time=e.time.toISOString()),this._enableAzureProperties&&c.azureRoleEnvironmentTelemetryProcessor(n,this.context);var r=this.runTelemetryProcessors(n,e.contextObjects);r=r&&c.samplingTelemetryProcessor(n,{correlationContext:u.CorrelationContextManager.getCurrentContext()}),c.preAggregatedMetricsTelemetryProcessor(n,this.context),r&&(c.performanceMetricsTelemetryProcessor(n,this.quickPulseClient),this.channel.send(n))}else f.warn("track() requires telemetry object and telemetryType to be specified.")},e.prototype.setAutoPopulateAzureProperties=function(e){this._enableAzureProperties=e},e.prototype.addTelemetryProcessor=function(e){this._telemetryProcessors.push(e)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(e,t){var n=!0,r=this._telemetryProcessors.length;if(0===r)return n;(t=t||{}).correlationContext=u.CorrelationContextManager.getCurrentContext();for(var o=0;o<r;++o)try{var i=this._telemetryProcessors[o];if(i&&!1===i.apply(null,[e,t])){n=!1;break}}catch(t){n=!0,f.warn("One of telemetry processors failed, telemetry item will be sent.",t,e)}return n&&(e&&e.tags&&(e.tags=p.validateStringMap(e.tags)),e&&e.data&&e.data.baseData&&e.data.baseData.properties&&(e.data.baseData.properties=p.validateStringMap(e.data.baseData.properties))),n},e}();t.exports=h})),To=j((function(e,t){"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=bo(),i=oo(),a=no(),s=V(),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.trackNodeHttpRequestSync=function(e){e&&e.request&&e.response&&e.duration?i.trackRequestSync(this,e):s.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},t.prototype.trackNodeHttpRequest=function(e){(e.duration||e.error)&&s.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),e&&e.request&&e.response?i.trackRequest(this,e):s.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},t.prototype.trackNodeHttpDependency=function(e){e&&e.request?a.trackRequest(this,e):s.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},t}(o);t.exports=c})),So=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ao=j((function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.Configuration=e.wrapWithCorrelationContext=e.startOperation=e.getCorrelationContext=e.start=e.setup=e.liveMetricsClient=e.defaultClient=e.DistributedTracingModes=void 0;var t,n,r=jr(),o=qr(),i=Gr(),a=Fr(),s=Xr(),c=ro(),u=no(),l=oo(),p=bn(),f=V(),d=co(),h=po();e.TelemetryClient=To(),e.Contracts=dr(),e.azureFunctionsTypes=So(),(n=t=e.DistributedTracingModes||(e.DistributedTracingModes={}))[n.AI=0]="AI",n[n.AI_AND_W3C=1]="AI_AND_W3C";var v,_,y,g,m,E,b,T,S,A,I,O=!0,C=!1,P=!0,w=!0,R=!0,N=!1,D=!0,x=!0,M=!0,k=!0,L=!1,j=!0,U=void 0,H=void 0,q=!1;function G(){return e.defaultClient?(q=!0,y.enable(O,C),g.enable(P),m.enable(w),E.enable(R),b.enable(N,e.defaultClient.config),T.enable(j,_),S.useAutoCorrelation(k,v),S.enable(D),A.enable(x),e.liveMetricsClient&&L&&e.liveMetricsClient.enable(L)):f.warn("Start cannot be called before setup"),B}e.setup=function(t){return e.defaultClient?f.info("The default client is already setup"):(e.defaultClient=new e.TelemetryClient(t),y=new o(e.defaultClient),g=new i(e.defaultClient),m=new a(e.defaultClient),E=new s(e.defaultClient),b=new c(e.defaultClient),S=new l(e.defaultClient),A=new u(e.defaultClient),T||(T=new h.AutoCollectNativePerformance(e.defaultClient))),e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(M,U,H),B},e.start=G,e.getCorrelationContext=function(){return k?r.CorrelationContextManager.getCurrentContext():null},e.startOperation=function(e,t){return r.CorrelationContextManager.startOperation(e,t)},e.wrapWithCorrelationContext=function(e,t){return r.CorrelationContextManager.wrapCallback(e,t)};var B=function(){function n(){}return n.setDistributedTracingMode=function(e){return p.w3cEnabled=e===t.AI_AND_W3C,n},n.setAutoCollectConsole=function(e,t){return void 0===t&&(t=!1),O=e,C=t,q&&y.enable(e,t),n},n.setAutoCollectExceptions=function(e){return P=e,q&&g.enable(e),n},n.setAutoCollectPerformance=function(e,t){void 0===t&&(t=!0),w=e;var r=h.AutoCollectNativePerformance.parseEnabled(t);return j=r.isEnabled,_=r.disabledMetrics,q&&(m.enable(e),T.enable(r.isEnabled,r.disabledMetrics)),n},n.setAutoCollectPreAggregatedMetrics=function(e){return R=e,q&&E.enable(e),n},n.setAutoCollectHeartbeat=function(t){return N=t,q&&b.enable(t,e.defaultClient.config),n},n.setAutoCollectRequests=function(e){return D=e,q&&S.enable(e),n},n.setAutoCollectDependencies=function(e){return x=e,q&&A.enable(e),n},n.setAutoDependencyCorrelation=function(e,t){return k=e,v=t,q&&S.useAutoCorrelation(e,t),n},n.setUseDiskRetryCaching=function(t,r,o){return M=t,U=r,H=o,e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(t,r,o),n},n.setInternalLogging=function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!0),f.enableDebug=e,f.disableWarnings=!t,n},n.setSendLiveMetrics=function(t){return void 0===t&&(t=!1),e.defaultClient?(!e.liveMetricsClient&&t?(e.liveMetricsClient=new d(e.defaultClient.config,null),I=new a(e.liveMetricsClient,1e3,!0),e.liveMetricsClient.addCollector(I),e.defaultClient.quickPulseClient=e.liveMetricsClient):e.liveMetricsClient&&e.liveMetricsClient.enable(t),L=t,n):(f.warn("Live metrics client cannot be setup without the default client"),n)},n.start=G,n}();e.Configuration=B,e.dispose=function(){p.w3cEnabled=!0,e.defaultClient=null,q=!1,y&&y.dispose(),g&&g.dispose(),m&&m.dispose(),E&&E.dispose(),b&&b.dispose(),T&&T.dispose(),S&&S.dispose(),A&&A.dispose(),e.liveMetricsClient&&(e.liveMetricsClient.enable(!1),L=!1,e.liveMetricsClient=void 0)}})),Io={};!function(e,t){for(var n in t)I(e,n,{get:t[n],enumerable:!0})}(Io,{default:function(){return Lo}}),e.exports=(S=Io,U(I({},"__esModule",{value:!0}),S));var Oo=H(n(7)),Co=H(n(72)),Po=H(n(21)),wo=function(){function e(t){h(this,e),this.vscodeAPI=t}return _(e,[{key:"getTelemetryLevel",value:function(){try{var e=this.vscodeAPI.env.telemetryConfiguration;return e.isUsageEnabled&&e.isErrorsEnabled&&e.isCrashEnabled?"on":e.isErrorsEnabled&&e.isCrashEnabled?"error":"off"}catch(e){return void 0!==this.vscodeAPI.env.isTelemetryEnabled?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration("telemetry").get("enableTelemetry")?"on":"off"}}}],[{key:"applyReplacements",value:function(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){var o,i=r[n],a=E(t);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.lookup.test(i)&&(void 0!==s.replacementString?e[i]=s.replacementString:delete e[i])}}catch(e){a.e(e)}finally{a.f()}}}},{key:"shouldUseOneDataSystemSDK",value:function(e){return 74===e.length&&"-"===e[32]&&"-"===e[41]&&"-"===e[46]&&"-"===e[51]&&"-"===e[56]&&"-"===e[69]}},{key:"getInstance",value:function(t){return e._instance||(e._instance=new e(t)),e._instance}}]),e}(),Ro=function(){function e(t,n,r,o,i,a){var s=this;h(this,e),this.extensionId=t,this.extensionVersion=n,this.telemetryAppender=r,this.osShim=o,this.vscodeAPI=i,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!a,this.updateUserOptStatus(),void 0!==i.env.onDidChangeTelemetryEnabled?(this.disposables.push(i.env.onDidChangeTelemetryEnabled((function(){return s.updateUserOptStatus()}))),this.disposables.push(i.workspace.onDidChangeConfiguration((function(){return s.updateUserOptStatus()})))):this.disposables.push(i.workspace.onDidChangeConfiguration((function(){return s.updateUserOptStatus()})))}return _(e,[{key:"updateUserOptStatus",value:function(){var e=wo.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn="on"===e,this.errorOptIn="error"===e||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}},{key:"cleanRemoteName",value:function(e){if(!e)return"none";var t="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach((function(n){0===e.indexOf("".concat(n))&&(t=n)})),t}},{key:"extension",get:function(){return void 0===this._extension&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension}},{key:"cloneAndChange",value:function(e,t){if(null===e||"object"!=m(e)||"function"!=typeof t)return e;var n={};for(var r in e)n[r]=t(r,e[r]);return n}},{key:"shouldSendErrorTelemetry",value:function(){return!1!==this.errorOptIn&&(!this.firstParty||!(this.vscodeAPI.env.remoteName&&"other"===this.cleanRemoteName(this.vscodeAPI.env.remoteName)))}},{key:"getCommonProperties",value:function(){var e={};if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(e["common.vscodemachineid"]=this.vscodeAPI.env.machineId,e["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,e["common.vscodeversion"]=this.vscodeAPI.version,e["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",e["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:e["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName)}return e}},{key:"anonymizeFilePaths",value:function(e,t){var n;if(null==e)return"";var r=[];""!==this.vscodeAPI.env.appRoot&&r.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&r.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));var o=e;if(t){var i,a=[],s=E(r);try{for(s.s();!(i=s.n()).done;)for(var c=i.value;(n=c.exec(e))&&n;)a.push([n.index,c.lastIndex])}catch(e){s.e(e)}finally{s.f()}var u=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,l=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,p=0;for(o="";(n=l.exec(e))&&n;)n[0]&&!u.test(n[0])&&a.every((function(e){var t=g(e,2),r=t[0],o=t[1];return n.index<r||n.index>=o}))&&(o+=e.substring(p,n.index)+"<REDACTED: user-file-path>",p=l.lastIndex);p<e.length&&(o+=e.substr(p))}for(var f=0,d=r;f<d.length;f++){var h=d[f];o=o.replace(h,"")}return o}},{key:"removePropertiesWithPossibleUserInfo",value:function(e){if("object"==m(e)){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var o=r[n],i=e[o];if(i){/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/.test(i.toLowerCase())?t[o]="<REDACTED: secret>":/@[a-zA-Z0-9-.]+/.test(i)?t[o]="<REDACTED: email>":/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/.test(i)?t[o]="<REDACTED: token>":t[o]=i}}return t}}},{key:"telemetryLevel",get:function(){switch(wo.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off"}}},{key:"internalSendTelemetryEvent",value:function(e,t,n,r,o){var i=this;if((this.userOptIn||o)&&""!==e){var a,s;if(t=k(k({},t),this.getCommonProperties()),r){var c=this.cloneAndChange(t,(function(e,t){return i.anonymizeFilePaths(t,i.firstParty)}));t=this.removePropertiesWithPossibleUserInfo(c)}t=null!==(a=t)&&void 0!==a?a:{},n=null!==(s=n)&&void 0!==s?s:{},e="".concat(this.extensionId,"/").concat(e),this.telemetryAppender.logEvent(e,{properties:t,measurements:n})}}},{key:"sendTelemetryEvent",value:function(e,t,n){this.internalSendTelemetryEvent(e,t,n,!0,!1)}},{key:"sendRawTelemetryEvent",value:function(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1,!1)}},{key:"sendDangerousTelemetryEvent",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(e,t,n,r,!0)}},{key:"internalSendTelemetryErrorEvent",value:function(e,t,n,r,o){var i=this;if((this.shouldSendErrorTelemetry()||o)&&""!==e){var a,s;if(t=k(k({},t),this.getCommonProperties()),r){var c=this.cloneAndChange(t,(function(e,t){return i.anonymizeFilePaths(t,i.firstParty)}));t=this.removePropertiesWithPossibleUserInfo(c)}t=null!==(a=t)&&void 0!==a?a:{},n=null!==(s=n)&&void 0!==s?s:{},e="".concat(this.extensionId,"/").concat(e),this.telemetryAppender.logEvent(e,{properties:t,measurements:n})}}},{key:"sendTelemetryErrorEvent",value:function(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!0,!1)}},{key:"sendDangerousTelemetryErrorEvent",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(e,t,n,r,!0)}},{key:"internalSendTelemetryException",value:function(e,t,n,r,o){var i=this;if((this.shouldSendErrorTelemetry()||o)&&e){var a,s;if(t=k(k({},t),this.getCommonProperties()),r){var c=this.cloneAndChange(t,(function(e,t){return i.anonymizeFilePaths(t,i.firstParty)}));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),t=this.removePropertiesWithPossibleUserInfo(c)}t=null!==(a=t)&&void 0!==a?a:{},n=null!==(s=n)&&void 0!==s?s:{},this.telemetryAppender.logException(e,{properties:t,measurements:n})}}},{key:"sendTelemetryException",value:function(e,t,n){this.internalSendTelemetryException(e,t,n,!0,!1)}},{key:"sendDangerousTelemetryException",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(e,t,n,r,!0)}},{key:"dispose",value:function(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map((function(e){return e.dispose()})))}}]),e}(),No=function(){function e(t,n){h(this,e),this._instantiationStatus=0,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=n,this._key=t}var t;return _(e,[{key:"logEvent",value:function(e,t){this._telemetryClient?this._telemetryClient.logEvent(e,t):2!==this._instantiationStatus&&this._eventQueue.push({eventName:e,data:t})}},{key:"logException",value:function(e,t){this._telemetryClient?this._telemetryClient.logException(e,t):2!==this._instantiationStatus&&this._exceptionQueue.push({exception:e,data:t})}},{key:"flush",value:(t=f(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._telemetryClient,!e.t0){e.next=5;break}return e.next=4,this._telemetryClient.flush();case 4:this._telemetryClient=void 0;case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_flushQueues",value:function(){var e=this;this._eventQueue.forEach((function(t){var n=t.eventName,r=t.data;return e.logEvent(n,r)})),this._eventQueue=[],this._exceptionQueue.forEach((function(t){var n=t.exception,r=t.data;return e.logException(n,r)})),this._exceptionQueue=[]}},{key:"instantiateAppender",value:function(){var e=this;0===this._instantiationStatus&&(this._instantiationStatus=1,this._clientFactory(this._key).then((function(t){e._telemetryClient=t,e._instantiationStatus=2,e._flushQueues()})).catch((function(t){console.error(t),e._instantiationStatus=2})))}}]),e}(),Do=function(){var e=f(l().mark((function e(t,r,o){var i,a,s,c,u,p,f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(0),n.e(14)]).then(n.bind(null,271));case 2:return i=e.sent,e.next=5,Promise.all([n.e(0),n.e(15)]).then(n.bind(null,272));case 5:return a=e.sent,s=new i.AppInsightsCore,c=new a.PostChannel,u={instrumentationKey:t,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[c]]},o&&(u.extensionConfig={},p={alwaysUseXhrOverride:!0,httpXHROverride:o},u.extensionConfig[c.identifier]=p),f=r.workspace.getConfiguration("telemetry").get("internalTesting"),e.abrupt("return",(s.initialize(u,[]),s.addTelemetryInitializer((function(e){var t,n;!f||(e.ext=null!==(t=e.ext)&&void 0!==t?t:{},e.ext.utc=null!==(n=e.ext.utc)&&void 0!==n?n:{},e.ext.utc.flags=8462029)})),s));case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),xo=function(){var e=f(l().mark((function e(t,n,r){var o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Do(t,n,r);case 2:return o=e.sent,e.abrupt("return",{logEvent:function(e,t){try{null==o||o.track({name:e,baseData:{name:e,properties:null==t?void 0:t.properties,measurements:null==t?void 0:t.measurements}})}catch(e){throw new Error("Failed to log event to app insights!\n"+e.message)}},logException:function(e,t){throw new Error("1DS SDK does not support logging exceptions, please use logEvent for exception tracking")},flush:function(){var e=f(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,null==o||o.unload(),e.next=7;break;case 4:throw e.prev=4,e.t0=e.catch(0),new Error("Failed to flush app insights!\n"+e.t0.message);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(){return e.apply(this,arguments)}}()});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Mo=function(){var e=f(l().mark((function e(t,n){var r,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL="1",e.next=4,Promise.resolve().then((function(){return H(Ao())}));case 4:(o=e.sent).defaultClient?(r=new o.TelemetryClient(t)).channel.setUseDiskRetryCaching(!0):(o.setup(t).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setAutoCollectHeartbeat(!1).setUseDiskRetryCaching(!0).start(),r=o.defaultClient),Co&&Co.env&&(r.context.tags[r.context.keys.userId]=Co.env.machineId,r.context.tags[r.context.keys.sessionId]=Co.env.sessionId,r.context.tags[r.context.keys.cloudRole]=Co.env.appName,r.context.tags[r.context.keys.cloudRoleInstance]=Co.env.appName),t&&0===t.indexOf("AIF-")&&(r.config.endpointUrl="https://mobile.events.data.microsoft.com/collect/v1"),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject("Failed to initialize app insights!\n"+e.t0.message));case 11:return e.abrupt("return",(null!=n&&n.length&&ko(r,n),{logEvent:function(e,t){try{null==r||r.trackEvent({name:e,properties:null==t?void 0:t.properties,measurements:null==t?void 0:t.measurements})}catch(e){throw new Error("Failed to log event to app insights!\n"+e.message)}},logException:function(e,t){try{null==r||r.trackException({exception:e,properties:null==t?void 0:t.properties,measurements:null==t?void 0:t.measurements})}catch(e){throw new Error("Failed to log exception to app insights!\n"+e.message)}},flush:function(){var e=f(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,null==r||r.flush(),e.next=7;break;case 4:throw e.prev=4,e.t0=e.catch(0),new Error("Failed to flush app insights!\n"+e.t0.message);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(){return e.apply(this,arguments)}}()}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}();function ko(e,t){e.addTelemetryProcessor((function(e){return Array.isArray(e.tags)?e.tags.forEach((function(e){return wo.applyReplacements(e,t)})):e.tags&&wo.applyReplacements(e.tags,t),e.data.baseData&&wo.applyReplacements(e.data.baseData,t),!0}))}var Lo=function(e){o(n,e);var t=a(n);function n(e,r,o,i,a){h(this,n);var s=function(e){return Mo(e,a)};wo.shouldUseOneDataSystemSDK(o)&&(s=function(e){return xo(e,Co,{sendPOST:function(e,t){var n={method:"POST",headers:L(k({},e.headers),{"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)})};try{var r=Po.request(e.urlString,n,(function(e){e.on("data",(function(n){var r;t(null!==(r=e.statusCode)&&void 0!==r?r:200,e.headers,n.toString())})),e.on("error",(function(){t(0,{})}))}));r.write(e.data),r.end()}catch(e){t(0,{})}}})});var c=new No(o,s);return o&&(0===o.indexOf("AIF-")||wo.shouldUseOneDataSystemSDK(o))&&(i=!0),t.call(this,e,r,c,{release:Oo.release(),platform:Oo.platform(),architecture:Oo.arch()},Co,i)}return _(n)}(Ro)}).call(this,"/")},123:function(e,t){e.exports=require("perf_hooks")},124:function(e,t){e.exports=require("console")},125:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=125},126:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=126},127:function(e,t){e.exports=require("constants")},128:function(e,t){e.exports=require("dns")},14:function(e,t){e.exports=require("url")},15:function(e,t){e.exports=require("net")},2:function(e,t){e.exports=require("fs")},21:function(e,t){e.exports=require("https")},26:function(e,t){e.exports=require("assert")},27:function(e,t){e.exports=require("child_process")},28:function(e,t){e.exports=require("crypto")},3:function(e,t){e.exports=require("stream")},57:function(e,t){e.exports=require("async_hooks")},6:function(e,t){e.exports=require("events")},7:function(e,t){e.exports=require("os")},72:function(e,t){e.exports=require("vscode")},8:function(e,t){e.exports=require("http")},9:function(e,t){e.exports=require("zlib")},91:function(e,t){e.exports=require("module")},92:function(e,t){e.exports=require("timers")}});
// SIG // Begin signature block
// SIG // MIInpQYJKoZIhvcNAQcCoIInljCCJ5ICAQExDzANBglg
// SIG // hkgBZQMEAgEFADB3BgorBgEEAYI3AgEEoGkwZzAyBgor
// SIG // BgEEAYI3AgEeMCQCAQEEEBDgyQbOONQRoqMAEEvTUJAC
// SIG // AQACAQACAQACAQACAQAwMTANBglghkgBZQMEAgEFAAQg
// SIG // t0rH40NKNE2x0YyuxeNA3kACW97sbaZQeM5E5KUzjJig
// SIG // gg2LMIIGCTCCA/GgAwIBAgITMwAAAvJGWactZ6NLuAAA
// SIG // AAAC8jANBgkqhkiG9w0BAQsFADB+MQswCQYDVQQGEwJV
// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH
// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv
// SIG // cmF0aW9uMSgwJgYDVQQDEx9NaWNyb3NvZnQgQ29kZSBT
// SIG // aWduaW5nIFBDQSAyMDExMB4XDTIyMDYzMDE3MzgyMVoX
// SIG // DTIzMDkxNTE3MzgyMVowgYgxCzAJBgNVBAYTAlVTMRMw
// SIG // EQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQHEwdSZWRt
// SIG // b25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29ycG9yYXRp
// SIG // b24xMjAwBgNVBAMTKU1pY3Jvc29mdCAzcmQgUGFydHkg
// SIG // QXBwbGljYXRpb24gQ29tcG9uZW50MIIBIjANBgkqhkiG
// SIG // 9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2LxvZ9ZsJ/EAoXMi
// SIG // OI9tw70kKlV1+JZ4oPGYkDnuCvmbXtJTdt9JH/c70V94
// SIG // SnI5VzJ1ySyxbopznLabZqDYEC7kZVi+10R2jqGissu2
// SIG // 9XvSuMSkzpA5GXXYDGK5Nbj7m6y9wNS7OomCmyo1+C0y
// SIG // mmw/b9JGwg0X5PAS0TP7jQFRi3tvOf1X7HTner+1kptN
// SIG // fKLEEDFT/xu92fZlflEIyXBnW1plgDBEqCrylxp+VEMh
// SIG // zwrljJpqwQafnKd04YHMDj3Q+L/oGQCXUeRV9ZNdRWl0
// SIG // A8DJmC9OVYmLgCD2c7zqZ7gPKwBY8DkMysKu7DB8uIPc
// SIG // foWIvYxxB17pPcvc7QIDAQABo4IBczCCAW8wHwYDVR0l
// SIG // BBgwFgYKKwYBBAGCN0wRAQYIKwYBBQUHAwMwHQYDVR0O
// SIG // BBYEFOnSIj2aLawEUoblQMMiKgmshi/VMEUGA1UdEQQ+
// SIG // MDykOjA4MR4wHAYDVQQLExVNaWNyb3NvZnQgQ29ycG9y
// SIG // YXRpb24xFjAUBgNVBAUTDTIzMTUyMis0NzEzMzUwHwYD
// SIG // VR0jBBgwFoAUSG5k5VAF04KqFzc3IrVtqMp1ApUwVAYD
// SIG // VR0fBE0wSzBJoEegRYZDaHR0cDovL3d3dy5taWNyb3Nv
// SIG // ZnQuY29tL3BraW9wcy9jcmwvTWljQ29kU2lnUENBMjAx
// SIG // MV8yMDExLTA3LTA4LmNybDBhBggrBgEFBQcBAQRVMFMw
// SIG // UQYIKwYBBQUHMAKGRWh0dHA6Ly93d3cubWljcm9zb2Z0
// SIG // LmNvbS9wa2lvcHMvY2VydHMvTWljQ29kU2lnUENBMjAx
// SIG // MV8yMDExLTA3LTA4LmNydDAMBgNVHRMBAf8EAjAAMA0G
// SIG // CSqGSIb3DQEBCwUAA4ICAQAyJwC9Uu4aRyhcH/tCpVOn
// SIG // PZKT/iMzk1uEVymttSTd8Rr9GTIgAmR4UVybP9lnwvhx
// SIG // rpKtVyFW1YpbXubVrcDtKlhean+AZf0HAN7ZsYG0kgeb
// SIG // 5gayll8YE7vNjak3zNB/IyR3ZAwnP8reNttvL6WOnoPC
// SIG // L2g/2EcNjsx2a8HFHH9a71v7PfAO8Pjp/vYzBzTt0UhR
// SIG // wQlA0bjjRdAgZxExkW1zbzrnWAa0uyephq/2OQsmO2rR
// SIG // IAXRhpc9R9531uiSXHaYMyrmFt0Izmxy1wPvCfjaVTzE
// SIG // WBgeLTazvgJ+BD46vqgWOx5QM4CMBV3l0WvWmnxewIiw
// SIG // W5Q8Z8GUUZ+1OLRiqW0DrSKTMeLwe0EOFAyQIApzd+XZ
// SIG // RuiZS8aQO853O2OTOtVnvOz8AWBthcY20Ul9IfskkinB
// SIG // ZjNHAYm1HHTQHhcvjYoGuTx4h4kiX/az80aqpaeFgAiC
// SIG // 9SlfHVfjj84263ha9bvrGCWSdvYNOmVT0av3YdkFJq2w
// SIG // /uWt+X22b+zl0eOG6VOPUwU1p9GhzNB4eOsx6eq1KC+Z
// SIG // N3fECVOhYVCS1yDvCsa0/b4Wix6rOvsWszNXY8lXkYCV
// SIG // J6ty/muaZtIHB8mKDABcm7qvcDC3NeSNEoJuIJf8v8Ae
// SIG // hVoIfoVB8ZbOBnbg9B1wjY42I3FPQas7TftAoq2v/Yt7
// SIG // eTCCB3owggVioAMCAQICCmEOkNIAAAAAAAMwDQYJKoZI
// SIG // hvcNAQELBQAwgYgxCzAJBgNVBAYTAlVTMRMwEQYDVQQI
// SIG // EwpXYXNoaW5ndG9uMRAwDgYDVQQHEwdSZWRtb25kMR4w
// SIG // HAYDVQQKExVNaWNyb3NvZnQgQ29ycG9yYXRpb24xMjAw
// SIG // BgNVBAMTKU1pY3Jvc29mdCBSb290IENlcnRpZmljYXRl
// SIG // IEF1dGhvcml0eSAyMDExMB4XDTExMDcwODIwNTkwOVoX
// SIG // DTI2MDcwODIxMDkwOVowfjELMAkGA1UEBhMCVVMxEzAR
// SIG // BgNVBAgTCldhc2hpbmd0b24xEDAOBgNVBAcTB1JlZG1v
// SIG // bmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlv
// SIG // bjEoMCYGA1UEAxMfTWljcm9zb2Z0IENvZGUgU2lnbmlu
// SIG // ZyBQQ0EgMjAxMTCCAiIwDQYJKoZIhvcNAQEBBQADggIP
// SIG // ADCCAgoCggIBAKvw+nIQHC6t2G6qghBNNLrytlghn0Ib
// SIG // KmvpWlCquAY4GgRJun/DDB7dN2vGEtgL8DjCmQawyDnV
// SIG // ARQxQtOJDXlkh36UYCRsr55JnOloXtLfm1OyCizDr9mp
// SIG // K656Ca/XllnKYBoF6WZ26DJSJhIv56sIUM+zRLdd2MQu
// SIG // A3WraPPLbfM6XKEW9Ea64DhkrG5kNXimoGMPLdNAk/jj
// SIG // 3gcN1Vx5pUkp5w2+oBN3vpQ97/vjK1oQH01WKKJ6cuAS
// SIG // OrdJXtjt7UORg9l7snuGG9k+sYxd6IlPhBryoS9Z5JA7
// SIG // La4zWMW3Pv4y07MDPbGyr5I4ftKdgCz1TlaRITUlwzlu
// SIG // ZH9TupwPrRkjhMv0ugOGjfdf8NBSv4yUh7zAIXQlXxgo
// SIG // tswnKDglmDlKNs98sZKuHCOnqWbsYR9q4ShJnV+I4iVd
// SIG // 0yFLPlLEtVc/JAPw0XpbL9Uj43BdD1FGd7P4AOG8rAKC
// SIG // X9vAFbO9G9RVS+c5oQ/pI0m8GLhEfEXkwcNyeuBy5yTf
// SIG // v0aZxe/CHFfbg43sTUkwp6uO3+xbn6/83bBm4sGXgXvt
// SIG // 1u1L50kppxMopqd9Z4DmimJ4X7IvhNdXnFy/dygo8e1t
// SIG // wyiPLI9AN0/B4YVEicQJTMXUpUMvdJX3bvh4IFgsE11g
// SIG // lZo+TzOE2rCIF96eTvSWsLxGoGyY0uDWiIwLAgMBAAGj
// SIG // ggHtMIIB6TAQBgkrBgEEAYI3FQEEAwIBADAdBgNVHQ4E
// SIG // FgQUSG5k5VAF04KqFzc3IrVtqMp1ApUwGQYJKwYBBAGC
// SIG // NxQCBAweCgBTAHUAYgBDAEEwCwYDVR0PBAQDAgGGMA8G
// SIG // A1UdEwEB/wQFMAMBAf8wHwYDVR0jBBgwFoAUci06AjGQ
// SIG // Q7kUBU7h6qfHMdEjiTQwWgYDVR0fBFMwUTBPoE2gS4ZJ
// SIG // aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraS9jcmwv
// SIG // cHJvZHVjdHMvTWljUm9vQ2VyQXV0MjAxMV8yMDExXzAz
// SIG // XzIyLmNybDBeBggrBgEFBQcBAQRSMFAwTgYIKwYBBQUH
// SIG // MAKGQmh0dHA6Ly93d3cubWljcm9zb2Z0LmNvbS9wa2kv
// SIG // Y2VydHMvTWljUm9vQ2VyQXV0MjAxMV8yMDExXzAzXzIy
// SIG // LmNydDCBnwYDVR0gBIGXMIGUMIGRBgkrBgEEAYI3LgMw
// SIG // gYMwPwYIKwYBBQUHAgEWM2h0dHA6Ly93d3cubWljcm9z
// SIG // b2Z0LmNvbS9wa2lvcHMvZG9jcy9wcmltYXJ5Y3BzLmh0
// SIG // bTBABggrBgEFBQcCAjA0HjIgHQBMAGUAZwBhAGwAXwBw
// SIG // AG8AbABpAGMAeQBfAHMAdABhAHQAZQBtAGUAbgB0AC4g
// SIG // HTANBgkqhkiG9w0BAQsFAAOCAgEAZ/KGpZjgVHkaLtPY
// SIG // dGcimwuWEeFjkplCln3SeQyQwWVfLiw++MNy0W2D/r4/
// SIG // 6ArKO79HqaPzadtjvyI1pZddZYSQfYtGUFXYDJJ80hpL
// SIG // HPM8QotS0LD9a+M+By4pm+Y9G6XUtR13lDni6WTJRD14
// SIG // eiPzE32mkHSDjfTLJgJGKsKKELukqQUMm+1o+mgulaAq
// SIG // PyprWEljHwlpblqYluSD9MCP80Yr3vw70L01724lruWv
// SIG // J+3Q3fMOr5kol5hNDj0L8giJ1h/DMhji8MUtzluetEk5
// SIG // CsYKwsatruWy2dsViFFFWDgycScaf7H0J/jeLDogaZiy
// SIG // WYlobm+nt3TDQAUGpgEqKD6CPxNNZgvAs0314Y9/HG8V
// SIG // fUWnduVAKmWjw11SYobDHWM2l4bf2vP48hahmifhzaWX
// SIG // 0O5dY0HjWwechz4GdwbRBrF1HxS+YWG18NzGGwS+30HH
// SIG // Diju3mUv7Jf2oVyW2ADWoUa9WfOXpQlLSBCZgB/QACnF
// SIG // sZulP0V3HjXG0qKin3p6IvpIlR+r+0cjgPWe+L9rt0uX
// SIG // 4ut1eBrs6jeZeRhL/9azI2h15q/6/IvrC4DqaTuv/DDt
// SIG // BEyO3991bWORPdGdVk5Pv4BXIqF4ETIheu9BCrE/+6jM
// SIG // pF3BoYibV3FWTkhFwELJm3ZbCoBIa/15n8G9bW1qyVJz
// SIG // Ew16UM0xghlyMIIZbgIBATCBlTB+MQswCQYDVQQGEwJV
// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH
// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv
// SIG // cmF0aW9uMSgwJgYDVQQDEx9NaWNyb3NvZnQgQ29kZSBT
// SIG // aWduaW5nIFBDQSAyMDExAhMzAAAC8kZZpy1no0u4AAAA
// SIG // AALyMA0GCWCGSAFlAwQCAQUAoIGuMBkGCSqGSIb3DQEJ
// SIG // AzEMBgorBgEEAYI3AgEEMBwGCisGAQQBgjcCAQsxDjAM
// SIG // BgorBgEEAYI3AgEVMC8GCSqGSIb3DQEJBDEiBCD/jss3
// SIG // 21RTJ/6nxh+UE3nkK0G/N5LPJ7tQp0Onp4/7sTBCBgor
// SIG // BgEEAYI3AgEMMTQwMqAUgBIATQBpAGMAcgBvAHMAbwBm
// SIG // AHShGoAYaHR0cDovL3d3dy5taWNyb3NvZnQuY29tMA0G
// SIG // CSqGSIb3DQEBAQUABIIBAA92c7MTeV9lNapFxe/siRbm
// SIG // 9X1OqMNalwRhDa8Sd631Ndci0/j3LtlhfGxZ7NGN4/XU
// SIG // qd5iVkiQnN2cEuWHMqvzsNC4PXrH8IIbOl/IhWmSQnc6
// SIG // snWynWyhLg9UQ+J4vUH8l12LbwiEGsNt47I9sAEHgb7l
// SIG // VLY266Ol6pz5fWoD0QDbi7YHmpzmyN6r7M6nwi3nnPLx
// SIG // GjgFmZcCwYorHVYYNI0jvkCl+3IhKKYNThbyJFQgDmht
// SIG // mnvqZggwSMSPxe12WUDMuolkMndxibwr2BcveKSkxQNV
// SIG // LcCY1+Zb1cCpqVfksVHg84G292gles1yOgubJPUcG7r4
// SIG // SGjUnkx1xuChghb8MIIW+AYKKwYBBAGCNwMDATGCFugw
// SIG // ghbkBgkqhkiG9w0BBwKgghbVMIIW0QIBAzEPMA0GCWCG
// SIG // SAFlAwQCAQUAMIIBUAYLKoZIhvcNAQkQAQSgggE/BIIB
// SIG // OzCCATcCAQEGCisGAQQBhFkKAwEwMTANBglghkgBZQME
// SIG // AgEFAAQg9GqRk259hKp4AUYOaJntPcul0aSVpaM+L/9L
// SIG // m71f2dkCBmPuM3OtLBgSMjAyMzAzMTUyMTA2NTQuNDZa
// SIG // MASAAgH0oIHQpIHNMIHKMQswCQYDVQQGEwJVUzETMBEG
// SIG // A1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9u
// SIG // ZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBvcmF0aW9u
// SIG // MSUwIwYDVQQLExxNaWNyb3NvZnQgQW1lcmljYSBPcGVy
// SIG // YXRpb25zMSYwJAYDVQQLEx1UaGFsZXMgVFNTIEVTTjo3
// SIG // QkYxLUUzRUEtQjgwODElMCMGA1UEAxMcTWljcm9zb2Z0
// SIG // IFRpbWUtU3RhbXAgU2VydmljZaCCEVQwggcMMIIE9KAD
// SIG // AgECAhMzAAAByPmw7mft6mtGAAEAAAHIMA0GCSqGSIb3
// SIG // DQEBCwUAMHwxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpX
// SIG // YXNoaW5ndG9uMRAwDgYDVQQHEwdSZWRtb25kMR4wHAYD
// SIG // VQQKExVNaWNyb3NvZnQgQ29ycG9yYXRpb24xJjAkBgNV
// SIG // BAMTHU1pY3Jvc29mdCBUaW1lLVN0YW1wIFBDQSAyMDEw
// SIG // MB4XDTIyMTEwNDE5MDEzN1oXDTI0MDIwMjE5MDEzN1ow
// SIG // gcoxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5n
// SIG // dG9uMRAwDgYDVQQHEwdSZWRtb25kMR4wHAYDVQQKExVN
// SIG // aWNyb3NvZnQgQ29ycG9yYXRpb24xJTAjBgNVBAsTHE1p
// SIG // Y3Jvc29mdCBBbWVyaWNhIE9wZXJhdGlvbnMxJjAkBgNV
// SIG // BAsTHVRoYWxlcyBUU1MgRVNOOjdCRjEtRTNFQS1CODA4
// SIG // MSUwIwYDVQQDExxNaWNyb3NvZnQgVGltZS1TdGFtcCBT
// SIG // ZXJ2aWNlMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIIC
// SIG // CgKCAgEAucudfihPgyRWwnnIuJCqc3TCtFk0XOimFcKj
// SIG // U9bS6WFng2l+FrIid0mPZ7KWs6Ewj21X+ZkGkM6x+ozH
// SIG // lmNtnHSQ48pjIFdlKXIoh7fSo41A4n0tQIlwhs8uIYIo
// SIG // cp72xwDBHKSZxGaEa/0707iyOw+aXZXNcTxgNiREASb9
// SIG // thlLZM75mfJIgBVvUmdLZc+XOUYwz/8ul7IEztPNH4cn
// SIG // 8Cn0tJhIFfp2netr8GYNoiyIqxueG7+sSt2xXl7/igc5
// SIG // cHPZnWhfl9PaB4+SutrA8zAhzVHTnj4RffxA4R3k4BRb
// SIG // PdGowQfOf95ZeYxLTHf5awB0nqZxOY+yuGWhf6hp5RGR
// SIG // ouc9beVZv98M1erYa55S1ahZgGDQJycVtEy82RlmKfTY
// SIG // Y2uNmlPLWtnD7sDlpVkhYQGKuTWnuwQKq9ZTSE+0V2cH
// SIG // 8JaWBYJQMIuWWM83vLPo3IT/S/5jT2oZOS9nsJgwwCwR
// SIG // UtYtwtq8/PJtvt1V6VoG4Wd2/MAifgEJOkHF7ARPqI9X
// SIG // v28+riqJZ5mjLGz84dP2ryoe0lxYSz3PT5ErKoS0+zJp
// SIG // YNAcxbv2UXiTk3Wj/mZ3tulz6z4XnSl5gy0PLer+EVjz
// SIG // 4G96GcZgK2d9G+uYylHWwBneIv9YFQj6yMdW/4sEpkEb
// SIG // rpiJNemcxUCmBipZ7Sc35rv4utkJ4/UCAwEAAaOCATYw
// SIG // ggEyMB0GA1UdDgQWBBS1XC9JgbrSwLDTiJJT4iK7NUvk
// SIG // 9TAfBgNVHSMEGDAWgBSfpxVdAF5iXYP05dJlpxtTNRnp
// SIG // cjBfBgNVHR8EWDBWMFSgUqBQhk5odHRwOi8vd3d3Lm1p
// SIG // Y3Jvc29mdC5jb20vcGtpb3BzL2NybC9NaWNyb3NvZnQl
// SIG // MjBUaW1lLVN0YW1wJTIwUENBJTIwMjAxMCgxKS5jcmww
// SIG // bAYIKwYBBQUHAQEEYDBeMFwGCCsGAQUFBzAChlBodHRw
// SIG // Oi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtpb3BzL2NlcnRz
// SIG // L01pY3Jvc29mdCUyMFRpbWUtU3RhbXAlMjBQQ0ElMjAy
// SIG // MDEwKDEpLmNydDAMBgNVHRMBAf8EAjAAMBMGA1UdJQQM
// SIG // MAoGCCsGAQUFBwMIMA0GCSqGSIb3DQEBCwUAA4ICAQDD
// SIG // 1nJSyEPDqSgnfkFifIbteJb7NkZCbRj5yBGiT1f9fTGv
// SIG // Ub5CW7k3eSp3uxUqom9LWykcNfQa/Yfw0libEim9YRjU
// SIG // NcL42oIFqtp/7rl9gg61oiB8PB+6vLEmjXkYxUUR8WjK
// SIG // KC5Q5dx96B21faSco2MOmvjYxGUR7An+4529lQPPLqbE
// SIG // KRjcNQb+p+mkQH2XeMbsh5EQCkTuYAimFTgnui2ZPFLE
// SIG // uBpxBK5z2HnKneHUJ9i4pcKWdCqF1AOVN8gXIH0R0Ffl
// SIG // McCg5TW8v90Vwx/mP3aE2Ige1uE8M9YNBn5776PxmA16
// SIG // Z+c2s+hYI+9sJZhhRA8aSYacrlLz7aU/56OvEYRERQZt
// SIG // tuAFkrV+M/J+tCeGNv0Gd75Y4lKLMp5/0xoOviPBdB2r
// SIG // D5C/U+B8qt1bBqQLVZ1wHRy0/6HhJxbOi2IgGJaOCYLG
// SIG // X2zz0VAT6mZ2BTWrJmcK6SDv7rX7psgC+Cf1t0R1aWCk
// SIG // CHJtpYuyKjf7UodRazevOf6V01XkrARHKrI7bQoHFL+s
// SIG // un2liJCBjN51mDWoEgUCEvwB3l+RFYAL0aIisc5cTaGX
// SIG // /T8F+iAbz+j2GGVum85gEQS9uLzSedoYPyEXxTblwewG
// SIG // dAxqIZaKozRBow49OnL+5CgooVMf3ZSqpxc2QC0E03l6
// SIG // c/vChkYyqMXq7Lwd4PnHqjCCB3EwggVZoAMCAQICEzMA
// SIG // AAAVxedrngKbSZkAAAAAABUwDQYJKoZIhvcNAQELBQAw
// SIG // gYgxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5n
// SIG // dG9uMRAwDgYDVQQHEwdSZWRtb25kMR4wHAYDVQQKExVN
// SIG // aWNyb3NvZnQgQ29ycG9yYXRpb24xMjAwBgNVBAMTKU1p
// SIG // Y3Jvc29mdCBSb290IENlcnRpZmljYXRlIEF1dGhvcml0
// SIG // eSAyMDEwMB4XDTIxMDkzMDE4MjIyNVoXDTMwMDkzMDE4
// SIG // MzIyNVowfDELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldh
// SIG // c2hpbmd0b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNV
// SIG // BAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEmMCQGA1UE
// SIG // AxMdTWljcm9zb2Z0IFRpbWUtU3RhbXAgUENBIDIwMTAw
// SIG // ggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQDk
// SIG // 4aZM57RyIQt5osvXJHm9DtWC0/3unAcH0qlsTnXIyjVX
// SIG // 9gF/bErg4r25PhdgM/9cT8dm95VTcVrifkpa/rg2Z4VG
// SIG // Iwy1jRPPdzLAEBjoYH1qUoNEt6aORmsHFPPFdvWGUNzB
// SIG // RMhxXFExN6AKOG6N7dcP2CZTfDlhAnrEqv1yaa8dq6z2
// SIG // Nr41JmTamDu6GnszrYBbfowQHJ1S/rboYiXcag/PXfT+
// SIG // jlPP1uyFVk3v3byNpOORj7I5LFGc6XBpDco2LXCOMcg1
// SIG // KL3jtIckw+DJj361VI/c+gVVmG1oO5pGve2krnopN6zL
// SIG // 64NF50ZuyjLVwIYwXE8s4mKyzbnijYjklqwBSru+cakX
// SIG // W2dg3viSkR4dPf0gz3N9QZpGdc3EXzTdEonW/aUgfX78
// SIG // 2Z5F37ZyL9t9X4C626p+Nuw2TPYrbqgSUei/BQOj0XOm
// SIG // TTd0lBw0gg/wEPK3Rxjtp+iZfD9M269ewvPV2HM9Q07B
// SIG // MzlMjgK8QmguEOqEUUbi0b1qGFphAXPKZ6Je1yh2AuIz
// SIG // GHLXpyDwwvoSCtdjbwzJNmSLW6CmgyFdXzB0kZSU2LlQ
// SIG // +QuJYfM2BjUYhEfb3BvR/bLUHMVr9lxSUV0S2yW6r1AF
// SIG // emzFER1y7435UsSFF5PAPBXbGjfHCBUYP3irRbb1Hode
// SIG // 2o+eFnJpxq57t7c+auIurQIDAQABo4IB3TCCAdkwEgYJ
// SIG // KwYBBAGCNxUBBAUCAwEAATAjBgkrBgEEAYI3FQIEFgQU
// SIG // KqdS/mTEmr6CkTxGNSnPEP8vBO4wHQYDVR0OBBYEFJ+n
// SIG // FV0AXmJdg/Tl0mWnG1M1GelyMFwGA1UdIARVMFMwUQYM
// SIG // KwYBBAGCN0yDfQEBMEEwPwYIKwYBBQUHAgEWM2h0dHA6
// SIG // Ly93d3cubWljcm9zb2Z0LmNvbS9wa2lvcHMvRG9jcy9S
// SIG // ZXBvc2l0b3J5Lmh0bTATBgNVHSUEDDAKBggrBgEFBQcD
// SIG // CDAZBgkrBgEEAYI3FAIEDB4KAFMAdQBiAEMAQTALBgNV
// SIG // HQ8EBAMCAYYwDwYDVR0TAQH/BAUwAwEB/zAfBgNVHSME
// SIG // GDAWgBTV9lbLj+iiXGJo0T2UkFvXzpoYxDBWBgNVHR8E
// SIG // TzBNMEugSaBHhkVodHRwOi8vY3JsLm1pY3Jvc29mdC5j
// SIG // b20vcGtpL2NybC9wcm9kdWN0cy9NaWNSb29DZXJBdXRf
// SIG // MjAxMC0wNi0yMy5jcmwwWgYIKwYBBQUHAQEETjBMMEoG
// SIG // CCsGAQUFBzAChj5odHRwOi8vd3d3Lm1pY3Jvc29mdC5j
// SIG // b20vcGtpL2NlcnRzL01pY1Jvb0NlckF1dF8yMDEwLTA2
// SIG // LTIzLmNydDANBgkqhkiG9w0BAQsFAAOCAgEAnVV9/Cqt
// SIG // 4SwfZwExJFvhnnJL/Klv6lwUtj5OR2R4sQaTlz0xM7U5
// SIG // 18JxNj/aZGx80HU5bbsPMeTCj/ts0aGUGCLu6WZnOlNN
// SIG // 3Zi6th542DYunKmCVgADsAW+iehp4LoJ7nvfam++Kctu
// SIG // 2D9IdQHZGN5tggz1bSNU5HhTdSRXud2f8449xvNo32X2
// SIG // pFaq95W2KFUn0CS9QKC/GbYSEhFdPSfgQJY4rPf5KYnD
// SIG // vBewVIVCs/wMnosZiefwC2qBwoEZQhlSdYo2wh3DYXMu
// SIG // LGt7bj8sCXgU6ZGyqVvfSaN0DLzskYDSPeZKPmY7T7uG
// SIG // +jIa2Zb0j/aRAfbOxnT99kxybxCrdTDFNLB62FD+Cljd
// SIG // QDzHVG2dY3RILLFORy3BFARxv2T5JL5zbcqOCb2zAVdJ
// SIG // VGTZc9d/HltEAY5aGZFrDZ+kKNxnGSgkujhLmm77IVRr
// SIG // akURR6nxt67I6IleT53S0Ex2tVdUCbFpAUR+fKFhbHP+
// SIG // CrvsQWY9af3LwUFJfn6Tvsv4O+S3Fb+0zj6lMVGEvL8C
// SIG // wYKiexcdFYmNcP7ntdAoGokLjzbaukz5m/8K6TT4JDVn
// SIG // K+ANuOaMmdbhIurwJ0I9JZTmdHRbatGePu1+oDEzfbzL
// SIG // 6Xu/OHBE0ZDxyKs6ijoIYn/ZcGNTTY3ugm2lBRDBcQZq
// SIG // ELQdVTNYs6FwZvKhggLLMIICNAIBATCB+KGB0KSBzTCB
// SIG // yjELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0
// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p
// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjElMCMGA1UECxMcTWlj
// SIG // cm9zb2Z0IEFtZXJpY2EgT3BlcmF0aW9uczEmMCQGA1UE
// SIG // CxMdVGhhbGVzIFRTUyBFU046N0JGMS1FM0VBLUI4MDgx
// SIG // JTAjBgNVBAMTHE1pY3Jvc29mdCBUaW1lLVN0YW1wIFNl
// SIG // cnZpY2WiIwoBATAHBgUrDgMCGgMVAN/OE1C7xjU0ClID
// SIG // XQBiucAY7suyoIGDMIGApH4wfDELMAkGA1UEBhMCVVMx
// SIG // EzARBgNVBAgTCldhc2hpbmd0b24xEDAOBgNVBAcTB1Jl
// SIG // ZG1vbmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3Jh
// SIG // dGlvbjEmMCQGA1UEAxMdTWljcm9zb2Z0IFRpbWUtU3Rh
// SIG // bXAgUENBIDIwMTAwDQYJKoZIhvcNAQEFBQACBQDnvEmH
// SIG // MCIYDzIwMjMwMzE1MjE0MTI3WhgPMjAyMzAzMTYyMTQx
// SIG // MjdaMHQwOgYKKwYBBAGEWQoEATEsMCowCgIFAOe8SYcC
// SIG // AQAwBwIBAAICK1QwBwIBAAICEcswCgIFAOe9mwcCAQAw
// SIG // NgYKKwYBBAGEWQoEAjEoMCYwDAYKKwYBBAGEWQoDAqAK
// SIG // MAgCAQACAwehIKEKMAgCAQACAwGGoDANBgkqhkiG9w0B
// SIG // AQUFAAOBgQBGb3V5SpBkUL0gg8IZ2I4Dd2UCEfvGKqiu
// SIG // 4lQ+D8jn0rLXUE/FfxcyCCSdlnIyT6AzVVkMt1502i/D
// SIG // QFzbdZtTBMWMrjYxjTy2xSO+m+Gboamc/jLEjuYJorov
// SIG // NsJxrte4S3/tHdYkR+n4D7x+Vs1EQqwt5cx+I8PkEv6M
// SIG // NfxcojGCBA0wggQJAgEBMIGTMHwxCzAJBgNVBAYTAlVT
// SIG // MRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQHEwdS
// SIG // ZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29ycG9y
// SIG // YXRpb24xJjAkBgNVBAMTHU1pY3Jvc29mdCBUaW1lLVN0
// SIG // YW1wIFBDQSAyMDEwAhMzAAAByPmw7mft6mtGAAEAAAHI
// SIG // MA0GCWCGSAFlAwQCAQUAoIIBSjAaBgkqhkiG9w0BCQMx
// SIG // DQYLKoZIhvcNAQkQAQQwLwYJKoZIhvcNAQkEMSIEIDZX
// SIG // jk7Upiwb3K9+o1v7LGZf6nLh/PbtrDIBiNljAyNcMIH6
// SIG // BgsqhkiG9w0BCRACLzGB6jCB5zCB5DCBvQQgYgCYz80/
// SIG // baMvxw6jcqSvL0FW4TdvA09nxHfsPhuEA2YwgZgwgYCk
// SIG // fjB8MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGlu
// SIG // Z3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMV
// SIG // TWljcm9zb2Z0IENvcnBvcmF0aW9uMSYwJAYDVQQDEx1N
// SIG // aWNyb3NvZnQgVGltZS1TdGFtcCBQQ0EgMjAxMAITMwAA
// SIG // Acj5sO5n7eprRgABAAAByDAiBCAOXp96hpM25oVjPpg6
// SIG // ke489GTqsoT/BZScWgT+C8izdDANBgkqhkiG9w0BAQsF
// SIG // AASCAgBKxzhG9E1Egk2DXc1rxsE4ThfL+aQw0m9bgCE3
// SIG // SaMZId681oMk2N69OiGYMCXloafoLD+Epz1VVkHEdGOV
// SIG // 8Gqit2oj5QdbddLtciY4F9fxqnTSImlVyY/urWsmAuTo
// SIG // StZwpsLOi++nje5o/+m/AY/T2jop3/wQdbdBWUa2bALM
// SIG // DdN08QXpap9pgYsH8eFXJ4mbglgqsM15joty2Hxm4KmS
// SIG // RcmlGOzN9iBYBhUqoNauYaGw8B4mE1ATlOenfR8QH3IJ
// SIG // bktZZL6dD6cbWripuMMh91wPdUyG/wuP3mS8S7gljaiC
// SIG // 6YChFnNvRHOcr/gaOkzd2pmxZNtmL9j9FtNaccWE1Jf9
// SIG // zkg4tHxMCpvz/NSJirw/aJtVKaJPT03meV4z2hJcU2Ee
// SIG // 4iSmMvbKCSBAZ4fRYe/I9WKYMcPfYhcq7ctuA9Ex4Hk2
// SIG // 555Fi+8sMDmqdx6SaAzqlyjfUeDUAGvLZNqMcYXm1doT
// SIG // vUJNmb40WX53yxFwkuLeNY5TfVeKoSlLa9svqYTi3b4Y
// SIG // vN/+l3q9bY2aHEiB70uE++018zd8rCZu5Eih6k++XuD0
// SIG // 94odYklAFHO428nMT8eWB9rkOFxpEo30yDcXYzd+zIh1
// SIG // D4CbbJP6kkiaSfjnb+DGAm/Hus/31Cdj0Y0oCFIJXaiM
// SIG // LndZJ62tr/xZfDNbnngakvMSaqBepA==
// SIG // End signature block
