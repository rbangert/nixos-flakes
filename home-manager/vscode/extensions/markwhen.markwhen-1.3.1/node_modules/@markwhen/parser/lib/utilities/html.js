"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.reverseString = exports.addHttpIfNeeded = exports.toInnerHtml = void 0;
const Types_1 = require("../Types");
function toInnerHtml(s) {
    return s
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(Types_1.LINK_REGEX, (substring, linkText, link) => {
        return `<a class="underline" href="${addHttpIfNeeded(link)}">${linkText}</a>`;
    })
        .replace(/&/g, "&amp;")
        .replace(Types_1.AT_REGEX, (substring, at) => {
        return `<a class="underline" href="/${at}">@${at}</a>`;
    });
}
exports.toInnerHtml = toInnerHtml;
function addHttpIfNeeded(s) {
    if (s.startsWith("http://") ||
        s.startsWith("https://") ||
        s.startsWith("/")) {
        return s;
    }
    return `http://${s}`;
}
exports.addHttpIfNeeded = addHttpIfNeeded;
function reverseString(s) {
    return s.split("").reverse().join("");
}
exports.reverseString = reverseString;
