"use strict";var aa=Object.create;var ao=Object.defineProperty;var ca=Object.getOwnPropertyDescriptor;var ua=Object.getOwnPropertyNames;var la=Object.getPrototypeOf,da=Object.prototype.hasOwnProperty;var O=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var fa=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of ua(t))!da.call(e,a)&&a!==n&&ao(e,a,{get:()=>t[a],enumerable:!(r=ca(t,a))||r.enumerable});return e};var yr=(e,t,n)=>(n=e!=null?aa(la(e)):{},fa(t||!e||!e.__esModule?ao(n,"default",{value:e,enumerable:!0}):n,e));var et=O(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});var vr;function br(){if(vr===void 0)throw new Error("No runtime abstraction layer installed");return vr}(function(e){function t(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");vr=n}e.install=t})(br||(br={}));_r.default=br});var wr=O(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.Disposable=void 0;var ha;(function(e){function t(n){return{dispose:n}}e.create=t})(ha=Qt.Disposable||(Qt.Disposable={}))});var co=O(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.AbstractMessageBuffer=void 0;var ma=13,pa=10,ga=`\r
`,Tr=class{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let n=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let t=0,n=0,r=0,a=0;e:for(;n<this._chunks.length;){let C=this._chunks[n];r=0;t:for(;r<C.length;){switch(C[r]){case ma:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case pa:switch(t){case 1:t=2;break;case 3:t=4,r++;break e;default:t=0}break;default:t=0}r++}a+=C.byteLength,n++}if(t!==4)return;let f=this._read(a+r),v=new Map,h=this.toString(f,"ascii").split(ga);if(h.length<2)return v;for(let C=0;C<h.length-2;C++){let D=h[C],q=D.indexOf(":");if(q===-1)throw new Error("Message header must separate key and value using :");let N=D.substr(0,q),x=D.substr(q+1).trim();v.set(N,x)}return v}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let f=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(f)}if(this._chunks[0].byteLength>t){let f=this._chunks[0],v=this.asNative(f,t);return this._chunks[0]=f.slice(t),this._totalLength-=t,v}let n=this.allocNative(t),r=0,a=0;for(;t>0;){let f=this._chunks[a];if(f.byteLength>t){let v=f.slice(0,t);n.set(v,r),r+=t,this._chunks[a]=f.slice(t),this._totalLength-=t,t-=t}else n.set(f,r),r+=f.byteLength,this._chunks.shift(),this._totalLength-=f.byteLength,t-=f.byteLength}return n}};Cn.AbstractMessageBuffer=Tr});var fo=O(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});var ya=et(),uo=require("util"),vt=wr(),va=co(),Mt=class extends va.AbstractMessageBuffer{constructor(t="utf-8"){super(t)}emptyBuffer(){return Mt.emptyBuffer}fromString(t,n){return Buffer.from(t,n)}toString(t,n){return t instanceof Buffer?t.toString(n):new uo.TextDecoder(n).decode(t)}asNative(t,n){return n===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,n):Buffer.from(t,0,n)}allocNative(t){return Buffer.allocUnsafe(t)}};Mt.emptyBuffer=Buffer.allocUnsafe(0);var Rr=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),vt.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),vt.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),vt.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),vt.Disposable.create(()=>this.stream.off("data",t))}},Dr=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),vt.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),vt.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),vt.Disposable.create(()=>this.stream.off("end",t))}write(t,n){return new Promise((r,a)=>{let f=v=>{v==null?r():a(v)};typeof t=="string"?this.stream.write(t,n,f):this.stream.write(t,f)})}end(){this.stream.end()}},lo=Object.freeze({messageBuffer:Object.freeze({create:e=>new Mt(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new uo.TextDecoder(t.charset).decode(e)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:e=>new Rr(e),asWritableStream:e=>new Dr(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){let r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(e,...t){let n=setImmediate(e,...t);return{dispose:()=>clearImmediate(n)}},setInterval(e,t,...n){let r=setInterval(e,t,...n);return{dispose:()=>clearInterval(r)}}})});function Pr(){return lo}(function(e){function t(){ya.default.install(lo)}e.install=t})(Pr||(Pr={}));kr.default=Pr});var Nt=O(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.stringArray=Te.array=Te.func=Te.error=Te.number=Te.string=Te.boolean=void 0;function ba(e){return e===!0||e===!1}Te.boolean=ba;function ho(e){return typeof e=="string"||e instanceof String}Te.string=ho;function _a(e){return typeof e=="number"||e instanceof Number}Te.number=_a;function wa(e){return e instanceof Error}Te.error=wa;function Ta(e){return typeof e=="function"}Te.func=Ta;function mo(e){return Array.isArray(e)}Te.array=mo;function Ra(e){return mo(e)&&e.every(t=>ho(t))}Te.stringArray=Ra});var Kr=O(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.Message=E.NotificationType9=E.NotificationType8=E.NotificationType7=E.NotificationType6=E.NotificationType5=E.NotificationType4=E.NotificationType3=E.NotificationType2=E.NotificationType1=E.NotificationType0=E.NotificationType=E.RequestType9=E.RequestType8=E.RequestType7=E.RequestType6=E.RequestType5=E.RequestType4=E.RequestType3=E.RequestType2=E.RequestType1=E.RequestType=E.RequestType0=E.AbstractMessageSignature=E.ParameterStructures=E.ResponseError=E.ErrorCodes=void 0;var bt=Nt(),po;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(po=E.ErrorCodes||(E.ErrorCodes={}));var Yt=class extends Error{constructor(t,n,r){super(n),this.code=bt.number(t)?t:po.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,Yt.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};E.ResponseError=Yt;var ye=class{constructor(t){this.kind=t}static is(t){return t===ye.auto||t===ye.byName||t===ye.byPosition}toString(){return this.kind}};E.ParameterStructures=ye;ye.auto=new ye("auto");ye.byPosition=new ye("byPosition");ye.byName=new ye("byName");var ne=class{constructor(t,n){this.method=t,this.numberOfParams=n}get parameterStructures(){return ye.auto}};E.AbstractMessageSignature=ne;var Cr=class extends ne{constructor(t){super(t,0)}};E.RequestType0=Cr;var qr=class extends ne{constructor(t,n=ye.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};E.RequestType=qr;var Sr=class extends ne{constructor(t,n=ye.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};E.RequestType1=Sr;var xr=class extends ne{constructor(t){super(t,2)}};E.RequestType2=xr;var Er=class extends ne{constructor(t){super(t,3)}};E.RequestType3=Er;var Or=class extends ne{constructor(t){super(t,4)}};E.RequestType4=Or;var Mr=class extends ne{constructor(t){super(t,5)}};E.RequestType5=Mr;var Nr=class extends ne{constructor(t){super(t,6)}};E.RequestType6=Nr;var jr=class extends ne{constructor(t){super(t,7)}};E.RequestType7=jr;var Ir=class extends ne{constructor(t){super(t,8)}};E.RequestType8=Ir;var Lr=class extends ne{constructor(t){super(t,9)}};E.RequestType9=Lr;var Ar=class extends ne{constructor(t,n=ye.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};E.NotificationType=Ar;var Fr=class extends ne{constructor(t){super(t,0)}};E.NotificationType0=Fr;var Hr=class extends ne{constructor(t,n=ye.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};E.NotificationType1=Hr;var Wr=class extends ne{constructor(t){super(t,2)}};E.NotificationType2=Wr;var zr=class extends ne{constructor(t){super(t,3)}};E.NotificationType3=zr;var $r=class extends ne{constructor(t){super(t,4)}};E.NotificationType4=$r;var Br=class extends ne{constructor(t){super(t,5)}};E.NotificationType5=Br;var Ur=class extends ne{constructor(t){super(t,6)}};E.NotificationType6=Ur;var Vr=class extends ne{constructor(t){super(t,7)}};E.NotificationType7=Vr;var Gr=class extends ne{constructor(t){super(t,8)}};E.NotificationType8=Gr;var Jr=class extends ne{constructor(t){super(t,9)}};E.NotificationType9=Jr;var Da;(function(e){function t(a){let f=a;return f&&bt.string(f.method)&&(bt.string(f.id)||bt.number(f.id))}e.isRequest=t;function n(a){let f=a;return f&&bt.string(f.method)&&a.id===void 0}e.isNotification=n;function r(a){let f=a;return f&&(f.result!==void 0||!!f.error)&&(bt.string(f.id)||bt.number(f.id)||f.id===null)}e.isResponse=r})(Da=E.Message||(E.Message={}))});var Qr=O(tt=>{"use strict";var go;Object.defineProperty(tt,"__esModule",{value:!0});tt.LRUCache=tt.LinkedMap=tt.Touch=void 0;var De;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(De=tt.Touch||(tt.Touch={}));var qn=class{constructor(){this[go]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,n=De.None){let r=this._map.get(t);if(r)return n!==De.None&&this.touch(r,n),r.value}set(t,n,r=De.None){let a=this._map.get(t);if(a)a.value=n,r!==De.None&&this.touch(a,r);else{switch(a={key:t,value:n,next:void 0,previous:void 0},r){case De.None:this.addItemLast(a);break;case De.First:this.addItemFirst(a);break;case De.Last:this.addItemLast(a);break;default:this.addItemLast(a);break}this._map.set(t,a),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let n=this._map.get(t);if(n)return this._map.delete(t),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,n){let r=this._state,a=this._head;for(;a;){if(n?t.bind(n)(a.value,a.key,this):t(a.value,a.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");a=a.next}}keys(){let t=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let a={value:n.key,done:!1};return n=n.next,a}else return{value:void 0,done:!0}}};return r}values(){let t=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let a={value:n.value,done:!1};return n=n.next,a}else return{value:void 0,done:!0}}};return r}entries(){let t=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let a={value:[n.key,n.value],done:!1};return n=n.next,a}else return{value:void 0,done:!0}}};return r}[(go=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>t;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let n=t.next,r=t.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}t.next=void 0,t.previous=void 0,this._state++}touch(t,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==De.First&&n!==De.Last)){if(n===De.First){if(t===this._head)return;let r=t.next,a=t.previous;t===this._tail?(a.next=void 0,this._tail=a):(r.previous=a,a.next=r),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(n===De.Last){if(t===this._tail)return;let r=t.next,a=t.previous;t===this._head?(r.previous=void 0,this._head=r):(r.previous=a,a.next=r),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((n,r)=>{t.push([r,n])}),t}fromJSON(t){this.clear();for(let[n,r]of t)this.set(n,r)}};tt.LinkedMap=qn;var Xr=class extends qn{constructor(t,n=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,n=De.AsNew){return super.get(t,n)}peek(t){return super.get(t,De.None)}set(t,n){return super.set(t,n,De.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};tt.LRUCache=Xr});var It=O(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.Emitter=_t.Event=void 0;var Pa=et(),ka;(function(e){let t={dispose(){}};e.None=function(){return t}})(ka=_t.Event||(_t.Event={}));var Yr=class{add(t,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(t,n)})}remove(t,n=null){if(!this._callbacks)return;let r=!1;for(let a=0,f=this._callbacks.length;a<f;a++)if(this._callbacks[a]===t)if(this._contexts[a]===n){this._callbacks.splice(a,1),this._contexts.splice(a,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),a=this._contexts.slice(0);for(let f=0,v=r.length;f<v;f++)try{n.push(r[f].apply(a[f],t))}catch(h){(0,Pa.default)().console.error(h)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},jt=class{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,n,r)=>{this._callbacks||(this._callbacks=new Yr),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,n);let a={dispose:()=>{this._callbacks&&(this._callbacks.remove(t,n),a.dispose=jt._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(a),a}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};_t.Emitter=jt;jt._noop=function(){}});var ni=O(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.CancellationTokenSource=wt.CancellationToken=void 0;var Ca=et(),qa=Nt(),Zr=It(),ei;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Zr.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Zr.Event.None});function t(n){let r=n;return r&&(r===e.None||r===e.Cancelled||qa.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}e.is=t})(ei=wt.CancellationToken||(wt.CancellationToken={}));var Sa=Object.freeze(function(e,t){let n=(0,Ca.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}}),Sn=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Sa:(this._emitter||(this._emitter=new Zr.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},ti=class{get token(){return this._token||(this._token=new Sn),this._token}cancel(){this._token?this._token.cancel():this._token=ei.Cancelled}dispose(){this._token?this._token instanceof Sn&&this._token.dispose():this._token=ei.None}};wt.CancellationTokenSource=ti});var yo=O(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.ReadableStreamMessageReader=nt.AbstractMessageReader=nt.MessageReader=void 0;var ii=et(),Lt=Nt(),ri=It(),xa;(function(e){function t(n){let r=n;return r&&Lt.func(r.listen)&&Lt.func(r.dispose)&&Lt.func(r.onError)&&Lt.func(r.onClose)&&Lt.func(r.onPartialMessage)}e.is=t})(xa=nt.MessageReader||(nt.MessageReader={}));var xn=class{constructor(){this.errorEmitter=new ri.Emitter,this.closeEmitter=new ri.Emitter,this.partialMessageEmitter=new ri.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${Lt.string(t.message)?t.message:"unknown"}`)}};nt.AbstractMessageReader=xn;var oi;(function(e){function t(n){let r,a,f,v=new Map,h,C=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else{if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(f=n.contentDecoder,v.set(f.name,f)),n.contentDecoders!==void 0)for(let D of n.contentDecoders)v.set(D.name,D);if(n.contentTypeDecoder!==void 0&&(h=n.contentTypeDecoder,C.set(h.name,h)),n.contentTypeDecoders!==void 0)for(let D of n.contentTypeDecoders)C.set(D.name,D)}return h===void 0&&(h=(0,ii.default)().applicationJson.decoder,C.set(h.name,h)),{charset:r,contentDecoder:f,contentDecoders:v,contentTypeDecoder:h,contentTypeDecoders:C}}e.fromOptions=t})(oi||(oi={}));var si=class extends xn{constructor(t,n){super(),this.readable=t,this.options=oi.fromOptions(n),this.buffer=(0,ii.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(t){for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let a=this.buffer.tryReadHeaders();if(!a)return;let f=a.get("Content-Length");if(!f)throw new Error("Header must provide a Content-Length property.");let v=parseInt(f);if(isNaN(v))throw new Error("Content-Length value must be a number.");this.nextMessageLength=v}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(a=>{this.options.contentTypeDecoder.decode(a,this.options).then(f=>{this.callback(f)},f=>{this.fireError(f)})},a=>{this.fireError(a)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,ii.default)().timer.setTimeout((t,n)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};nt.ReadableStreamMessageReader=si});var vo=O(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.Semaphore=void 0;var Ea=et(),ai=class{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((n,r)=>{this._waiting.push({thunk:t,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Ea.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=t.thunk();n instanceof Promise?n.then(r=>{this._active--,t.resolve(r),this.runNext()},r=>{this._active--,t.reject(r),this.runNext()}):(this._active--,t.resolve(n),this.runNext())}catch(n){this._active--,t.reject(n),this.runNext()}}};En.Semaphore=ai});var To=O(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.WriteableStreamMessageWriter=rt.AbstractMessageWriter=rt.MessageWriter=void 0;var bo=et(),Zt=Nt(),Oa=vo(),_o=It(),Ma="Content-Length: ",wo=`\r
`,Na;(function(e){function t(n){let r=n;return r&&Zt.func(r.dispose)&&Zt.func(r.onClose)&&Zt.func(r.onError)&&Zt.func(r.write)}e.is=t})(Na=rt.MessageWriter||(rt.MessageWriter={}));var On=class{constructor(){this.errorEmitter=new _o.Emitter,this.closeEmitter=new _o.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,n,r){this.errorEmitter.fire([this.asError(t),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${Zt.string(t.message)?t.message:"unknown"}`)}};rt.AbstractMessageWriter=On;var ci;(function(e){function t(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,bo.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,bo.default)().applicationJson.encoder}}e.fromOptions=t})(ci||(ci={}));var ui=class extends On{constructor(t,n){super(),this.writable=t,this.options=ci.fromOptions(n),this.errorCount=0,this.writeSemaphore=new Oa.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let a=[];return a.push(Ma,r.byteLength.toString(),wo),a.push(wo),this.doWrite(t,a,r)},r=>{throw this.fireError(r),r}))}async doWrite(t,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(a){return this.handleError(a,t),Promise.reject(a)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){this.writable.end()}};rt.WriteableStreamMessageWriter=ui});var qo=O(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.createMessageConnection=M.ConnectionOptions=M.CancellationStrategy=M.CancellationSenderStrategy=M.CancellationReceiverStrategy=M.ConnectionStrategy=M.ConnectionError=M.ConnectionErrors=M.LogTraceNotification=M.SetTraceNotification=M.TraceFormat=M.TraceValues=M.Trace=M.NullLogger=M.ProgressType=M.ProgressToken=void 0;var Ro=et(),ge=Nt(),j=Kr(),Do=Qr(),en=It(),li=ni(),nn;(function(e){e.type=new j.NotificationType("$/cancelRequest")})(nn||(nn={}));var Po;(function(e){function t(n){return typeof n=="string"||typeof n=="number"}e.is=t})(Po=M.ProgressToken||(M.ProgressToken={}));var tn;(function(e){e.type=new j.NotificationType("$/progress")})(tn||(tn={}));var di=class{constructor(){}};M.ProgressType=di;var fi;(function(e){function t(n){return ge.func(n)}e.is=t})(fi||(fi={}));M.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var K;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(K=M.Trace||(M.Trace={}));var ja;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(ja=M.TraceValues||(M.TraceValues={}));(function(e){function t(r){if(!ge.string(r))return e.Off;switch(r=r.toLowerCase(),r){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function n(r){switch(r){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}e.toString=n})(K=M.Trace||(M.Trace={}));var Ne;(function(e){e.Text="text",e.JSON="json"})(Ne=M.TraceFormat||(M.TraceFormat={}));(function(e){function t(n){return ge.string(n)?(n=n.toLowerCase(),n==="json"?e.JSON:e.Text):e.Text}e.fromString=t})(Ne=M.TraceFormat||(M.TraceFormat={}));var ko;(function(e){e.type=new j.NotificationType("$/setTrace")})(ko=M.SetTraceNotification||(M.SetTraceNotification={}));var hi;(function(e){e.type=new j.NotificationType("$/logTrace")})(hi=M.LogTraceNotification||(M.LogTraceNotification={}));var Mn;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(Mn=M.ConnectionErrors||(M.ConnectionErrors={}));var ut=class extends Error{constructor(t,n){super(n),this.code=t,Object.setPrototypeOf(this,ut.prototype)}};M.ConnectionError=ut;var Co;(function(e){function t(n){let r=n;return r&&ge.func(r.cancelUndispatched)}e.is=t})(Co=M.ConnectionStrategy||(M.ConnectionStrategy={}));var mi;(function(e){e.Message=Object.freeze({createCancellationTokenSource(n){return new li.CancellationTokenSource}});function t(n){let r=n;return r&&ge.func(r.createCancellationTokenSource)}e.is=t})(mi=M.CancellationReceiverStrategy||(M.CancellationReceiverStrategy={}));var pi;(function(e){e.Message=Object.freeze({sendCancellation(n,r){return n.sendNotification(nn.type,{id:r})},cleanup(n){}});function t(n){let r=n;return r&&ge.func(r.sendCancellation)&&ge.func(r.cleanup)}e.is=t})(pi=M.CancellationSenderStrategy||(M.CancellationSenderStrategy={}));var gi;(function(e){e.Message=Object.freeze({receiver:mi.Message,sender:pi.Message});function t(n){let r=n;return r&&mi.is(r.receiver)&&pi.is(r.sender)}e.is=t})(gi=M.CancellationStrategy||(M.CancellationStrategy={}));var Ia;(function(e){function t(n){let r=n;return r&&(gi.is(r.cancellationStrategy)||Co.is(r.connectionStrategy))}e.is=t})(Ia=M.ConnectionOptions||(M.ConnectionOptions={}));var je;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(je||(je={}));function La(e,t,n,r){let a=n!==void 0?n:M.NullLogger,f=0,v=0,h=0,C="2.0",D,q=new Map,N,x=new Map,B=new Map,J,X=new Do.LinkedMap,ie=new Map,oe=new Set,V=new Map,I=K.Off,g=Ne.Text,y,P=je.New,F=new en.Emitter,ue=new en.Emitter,ve=new en.Emitter,Xe=new en.Emitter,pt=new en.Emitter,Qe=r&&r.cancellationStrategy?r.cancellationStrategy:gi.Message;function Gt(u){if(u===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+u.toString()}function Ct(u){return u===null?"res-unknown-"+(++h).toString():"res-"+u.toString()}function wn(){return"not-"+(++v).toString()}function nr(u,w){j.Message.isRequest(w)?u.set(Gt(w.id),w):j.Message.isResponse(w)?u.set(Ct(w.id),w):u.set(wn(),w)}function rr(u){}function Tn(){return P===je.Listening}function qt(){return P===je.Closed}function st(){return P===je.Disposed}function Jt(){(P===je.New||P===je.Listening)&&(P=je.Closed,ue.fire(void 0))}function St(u){F.fire([u,void 0,void 0])}function ir(u){F.fire(u)}e.onClose(Jt),e.onError(St),t.onClose(Jt),t.onError(ir);function Rn(){J||X.size===0||(J=(0,Ro.default)().timer.setImmediate(()=>{J=void 0,or()}))}function or(){if(X.size===0)return;let u=X.shift();try{j.Message.isRequest(u)?ar(u):j.Message.isNotification(u)?ur(u):j.Message.isResponse(u)?cr(u):lr(u)}finally{Rn()}}let sr=u=>{try{if(j.Message.isNotification(u)&&u.method===nn.type.method){let w=u.params.id,k=Gt(w),S=X.get(k);if(j.Message.isRequest(S)){let Y=r?.connectionStrategy,se=Y&&Y.cancelUndispatched?Y.cancelUndispatched(S,rr):void 0;if(se&&(se.error!==void 0||se.result!==void 0)){X.delete(k),V.delete(w),se.id=S.id,xt(se,u.method,Date.now()),t.write(se).catch(()=>a.error("Sending response for canceled message failed."));return}}let Q=V.get(w);if(Q!==void 0){Q.cancel(),Kt(u);return}else oe.add(w)}nr(X,u)}finally{Rn()}};function ar(u){if(st())return;function w(W,Z,$){let de={jsonrpc:C,id:u.id};W instanceof j.ResponseError?de.error=W.toJson():de.result=W===void 0?null:W,xt(de,Z,$),t.write(de).catch(()=>a.error("Sending response failed."))}function k(W,Z,$){let de={jsonrpc:C,id:u.id,error:W.toJson()};xt(de,Z,$),t.write(de).catch(()=>a.error("Sending response failed."))}function S(W,Z,$){W===void 0&&(W=null);let de={jsonrpc:C,id:u.id,result:W};xt(de,Z,$),t.write(de).catch(()=>a.error("Sending response failed."))}hr(u);let Q=q.get(u.method),Y,se;Q&&(Y=Q.type,se=Q.handler);let fe=Date.now();if(se||D){let W=u.id??String(Date.now()),Z=Qe.receiver.createCancellationTokenSource(W);u.id!==null&&oe.has(u.id)&&Z.cancel(),u.id!==null&&V.set(W,Z);try{let $;if(se)if(u.params===void 0){if(Y!==void 0&&Y.numberOfParams!==0){k(new j.ResponseError(j.ErrorCodes.InvalidParams,`Request ${u.method} defines ${Y.numberOfParams} params but received none.`),u.method,fe);return}$=se(Z.token)}else if(Array.isArray(u.params)){if(Y!==void 0&&Y.parameterStructures===j.ParameterStructures.byName){k(new j.ResponseError(j.ErrorCodes.InvalidParams,`Request ${u.method} defines parameters by name but received parameters by position`),u.method,fe);return}$=se(...u.params,Z.token)}else{if(Y!==void 0&&Y.parameterStructures===j.ParameterStructures.byPosition){k(new j.ResponseError(j.ErrorCodes.InvalidParams,`Request ${u.method} defines parameters by position but received parameters by name`),u.method,fe);return}$=se(u.params,Z.token)}else D&&($=D(u.method,u.params,Z.token));let de=$;$?de.then?de.then(we=>{V.delete(W),w(we,u.method,fe)},we=>{V.delete(W),we instanceof j.ResponseError?k(we,u.method,fe):we&&ge.string(we.message)?k(new j.ResponseError(j.ErrorCodes.InternalError,`Request ${u.method} failed with message: ${we.message}`),u.method,fe):k(new j.ResponseError(j.ErrorCodes.InternalError,`Request ${u.method} failed unexpectedly without providing any details.`),u.method,fe)}):(V.delete(W),w($,u.method,fe)):(V.delete(W),S($,u.method,fe))}catch($){V.delete(W),$ instanceof j.ResponseError?w($,u.method,fe):$&&ge.string($.message)?k(new j.ResponseError(j.ErrorCodes.InternalError,`Request ${u.method} failed with message: ${$.message}`),u.method,fe):k(new j.ResponseError(j.ErrorCodes.InternalError,`Request ${u.method} failed unexpectedly without providing any details.`),u.method,fe)}}else k(new j.ResponseError(j.ErrorCodes.MethodNotFound,`Unhandled method ${u.method}`),u.method,fe)}function cr(u){if(!st())if(u.id===null)u.error?a.error(`Received response message without id: Error is: 
${JSON.stringify(u.error,void 0,4)}`):a.error("Received response message without id. No further error information provided.");else{let w=u.id,k=ie.get(w);if(mr(u,k),k!==void 0){ie.delete(w);try{if(u.error){let S=u.error;k.reject(new j.ResponseError(S.code,S.message,S.data))}else if(u.result!==void 0)k.resolve(u.result);else throw new Error("Should never happen.")}catch(S){S.message?a.error(`Response handler '${k.method}' failed with message: ${S.message}`):a.error(`Response handler '${k.method}' failed unexpectedly.`)}}}}function ur(u){if(st())return;let w,k;if(u.method===nn.type.method){let S=u.params.id;oe.delete(S),Kt(u);return}else{let S=x.get(u.method);S&&(k=S.handler,w=S.type)}if(k||N)try{if(Kt(u),k)if(u.params===void 0)w!==void 0&&w.numberOfParams!==0&&w.parameterStructures!==j.ParameterStructures.byName&&a.error(`Notification ${u.method} defines ${w.numberOfParams} params but received none.`),k();else if(Array.isArray(u.params)){let S=u.params;u.method===tn.type.method&&S.length===2&&Po.is(S[0])?k({token:S[0],value:S[1]}):(w!==void 0&&(w.parameterStructures===j.ParameterStructures.byName&&a.error(`Notification ${u.method} defines parameters by name but received parameters by position`),w.numberOfParams!==u.params.length&&a.error(`Notification ${u.method} defines ${w.numberOfParams} params but received ${S.length} arguments`)),k(...S))}else w!==void 0&&w.parameterStructures===j.ParameterStructures.byPosition&&a.error(`Notification ${u.method} defines parameters by position but received parameters by name`),k(u.params);else N&&N(u.method,u.params)}catch(S){S.message?a.error(`Notification handler '${u.method}' failed with message: ${S.message}`):a.error(`Notification handler '${u.method}' failed unexpectedly.`)}else ve.fire(u)}function lr(u){if(!u){a.error("Received empty message.");return}a.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(u,null,4)}`);let w=u;if(ge.string(w.id)||ge.number(w.id)){let k=w.id,S=ie.get(k);S&&S.reject(new Error("The received response has neither a result nor an error property."))}}function xe(u){if(u!=null)switch(I){case K.Verbose:return JSON.stringify(u,null,4);case K.Compact:return JSON.stringify(u);default:return}}function dr(u){if(!(I===K.Off||!y))if(g===Ne.Text){let w;(I===K.Verbose||I===K.Compact)&&u.params&&(w=`Params: ${xe(u.params)}

`),y.log(`Sending request '${u.method} - (${u.id})'.`,w)}else at("send-request",u)}function fr(u){if(!(I===K.Off||!y))if(g===Ne.Text){let w;(I===K.Verbose||I===K.Compact)&&(u.params?w=`Params: ${xe(u.params)}

`:w=`No parameters provided.

`),y.log(`Sending notification '${u.method}'.`,w)}else at("send-notification",u)}function xt(u,w,k){if(!(I===K.Off||!y))if(g===Ne.Text){let S;(I===K.Verbose||I===K.Compact)&&(u.error&&u.error.data?S=`Error data: ${xe(u.error.data)}

`:u.result?S=`Result: ${xe(u.result)}

`:u.error===void 0&&(S=`No result returned.

`)),y.log(`Sending response '${w} - (${u.id})'. Processing request took ${Date.now()-k}ms`,S)}else at("send-response",u)}function hr(u){if(!(I===K.Off||!y))if(g===Ne.Text){let w;(I===K.Verbose||I===K.Compact)&&u.params&&(w=`Params: ${xe(u.params)}

`),y.log(`Received request '${u.method} - (${u.id})'.`,w)}else at("receive-request",u)}function Kt(u){if(!(I===K.Off||!y||u.method===hi.type.method))if(g===Ne.Text){let w;(I===K.Verbose||I===K.Compact)&&(u.params?w=`Params: ${xe(u.params)}

`:w=`No parameters provided.

`),y.log(`Received notification '${u.method}'.`,w)}else at("receive-notification",u)}function mr(u,w){if(!(I===K.Off||!y))if(g===Ne.Text){let k;if((I===K.Verbose||I===K.Compact)&&(u.error&&u.error.data?k=`Error data: ${xe(u.error.data)}

`:u.result?k=`Result: ${xe(u.result)}

`:u.error===void 0&&(k=`No result returned.

`)),w){let S=u.error?` Request failed: ${u.error.message} (${u.error.code}).`:"";y.log(`Received response '${w.method} - (${u.id})' in ${Date.now()-w.timerStart}ms.${S}`,k)}else y.log(`Received response ${u.id} without active response promise.`,k)}else at("receive-response",u)}function at(u,w){if(!y||I===K.Off)return;let k={isLSPMessage:!0,type:u,message:w,timestamp:Date.now()};y.log(k)}function gt(){if(qt())throw new ut(Mn.Closed,"Connection is closed.");if(st())throw new ut(Mn.Disposed,"Connection is disposed.")}function pr(){if(Tn())throw new ut(Mn.AlreadyListening,"Connection is already listening")}function gr(){if(!Tn())throw new Error("Call listen() first.")}function yt(u){return u===void 0?null:u}function Et(u){if(u!==null)return u}function Dn(u){return u!=null&&!Array.isArray(u)&&typeof u=="object"}function Xt(u,w){switch(u){case j.ParameterStructures.auto:return Dn(w)?Et(w):[yt(w)];case j.ParameterStructures.byName:if(!Dn(w))throw new Error("Received parameters by name but param is not an object literal.");return Et(w);case j.ParameterStructures.byPosition:return[yt(w)];default:throw new Error(`Unknown parameter structure ${u.toString()}`)}}function Pn(u,w){let k,S=u.numberOfParams;switch(S){case 0:k=void 0;break;case 1:k=Xt(u.parameterStructures,w[0]);break;default:k=[];for(let Q=0;Q<w.length&&Q<S;Q++)k.push(yt(w[Q]));if(w.length<S)for(let Q=w.length;Q<S;Q++)k.push(null);break}return k}let ct={sendNotification:(u,...w)=>{gt();let k,S;if(ge.string(u)){k=u;let Y=w[0],se=0,fe=j.ParameterStructures.auto;j.ParameterStructures.is(Y)&&(se=1,fe=Y);let W=w.length,Z=W-se;switch(Z){case 0:S=void 0;break;case 1:S=Xt(fe,w[se]);break;default:if(fe===j.ParameterStructures.byName)throw new Error(`Received ${Z} parameters for 'by Name' notification parameter structure.`);S=w.slice(se,W).map($=>yt($));break}}else{let Y=w;k=u.method,S=Pn(u,Y)}let Q={jsonrpc:C,method:k,params:S};return fr(Q),t.write(Q).catch(()=>a.error("Sending notification failed."))},onNotification:(u,w)=>{gt();let k;return ge.func(u)?N=u:w&&(ge.string(u)?(k=u,x.set(u,{type:void 0,handler:w})):(k=u.method,x.set(u.method,{type:u,handler:w}))),{dispose:()=>{k!==void 0?x.delete(k):N=void 0}}},onProgress:(u,w,k)=>{if(B.has(w))throw new Error(`Progress handler for token ${w} already registered`);return B.set(w,k),{dispose:()=>{B.delete(w)}}},sendProgress:(u,w,k)=>ct.sendNotification(tn.type,{token:w,value:k}),onUnhandledProgress:Xe.event,sendRequest:(u,...w)=>{gt(),gr();let k,S,Q;if(ge.string(u)){k=u;let W=w[0],Z=w[w.length-1],$=0,de=j.ParameterStructures.auto;j.ParameterStructures.is(W)&&($=1,de=W);let we=w.length;li.CancellationToken.is(Z)&&(we=we-1,Q=Z);let Ye=we-$;switch(Ye){case 0:S=void 0;break;case 1:S=Xt(de,w[$]);break;default:if(de===j.ParameterStructures.byName)throw new Error(`Received ${Ye} parameters for 'by Name' request parameter structure.`);S=w.slice($,we).map(Be=>yt(Be));break}}else{let W=w;k=u.method,S=Pn(u,W);let Z=u.numberOfParams;Q=li.CancellationToken.is(W[Z])?W[Z]:void 0}let Y=f++,se;return Q&&(se=Q.onCancellationRequested(()=>{let W=Qe.sender.sendCancellation(ct,Y);return W===void 0?(a.log(`Received no promise from cancellation strategy when cancelling id ${Y}`),Promise.resolve()):W.catch(()=>{a.log(`Sending cancellation messages for id ${Y} failed`)})})),new Promise((W,Z)=>{let $={jsonrpc:C,id:Y,method:k,params:S},de=Be=>{W(Be),Qe.sender.cleanup(Y),se?.dispose()},we=Be=>{Z(Be),Qe.sender.cleanup(Y),se?.dispose()},Ye={method:k,timerStart:Date.now(),resolve:de,reject:we};dr($);try{t.write($).catch(()=>a.error("Sending request failed."))}catch(Be){Ye.reject(new j.ResponseError(j.ErrorCodes.MessageWriteError,Be.message?Be.message:"Unknown reason")),Ye=null}Ye&&ie.set(Y,Ye)})},onRequest:(u,w)=>{gt();let k=null;return fi.is(u)?(k=void 0,D=u):ge.string(u)?(k=null,w!==void 0&&(k=u,q.set(u,{handler:w,type:void 0}))):w!==void 0&&(k=u.method,q.set(u.method,{type:u,handler:w})),{dispose:()=>{k!==null&&(k!==void 0?q.delete(k):D=void 0)}}},hasPendingResponse:()=>ie.size>0,trace:async(u,w,k)=>{let S=!1,Q=Ne.Text;k!==void 0&&(ge.boolean(k)?S=k:(S=k.sendNotification||!1,Q=k.traceFormat||Ne.Text)),I=u,g=Q,I===K.Off?y=void 0:y=w,S&&!qt()&&!st()&&await ct.sendNotification(ko.type,{value:K.toString(u)})},onError:F.event,onClose:ue.event,onUnhandledNotification:ve.event,onDispose:pt.event,end:()=>{t.end()},dispose:()=>{if(st())return;P=je.Disposed,pt.fire(void 0);let u=new j.ResponseError(j.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let w of ie.values())w.reject(u);ie=new Map,V=new Map,oe=new Set,X=new Do.LinkedMap,ge.func(t.dispose)&&t.dispose(),ge.func(e.dispose)&&e.dispose()},listen:()=>{gt(),pr(),P=je.Listening,e.listen(sr)},inspect:()=>{(0,Ro.default)().console.log("inspect")}};return ct.onNotification(hi.type,u=>{if(I===K.Off||!y)return;let w=I===K.Verbose||I===K.Compact;y.log(u.message,w?u.verbose:void 0)}),ct.onNotification(tn.type,u=>{let w=B.get(u.token);w?w(u.value):Xe.fire(u)}),ct}M.createMessageConnection=La});var _i=O(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.TraceFormat=b.TraceValues=b.Trace=b.ProgressType=b.ProgressToken=b.createMessageConnection=b.NullLogger=b.ConnectionOptions=b.ConnectionStrategy=b.WriteableStreamMessageWriter=b.AbstractMessageWriter=b.MessageWriter=b.ReadableStreamMessageReader=b.AbstractMessageReader=b.MessageReader=b.CancellationToken=b.CancellationTokenSource=b.Emitter=b.Event=b.Disposable=b.LRUCache=b.Touch=b.LinkedMap=b.ParameterStructures=b.NotificationType9=b.NotificationType8=b.NotificationType7=b.NotificationType6=b.NotificationType5=b.NotificationType4=b.NotificationType3=b.NotificationType2=b.NotificationType1=b.NotificationType0=b.NotificationType=b.ErrorCodes=b.ResponseError=b.RequestType9=b.RequestType8=b.RequestType7=b.RequestType6=b.RequestType5=b.RequestType4=b.RequestType3=b.RequestType2=b.RequestType1=b.RequestType0=b.RequestType=b.Message=b.RAL=void 0;b.CancellationStrategy=b.CancellationSenderStrategy=b.CancellationReceiverStrategy=b.ConnectionError=b.ConnectionErrors=b.LogTraceNotification=b.SetTraceNotification=void 0;var te=Kr();Object.defineProperty(b,"Message",{enumerable:!0,get:function(){return te.Message}});Object.defineProperty(b,"RequestType",{enumerable:!0,get:function(){return te.RequestType}});Object.defineProperty(b,"RequestType0",{enumerable:!0,get:function(){return te.RequestType0}});Object.defineProperty(b,"RequestType1",{enumerable:!0,get:function(){return te.RequestType1}});Object.defineProperty(b,"RequestType2",{enumerable:!0,get:function(){return te.RequestType2}});Object.defineProperty(b,"RequestType3",{enumerable:!0,get:function(){return te.RequestType3}});Object.defineProperty(b,"RequestType4",{enumerable:!0,get:function(){return te.RequestType4}});Object.defineProperty(b,"RequestType5",{enumerable:!0,get:function(){return te.RequestType5}});Object.defineProperty(b,"RequestType6",{enumerable:!0,get:function(){return te.RequestType6}});Object.defineProperty(b,"RequestType7",{enumerable:!0,get:function(){return te.RequestType7}});Object.defineProperty(b,"RequestType8",{enumerable:!0,get:function(){return te.RequestType8}});Object.defineProperty(b,"RequestType9",{enumerable:!0,get:function(){return te.RequestType9}});Object.defineProperty(b,"ResponseError",{enumerable:!0,get:function(){return te.ResponseError}});Object.defineProperty(b,"ErrorCodes",{enumerable:!0,get:function(){return te.ErrorCodes}});Object.defineProperty(b,"NotificationType",{enumerable:!0,get:function(){return te.NotificationType}});Object.defineProperty(b,"NotificationType0",{enumerable:!0,get:function(){return te.NotificationType0}});Object.defineProperty(b,"NotificationType1",{enumerable:!0,get:function(){return te.NotificationType1}});Object.defineProperty(b,"NotificationType2",{enumerable:!0,get:function(){return te.NotificationType2}});Object.defineProperty(b,"NotificationType3",{enumerable:!0,get:function(){return te.NotificationType3}});Object.defineProperty(b,"NotificationType4",{enumerable:!0,get:function(){return te.NotificationType4}});Object.defineProperty(b,"NotificationType5",{enumerable:!0,get:function(){return te.NotificationType5}});Object.defineProperty(b,"NotificationType6",{enumerable:!0,get:function(){return te.NotificationType6}});Object.defineProperty(b,"NotificationType7",{enumerable:!0,get:function(){return te.NotificationType7}});Object.defineProperty(b,"NotificationType8",{enumerable:!0,get:function(){return te.NotificationType8}});Object.defineProperty(b,"NotificationType9",{enumerable:!0,get:function(){return te.NotificationType9}});Object.defineProperty(b,"ParameterStructures",{enumerable:!0,get:function(){return te.ParameterStructures}});var yi=Qr();Object.defineProperty(b,"LinkedMap",{enumerable:!0,get:function(){return yi.LinkedMap}});Object.defineProperty(b,"LRUCache",{enumerable:!0,get:function(){return yi.LRUCache}});Object.defineProperty(b,"Touch",{enumerable:!0,get:function(){return yi.Touch}});var Aa=wr();Object.defineProperty(b,"Disposable",{enumerable:!0,get:function(){return Aa.Disposable}});var So=It();Object.defineProperty(b,"Event",{enumerable:!0,get:function(){return So.Event}});Object.defineProperty(b,"Emitter",{enumerable:!0,get:function(){return So.Emitter}});var xo=ni();Object.defineProperty(b,"CancellationTokenSource",{enumerable:!0,get:function(){return xo.CancellationTokenSource}});Object.defineProperty(b,"CancellationToken",{enumerable:!0,get:function(){return xo.CancellationToken}});var vi=yo();Object.defineProperty(b,"MessageReader",{enumerable:!0,get:function(){return vi.MessageReader}});Object.defineProperty(b,"AbstractMessageReader",{enumerable:!0,get:function(){return vi.AbstractMessageReader}});Object.defineProperty(b,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return vi.ReadableStreamMessageReader}});var bi=To();Object.defineProperty(b,"MessageWriter",{enumerable:!0,get:function(){return bi.MessageWriter}});Object.defineProperty(b,"AbstractMessageWriter",{enumerable:!0,get:function(){return bi.AbstractMessageWriter}});Object.defineProperty(b,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return bi.WriteableStreamMessageWriter}});var Re=qo();Object.defineProperty(b,"ConnectionStrategy",{enumerable:!0,get:function(){return Re.ConnectionStrategy}});Object.defineProperty(b,"ConnectionOptions",{enumerable:!0,get:function(){return Re.ConnectionOptions}});Object.defineProperty(b,"NullLogger",{enumerable:!0,get:function(){return Re.NullLogger}});Object.defineProperty(b,"createMessageConnection",{enumerable:!0,get:function(){return Re.createMessageConnection}});Object.defineProperty(b,"ProgressToken",{enumerable:!0,get:function(){return Re.ProgressToken}});Object.defineProperty(b,"ProgressType",{enumerable:!0,get:function(){return Re.ProgressType}});Object.defineProperty(b,"Trace",{enumerable:!0,get:function(){return Re.Trace}});Object.defineProperty(b,"TraceValues",{enumerable:!0,get:function(){return Re.TraceValues}});Object.defineProperty(b,"TraceFormat",{enumerable:!0,get:function(){return Re.TraceFormat}});Object.defineProperty(b,"SetTraceNotification",{enumerable:!0,get:function(){return Re.SetTraceNotification}});Object.defineProperty(b,"LogTraceNotification",{enumerable:!0,get:function(){return Re.LogTraceNotification}});Object.defineProperty(b,"ConnectionErrors",{enumerable:!0,get:function(){return Re.ConnectionErrors}});Object.defineProperty(b,"ConnectionError",{enumerable:!0,get:function(){return Re.ConnectionError}});Object.defineProperty(b,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Re.CancellationReceiverStrategy}});Object.defineProperty(b,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Re.CancellationSenderStrategy}});Object.defineProperty(b,"CancellationStrategy",{enumerable:!0,get:function(){return Re.CancellationStrategy}});var Fa=et();b.RAL=Fa.default});var Dt=O(G=>{"use strict";var Ha=G&&G.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Wa=G&&G.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Ha(t,e,n)};Object.defineProperty(G,"__esModule",{value:!0});G.createMessageConnection=G.createServerSocketTransport=G.createClientSocketTransport=G.createServerPipeTransport=G.createClientPipeTransport=G.generateRandomPipeName=G.StreamMessageWriter=G.StreamMessageReader=G.SocketMessageWriter=G.SocketMessageReader=G.IPCMessageWriter=G.IPCMessageReader=void 0;var At=fo();At.default.install();var Ue=_i(),Eo=require("path"),za=require("os"),$a=require("crypto"),In=require("net");Wa(_i(),G);var wi=class extends Ue.AbstractMessageReader{constructor(t){super(),this.process=t;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),Ue.Disposable.create(()=>this.process.off("message",t))}};G.IPCMessageReader=wi;var Ti=class extends Ue.AbstractMessageWriter{constructor(t){super(),this.process=t,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,t)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,t),Promise.reject(n)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){}};G.IPCMessageWriter=Ti;var Tt=class extends Ue.ReadableStreamMessageReader{constructor(t,n="utf-8"){super((0,At.default)().stream.asReadableStream(t),n)}};G.SocketMessageReader=Tt;var Rt=class extends Ue.WriteableStreamMessageWriter{constructor(t,n){super((0,At.default)().stream.asWritableStream(t),n),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};G.SocketMessageWriter=Rt;var Nn=class extends Ue.ReadableStreamMessageReader{constructor(t,n){super((0,At.default)().stream.asReadableStream(t),n)}};G.StreamMessageReader=Nn;var jn=class extends Ue.WriteableStreamMessageWriter{constructor(t,n){super((0,At.default)().stream.asWritableStream(t),n)}};G.StreamMessageWriter=jn;var Oo=process.env.XDG_RUNTIME_DIR,Ba=new Map([["linux",107],["darwin",103]]);function Ua(){let e=(0,$a.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;Oo?t=Eo.join(Oo,`vscode-ipc-${e}.sock`):t=Eo.join(za.tmpdir(),`vscode-${e}.sock`);let n=Ba.get(process.platform);return n!==void 0&&t.length>=n&&(0,At.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${n} characters.`),t}G.generateRandomPipeName=Ua;function Va(e,t="utf-8"){let n,r=new Promise((a,f)=>{n=a});return new Promise((a,f)=>{let v=(0,In.createServer)(h=>{v.close(),n([new Tt(h,t),new Rt(h,t)])});v.on("error",f),v.listen(e,()=>{v.removeListener("error",f),a({onConnected:()=>r})})})}G.createClientPipeTransport=Va;function Ga(e,t="utf-8"){let n=(0,In.createConnection)(e);return[new Tt(n,t),new Rt(n,t)]}G.createServerPipeTransport=Ga;function Ja(e,t="utf-8"){let n,r=new Promise((a,f)=>{n=a});return new Promise((a,f)=>{let v=(0,In.createServer)(h=>{v.close(),n([new Tt(h,t),new Rt(h,t)])});v.on("error",f),v.listen(e,"127.0.0.1",()=>{v.removeListener("error",f),a({onConnected:()=>r})})})}G.createClientSocketTransport=Ja;function Ka(e,t="utf-8"){let n=(0,In.createConnection)(e,"127.0.0.1");return[new Tt(n,t),new Rt(n,t)]}G.createServerSocketTransport=Ka;function Xa(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}function Qa(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}function Ya(e,t,n,r){n||(n=Ue.NullLogger);let a=Xa(e)?new Nn(e):e,f=Qa(t)?new jn(t):t;return Ue.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,Ue.createMessageConnection)(a,f,n,r)}G.createMessageConnection=Ya});var Ri=O((wd,Mo)=>{"use strict";Mo.exports=Dt()});var An=O((No,Ln)=>{(function(e){if(typeof Ln=="object"&&typeof Ln.exports=="object"){var t=e(require,No);t!==void 0&&(Ln.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var n;(function(o){function l(d){return typeof d=="string"}o.is=l})(n=t.DocumentUri||(t.DocumentUri={}));var r;(function(o){function l(d){return typeof d=="string"}o.is=l})(r=t.URI||(t.URI={}));var a;(function(o){o.MIN_VALUE=-2147483648,o.MAX_VALUE=2147483647;function l(d){return typeof d=="number"&&o.MIN_VALUE<=d&&d<=o.MAX_VALUE}o.is=l})(a=t.integer||(t.integer={}));var f;(function(o){o.MIN_VALUE=0,o.MAX_VALUE=2147483647;function l(d){return typeof d=="number"&&o.MIN_VALUE<=d&&d<=o.MAX_VALUE}o.is=l})(f=t.uinteger||(t.uinteger={}));var v;(function(o){function l(c,i){return c===Number.MAX_VALUE&&(c=f.MAX_VALUE),i===Number.MAX_VALUE&&(i=f.MAX_VALUE),{line:c,character:i}}o.create=l;function d(c){var i=c;return m.objectLiteral(i)&&m.uinteger(i.line)&&m.uinteger(i.character)}o.is=d})(v=t.Position||(t.Position={}));var h;(function(o){function l(c,i,p,_){if(m.uinteger(c)&&m.uinteger(i)&&m.uinteger(p)&&m.uinteger(_))return{start:v.create(c,i),end:v.create(p,_)};if(v.is(c)&&v.is(i))return{start:c,end:i};throw new Error("Range#create called with invalid arguments[".concat(c,", ").concat(i,", ").concat(p,", ").concat(_,"]"))}o.create=l;function d(c){var i=c;return m.objectLiteral(i)&&v.is(i.start)&&v.is(i.end)}o.is=d})(h=t.Range||(t.Range={}));var C;(function(o){function l(c,i){return{uri:c,range:i}}o.create=l;function d(c){var i=c;return m.objectLiteral(i)&&h.is(i.range)&&(m.string(i.uri)||m.undefined(i.uri))}o.is=d})(C=t.Location||(t.Location={}));var D;(function(o){function l(c,i,p,_){return{targetUri:c,targetRange:i,targetSelectionRange:p,originSelectionRange:_}}o.create=l;function d(c){var i=c;return m.objectLiteral(i)&&h.is(i.targetRange)&&m.string(i.targetUri)&&h.is(i.targetSelectionRange)&&(h.is(i.originSelectionRange)||m.undefined(i.originSelectionRange))}o.is=d})(D=t.LocationLink||(t.LocationLink={}));var q;(function(o){function l(c,i,p,_){return{red:c,green:i,blue:p,alpha:_}}o.create=l;function d(c){var i=c;return m.objectLiteral(i)&&m.numberRange(i.red,0,1)&&m.numberRange(i.green,0,1)&&m.numberRange(i.blue,0,1)&&m.numberRange(i.alpha,0,1)}o.is=d})(q=t.Color||(t.Color={}));var N;(function(o){function l(c,i){return{range:c,color:i}}o.create=l;function d(c){var i=c;return m.objectLiteral(i)&&h.is(i.range)&&q.is(i.color)}o.is=d})(N=t.ColorInformation||(t.ColorInformation={}));var x;(function(o){function l(c,i,p){return{label:c,textEdit:i,additionalTextEdits:p}}o.create=l;function d(c){var i=c;return m.objectLiteral(i)&&m.string(i.label)&&(m.undefined(i.textEdit)||y.is(i))&&(m.undefined(i.additionalTextEdits)||m.typedArray(i.additionalTextEdits,y.is))}o.is=d})(x=t.ColorPresentation||(t.ColorPresentation={}));var B;(function(o){o.Comment="comment",o.Imports="imports",o.Region="region"})(B=t.FoldingRangeKind||(t.FoldingRangeKind={}));var J;(function(o){function l(c,i,p,_,L,le){var ee={startLine:c,endLine:i};return m.defined(p)&&(ee.startCharacter=p),m.defined(_)&&(ee.endCharacter=_),m.defined(L)&&(ee.kind=L),m.defined(le)&&(ee.collapsedText=le),ee}o.create=l;function d(c){var i=c;return m.objectLiteral(i)&&m.uinteger(i.startLine)&&m.uinteger(i.startLine)&&(m.undefined(i.startCharacter)||m.uinteger(i.startCharacter))&&(m.undefined(i.endCharacter)||m.uinteger(i.endCharacter))&&(m.undefined(i.kind)||m.string(i.kind))}o.is=d})(J=t.FoldingRange||(t.FoldingRange={}));var X;(function(o){function l(c,i){return{location:c,message:i}}o.create=l;function d(c){var i=c;return m.defined(i)&&C.is(i.location)&&m.string(i.message)}o.is=d})(X=t.DiagnosticRelatedInformation||(t.DiagnosticRelatedInformation={}));var ie;(function(o){o.Error=1,o.Warning=2,o.Information=3,o.Hint=4})(ie=t.DiagnosticSeverity||(t.DiagnosticSeverity={}));var oe;(function(o){o.Unnecessary=1,o.Deprecated=2})(oe=t.DiagnosticTag||(t.DiagnosticTag={}));var V;(function(o){function l(d){var c=d;return m.objectLiteral(c)&&m.string(c.href)}o.is=l})(V=t.CodeDescription||(t.CodeDescription={}));var I;(function(o){function l(c,i,p,_,L,le){var ee={range:c,message:i};return m.defined(p)&&(ee.severity=p),m.defined(_)&&(ee.code=_),m.defined(L)&&(ee.source=L),m.defined(le)&&(ee.relatedInformation=le),ee}o.create=l;function d(c){var i,p=c;return m.defined(p)&&h.is(p.range)&&m.string(p.message)&&(m.number(p.severity)||m.undefined(p.severity))&&(m.integer(p.code)||m.string(p.code)||m.undefined(p.code))&&(m.undefined(p.codeDescription)||m.string((i=p.codeDescription)===null||i===void 0?void 0:i.href))&&(m.string(p.source)||m.undefined(p.source))&&(m.undefined(p.relatedInformation)||m.typedArray(p.relatedInformation,X.is))}o.is=d})(I=t.Diagnostic||(t.Diagnostic={}));var g;(function(o){function l(c,i){for(var p=[],_=2;_<arguments.length;_++)p[_-2]=arguments[_];var L={title:c,command:i};return m.defined(p)&&p.length>0&&(L.arguments=p),L}o.create=l;function d(c){var i=c;return m.defined(i)&&m.string(i.title)&&m.string(i.command)}o.is=d})(g=t.Command||(t.Command={}));var y;(function(o){function l(p,_){return{range:p,newText:_}}o.replace=l;function d(p,_){return{range:{start:p,end:p},newText:_}}o.insert=d;function c(p){return{range:p,newText:""}}o.del=c;function i(p){var _=p;return m.objectLiteral(_)&&m.string(_.newText)&&h.is(_.range)}o.is=i})(y=t.TextEdit||(t.TextEdit={}));var P;(function(o){function l(c,i,p){var _={label:c};return i!==void 0&&(_.needsConfirmation=i),p!==void 0&&(_.description=p),_}o.create=l;function d(c){var i=c;return m.objectLiteral(i)&&m.string(i.label)&&(m.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(m.string(i.description)||i.description===void 0)}o.is=d})(P=t.ChangeAnnotation||(t.ChangeAnnotation={}));var F;(function(o){function l(d){var c=d;return m.string(c)}o.is=l})(F=t.ChangeAnnotationIdentifier||(t.ChangeAnnotationIdentifier={}));var ue;(function(o){function l(p,_,L){return{range:p,newText:_,annotationId:L}}o.replace=l;function d(p,_,L){return{range:{start:p,end:p},newText:_,annotationId:L}}o.insert=d;function c(p,_){return{range:p,newText:"",annotationId:_}}o.del=c;function i(p){var _=p;return y.is(_)&&(P.is(_.annotationId)||F.is(_.annotationId))}o.is=i})(ue=t.AnnotatedTextEdit||(t.AnnotatedTextEdit={}));var ve;(function(o){function l(c,i){return{textDocument:c,edits:i}}o.create=l;function d(c){var i=c;return m.defined(i)&&qt.is(i.textDocument)&&Array.isArray(i.edits)}o.is=d})(ve=t.TextDocumentEdit||(t.TextDocumentEdit={}));var Xe;(function(o){function l(c,i,p){var _={kind:"create",uri:c};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(_.options=i),p!==void 0&&(_.annotationId=p),_}o.create=l;function d(c){var i=c;return i&&i.kind==="create"&&m.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||m.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||m.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||F.is(i.annotationId))}o.is=d})(Xe=t.CreateFile||(t.CreateFile={}));var pt;(function(o){function l(c,i,p,_){var L={kind:"rename",oldUri:c,newUri:i};return p!==void 0&&(p.overwrite!==void 0||p.ignoreIfExists!==void 0)&&(L.options=p),_!==void 0&&(L.annotationId=_),L}o.create=l;function d(c){var i=c;return i&&i.kind==="rename"&&m.string(i.oldUri)&&m.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||m.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||m.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||F.is(i.annotationId))}o.is=d})(pt=t.RenameFile||(t.RenameFile={}));var Qe;(function(o){function l(c,i,p){var _={kind:"delete",uri:c};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(_.options=i),p!==void 0&&(_.annotationId=p),_}o.create=l;function d(c){var i=c;return i&&i.kind==="delete"&&m.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||m.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||m.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||F.is(i.annotationId))}o.is=d})(Qe=t.DeleteFile||(t.DeleteFile={}));var Gt;(function(o){function l(d){var c=d;return c&&(c.changes!==void 0||c.documentChanges!==void 0)&&(c.documentChanges===void 0||c.documentChanges.every(function(i){return m.string(i.kind)?Xe.is(i)||pt.is(i)||Qe.is(i):ve.is(i)}))}o.is=l})(Gt=t.WorkspaceEdit||(t.WorkspaceEdit={}));var Ct=function(){function o(l,d){this.edits=l,this.changeAnnotations=d}return o.prototype.insert=function(l,d,c){var i,p;if(c===void 0?i=y.insert(l,d):F.is(c)?(p=c,i=ue.insert(l,d,c)):(this.assertChangeAnnotations(this.changeAnnotations),p=this.changeAnnotations.manage(c),i=ue.insert(l,d,p)),this.edits.push(i),p!==void 0)return p},o.prototype.replace=function(l,d,c){var i,p;if(c===void 0?i=y.replace(l,d):F.is(c)?(p=c,i=ue.replace(l,d,c)):(this.assertChangeAnnotations(this.changeAnnotations),p=this.changeAnnotations.manage(c),i=ue.replace(l,d,p)),this.edits.push(i),p!==void 0)return p},o.prototype.delete=function(l,d){var c,i;if(d===void 0?c=y.del(l):F.is(d)?(i=d,c=ue.del(l,d)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(d),c=ue.del(l,i)),this.edits.push(c),i!==void 0)return i},o.prototype.add=function(l){this.edits.push(l)},o.prototype.all=function(){return this.edits},o.prototype.clear=function(){this.edits.splice(0,this.edits.length)},o.prototype.assertChangeAnnotations=function(l){if(l===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},o}(),wn=function(){function o(l){this._annotations=l===void 0?Object.create(null):l,this._counter=0,this._size=0}return o.prototype.all=function(){return this._annotations},Object.defineProperty(o.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),o.prototype.manage=function(l,d){var c;if(F.is(l)?c=l:(c=this.nextId(),d=l),this._annotations[c]!==void 0)throw new Error("Id ".concat(c," is already in use."));if(d===void 0)throw new Error("No annotation provided for id ".concat(c));return this._annotations[c]=d,this._size++,c},o.prototype.nextId=function(){return this._counter++,this._counter.toString()},o}(),nr=function(){function o(l){var d=this;this._textEditChanges=Object.create(null),l!==void 0?(this._workspaceEdit=l,l.documentChanges?(this._changeAnnotations=new wn(l.changeAnnotations),l.changeAnnotations=this._changeAnnotations.all(),l.documentChanges.forEach(function(c){if(ve.is(c)){var i=new Ct(c.edits,d._changeAnnotations);d._textEditChanges[c.textDocument.uri]=i}})):l.changes&&Object.keys(l.changes).forEach(function(c){var i=new Ct(l.changes[c]);d._textEditChanges[c]=i})):this._workspaceEdit={}}return Object.defineProperty(o.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),o.prototype.getTextEditChange=function(l){if(qt.is(l)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var d={uri:l.uri,version:l.version},c=this._textEditChanges[d.uri];if(!c){var i=[],p={textDocument:d,edits:i};this._workspaceEdit.documentChanges.push(p),c=new Ct(i,this._changeAnnotations),this._textEditChanges[d.uri]=c}return c}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var c=this._textEditChanges[l];if(!c){var i=[];this._workspaceEdit.changes[l]=i,c=new Ct(i),this._textEditChanges[l]=c}return c}},o.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new wn,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},o.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},o.prototype.createFile=function(l,d,c){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;P.is(d)||F.is(d)?i=d:c=d;var p,_;if(i===void 0?p=Xe.create(l,c):(_=F.is(i)?i:this._changeAnnotations.manage(i),p=Xe.create(l,c,_)),this._workspaceEdit.documentChanges.push(p),_!==void 0)return _},o.prototype.renameFile=function(l,d,c,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var p;P.is(c)||F.is(c)?p=c:i=c;var _,L;if(p===void 0?_=pt.create(l,d,i):(L=F.is(p)?p:this._changeAnnotations.manage(p),_=pt.create(l,d,i,L)),this._workspaceEdit.documentChanges.push(_),L!==void 0)return L},o.prototype.deleteFile=function(l,d,c){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;P.is(d)||F.is(d)?i=d:c=d;var p,_;if(i===void 0?p=Qe.create(l,c):(_=F.is(i)?i:this._changeAnnotations.manage(i),p=Qe.create(l,c,_)),this._workspaceEdit.documentChanges.push(p),_!==void 0)return _},o}();t.WorkspaceChange=nr;var rr;(function(o){function l(c){return{uri:c}}o.create=l;function d(c){var i=c;return m.defined(i)&&m.string(i.uri)}o.is=d})(rr=t.TextDocumentIdentifier||(t.TextDocumentIdentifier={}));var Tn;(function(o){function l(c,i){return{uri:c,version:i}}o.create=l;function d(c){var i=c;return m.defined(i)&&m.string(i.uri)&&m.integer(i.version)}o.is=d})(Tn=t.VersionedTextDocumentIdentifier||(t.VersionedTextDocumentIdentifier={}));var qt;(function(o){function l(c,i){return{uri:c,version:i}}o.create=l;function d(c){var i=c;return m.defined(i)&&m.string(i.uri)&&(i.version===null||m.integer(i.version))}o.is=d})(qt=t.OptionalVersionedTextDocumentIdentifier||(t.OptionalVersionedTextDocumentIdentifier={}));var st;(function(o){function l(c,i,p,_){return{uri:c,languageId:i,version:p,text:_}}o.create=l;function d(c){var i=c;return m.defined(i)&&m.string(i.uri)&&m.string(i.languageId)&&m.integer(i.version)&&m.string(i.text)}o.is=d})(st=t.TextDocumentItem||(t.TextDocumentItem={}));var Jt;(function(o){o.PlainText="plaintext",o.Markdown="markdown";function l(d){var c=d;return c===o.PlainText||c===o.Markdown}o.is=l})(Jt=t.MarkupKind||(t.MarkupKind={}));var St;(function(o){function l(d){var c=d;return m.objectLiteral(d)&&Jt.is(c.kind)&&m.string(c.value)}o.is=l})(St=t.MarkupContent||(t.MarkupContent={}));var ir;(function(o){o.Text=1,o.Method=2,o.Function=3,o.Constructor=4,o.Field=5,o.Variable=6,o.Class=7,o.Interface=8,o.Module=9,o.Property=10,o.Unit=11,o.Value=12,o.Enum=13,o.Keyword=14,o.Snippet=15,o.Color=16,o.File=17,o.Reference=18,o.Folder=19,o.EnumMember=20,o.Constant=21,o.Struct=22,o.Event=23,o.Operator=24,o.TypeParameter=25})(ir=t.CompletionItemKind||(t.CompletionItemKind={}));var Rn;(function(o){o.PlainText=1,o.Snippet=2})(Rn=t.InsertTextFormat||(t.InsertTextFormat={}));var or;(function(o){o.Deprecated=1})(or=t.CompletionItemTag||(t.CompletionItemTag={}));var sr;(function(o){function l(c,i,p){return{newText:c,insert:i,replace:p}}o.create=l;function d(c){var i=c;return i&&m.string(i.newText)&&h.is(i.insert)&&h.is(i.replace)}o.is=d})(sr=t.InsertReplaceEdit||(t.InsertReplaceEdit={}));var ar;(function(o){o.asIs=1,o.adjustIndentation=2})(ar=t.InsertTextMode||(t.InsertTextMode={}));var cr;(function(o){function l(d){var c=d;return c&&(m.string(c.detail)||c.detail===void 0)&&(m.string(c.description)||c.description===void 0)}o.is=l})(cr=t.CompletionItemLabelDetails||(t.CompletionItemLabelDetails={}));var ur;(function(o){function l(d){return{label:d}}o.create=l})(ur=t.CompletionItem||(t.CompletionItem={}));var lr;(function(o){function l(d,c){return{items:d||[],isIncomplete:!!c}}o.create=l})(lr=t.CompletionList||(t.CompletionList={}));var xe;(function(o){function l(c){return c.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o.fromPlainText=l;function d(c){var i=c;return m.string(i)||m.objectLiteral(i)&&m.string(i.language)&&m.string(i.value)}o.is=d})(xe=t.MarkedString||(t.MarkedString={}));var dr;(function(o){function l(d){var c=d;return!!c&&m.objectLiteral(c)&&(St.is(c.contents)||xe.is(c.contents)||m.typedArray(c.contents,xe.is))&&(d.range===void 0||h.is(d.range))}o.is=l})(dr=t.Hover||(t.Hover={}));var fr;(function(o){function l(d,c){return c?{label:d,documentation:c}:{label:d}}o.create=l})(fr=t.ParameterInformation||(t.ParameterInformation={}));var xt;(function(o){function l(d,c){for(var i=[],p=2;p<arguments.length;p++)i[p-2]=arguments[p];var _={label:d};return m.defined(c)&&(_.documentation=c),m.defined(i)?_.parameters=i:_.parameters=[],_}o.create=l})(xt=t.SignatureInformation||(t.SignatureInformation={}));var hr;(function(o){o.Text=1,o.Read=2,o.Write=3})(hr=t.DocumentHighlightKind||(t.DocumentHighlightKind={}));var Kt;(function(o){function l(d,c){var i={range:d};return m.number(c)&&(i.kind=c),i}o.create=l})(Kt=t.DocumentHighlight||(t.DocumentHighlight={}));var mr;(function(o){o.File=1,o.Module=2,o.Namespace=3,o.Package=4,o.Class=5,o.Method=6,o.Property=7,o.Field=8,o.Constructor=9,o.Enum=10,o.Interface=11,o.Function=12,o.Variable=13,o.Constant=14,o.String=15,o.Number=16,o.Boolean=17,o.Array=18,o.Object=19,o.Key=20,o.Null=21,o.EnumMember=22,o.Struct=23,o.Event=24,o.Operator=25,o.TypeParameter=26})(mr=t.SymbolKind||(t.SymbolKind={}));var at;(function(o){o.Deprecated=1})(at=t.SymbolTag||(t.SymbolTag={}));var gt;(function(o){function l(d,c,i,p,_){var L={name:d,kind:c,location:{uri:p,range:i}};return _&&(L.containerName=_),L}o.create=l})(gt=t.SymbolInformation||(t.SymbolInformation={}));var pr;(function(o){function l(d,c,i,p){return p!==void 0?{name:d,kind:c,location:{uri:i,range:p}}:{name:d,kind:c,location:{uri:i}}}o.create=l})(pr=t.WorkspaceSymbol||(t.WorkspaceSymbol={}));var gr;(function(o){function l(c,i,p,_,L,le){var ee={name:c,detail:i,kind:p,range:_,selectionRange:L};return le!==void 0&&(ee.children=le),ee}o.create=l;function d(c){var i=c;return i&&m.string(i.name)&&m.number(i.kind)&&h.is(i.range)&&h.is(i.selectionRange)&&(i.detail===void 0||m.string(i.detail))&&(i.deprecated===void 0||m.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}o.is=d})(gr=t.DocumentSymbol||(t.DocumentSymbol={}));var yt;(function(o){o.Empty="",o.QuickFix="quickfix",o.Refactor="refactor",o.RefactorExtract="refactor.extract",o.RefactorInline="refactor.inline",o.RefactorRewrite="refactor.rewrite",o.Source="source",o.SourceOrganizeImports="source.organizeImports",o.SourceFixAll="source.fixAll"})(yt=t.CodeActionKind||(t.CodeActionKind={}));var Et;(function(o){o.Invoked=1,o.Automatic=2})(Et=t.CodeActionTriggerKind||(t.CodeActionTriggerKind={}));var Dn;(function(o){function l(c,i,p){var _={diagnostics:c};return i!=null&&(_.only=i),p!=null&&(_.triggerKind=p),_}o.create=l;function d(c){var i=c;return m.defined(i)&&m.typedArray(i.diagnostics,I.is)&&(i.only===void 0||m.typedArray(i.only,m.string))&&(i.triggerKind===void 0||i.triggerKind===Et.Invoked||i.triggerKind===Et.Automatic)}o.is=d})(Dn=t.CodeActionContext||(t.CodeActionContext={}));var Xt;(function(o){function l(c,i,p){var _={title:c},L=!0;return typeof i=="string"?(L=!1,_.kind=i):g.is(i)?_.command=i:_.edit=i,L&&p!==void 0&&(_.kind=p),_}o.create=l;function d(c){var i=c;return i&&m.string(i.title)&&(i.diagnostics===void 0||m.typedArray(i.diagnostics,I.is))&&(i.kind===void 0||m.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||g.is(i.command))&&(i.isPreferred===void 0||m.boolean(i.isPreferred))&&(i.edit===void 0||Gt.is(i.edit))}o.is=d})(Xt=t.CodeAction||(t.CodeAction={}));var Pn;(function(o){function l(c,i){var p={range:c};return m.defined(i)&&(p.data=i),p}o.create=l;function d(c){var i=c;return m.defined(i)&&h.is(i.range)&&(m.undefined(i.command)||g.is(i.command))}o.is=d})(Pn=t.CodeLens||(t.CodeLens={}));var ct;(function(o){function l(c,i){return{tabSize:c,insertSpaces:i}}o.create=l;function d(c){var i=c;return m.defined(i)&&m.uinteger(i.tabSize)&&m.boolean(i.insertSpaces)}o.is=d})(ct=t.FormattingOptions||(t.FormattingOptions={}));var u;(function(o){function l(c,i,p){return{range:c,target:i,data:p}}o.create=l;function d(c){var i=c;return m.defined(i)&&h.is(i.range)&&(m.undefined(i.target)||m.string(i.target))}o.is=d})(u=t.DocumentLink||(t.DocumentLink={}));var w;(function(o){function l(c,i){return{range:c,parent:i}}o.create=l;function d(c){var i=c;return m.objectLiteral(i)&&h.is(i.range)&&(i.parent===void 0||o.is(i.parent))}o.is=d})(w=t.SelectionRange||(t.SelectionRange={}));var k;(function(o){o.namespace="namespace",o.type="type",o.class="class",o.enum="enum",o.interface="interface",o.struct="struct",o.typeParameter="typeParameter",o.parameter="parameter",o.variable="variable",o.property="property",o.enumMember="enumMember",o.event="event",o.function="function",o.method="method",o.macro="macro",o.keyword="keyword",o.modifier="modifier",o.comment="comment",o.string="string",o.number="number",o.regexp="regexp",o.operator="operator",o.decorator="decorator"})(k=t.SemanticTokenTypes||(t.SemanticTokenTypes={}));var S;(function(o){o.declaration="declaration",o.definition="definition",o.readonly="readonly",o.static="static",o.deprecated="deprecated",o.abstract="abstract",o.async="async",o.modification="modification",o.documentation="documentation",o.defaultLibrary="defaultLibrary"})(S=t.SemanticTokenModifiers||(t.SemanticTokenModifiers={}));var Q;(function(o){function l(d){var c=d;return m.objectLiteral(c)&&(c.resultId===void 0||typeof c.resultId=="string")&&Array.isArray(c.data)&&(c.data.length===0||typeof c.data[0]=="number")}o.is=l})(Q=t.SemanticTokens||(t.SemanticTokens={}));var Y;(function(o){function l(c,i){return{range:c,text:i}}o.create=l;function d(c){var i=c;return i!=null&&h.is(i.range)&&m.string(i.text)}o.is=d})(Y=t.InlineValueText||(t.InlineValueText={}));var se;(function(o){function l(c,i,p){return{range:c,variableName:i,caseSensitiveLookup:p}}o.create=l;function d(c){var i=c;return i!=null&&h.is(i.range)&&m.boolean(i.caseSensitiveLookup)&&(m.string(i.variableName)||i.variableName===void 0)}o.is=d})(se=t.InlineValueVariableLookup||(t.InlineValueVariableLookup={}));var fe;(function(o){function l(c,i){return{range:c,expression:i}}o.create=l;function d(c){var i=c;return i!=null&&h.is(i.range)&&(m.string(i.expression)||i.expression===void 0)}o.is=d})(fe=t.InlineValueEvaluatableExpression||(t.InlineValueEvaluatableExpression={}));var W;(function(o){function l(c,i){return{frameId:c,stoppedLocation:i}}o.create=l;function d(c){var i=c;return m.defined(i)&&h.is(c.stoppedLocation)}o.is=d})(W=t.InlineValueContext||(t.InlineValueContext={}));var Z;(function(o){o.Type=1,o.Parameter=2;function l(d){return d===1||d===2}o.is=l})(Z=t.InlayHintKind||(t.InlayHintKind={}));var $;(function(o){function l(c){return{value:c}}o.create=l;function d(c){var i=c;return m.objectLiteral(i)&&(i.tooltip===void 0||m.string(i.tooltip)||St.is(i.tooltip))&&(i.location===void 0||C.is(i.location))&&(i.command===void 0||g.is(i.command))}o.is=d})($=t.InlayHintLabelPart||(t.InlayHintLabelPart={}));var de;(function(o){function l(c,i,p){var _={position:c,label:i};return p!==void 0&&(_.kind=p),_}o.create=l;function d(c){var i=c;return m.objectLiteral(i)&&v.is(i.position)&&(m.string(i.label)||m.typedArray(i.label,$.is))&&(i.kind===void 0||Z.is(i.kind))&&i.textEdits===void 0||m.typedArray(i.textEdits,y.is)&&(i.tooltip===void 0||m.string(i.tooltip)||St.is(i.tooltip))&&(i.paddingLeft===void 0||m.boolean(i.paddingLeft))&&(i.paddingRight===void 0||m.boolean(i.paddingRight))}o.is=d})(de=t.InlayHint||(t.InlayHint={}));var we;(function(o){function l(d){var c=d;return m.objectLiteral(c)&&r.is(c.uri)&&m.string(c.name)}o.is=l})(we=t.WorkspaceFolder||(t.WorkspaceFolder={})),t.EOL=[`
`,`\r
`,"\r"];var Ye;(function(o){function l(p,_,L,le){return new Be(p,_,L,le)}o.create=l;function d(p){var _=p;return!!(m.defined(_)&&m.string(_.uri)&&(m.undefined(_.languageId)||m.string(_.languageId))&&m.uinteger(_.lineCount)&&m.func(_.getText)&&m.func(_.positionAt)&&m.func(_.offsetAt))}o.is=d;function c(p,_){for(var L=p.getText(),le=i(_,function(Ot,kn){var so=Ot.range.start.line-kn.range.start.line;return so===0?Ot.range.start.character-kn.range.start.character:so}),ee=L.length,Oe=le.length-1;Oe>=0;Oe--){var Me=le[Oe],Ze=p.offsetAt(Me.range.start),z=p.offsetAt(Me.range.end);if(z<=ee)L=L.substring(0,Ze)+Me.newText+L.substring(z,L.length);else throw new Error("Overlapping edit");ee=Ze}return L}o.applyEdits=c;function i(p,_){if(p.length<=1)return p;var L=p.length/2|0,le=p.slice(0,L),ee=p.slice(L);i(le,_),i(ee,_);for(var Oe=0,Me=0,Ze=0;Oe<le.length&&Me<ee.length;){var z=_(le[Oe],ee[Me]);z<=0?p[Ze++]=le[Oe++]:p[Ze++]=ee[Me++]}for(;Oe<le.length;)p[Ze++]=le[Oe++];for(;Me<ee.length;)p[Ze++]=ee[Me++];return p}})(Ye=t.TextDocument||(t.TextDocument={}));var Be=function(){function o(l,d,c,i){this._uri=l,this._languageId=d,this._version=c,this._content=i,this._lineOffsets=void 0}return Object.defineProperty(o.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),o.prototype.getText=function(l){if(l){var d=this.offsetAt(l.start),c=this.offsetAt(l.end);return this._content.substring(d,c)}return this._content},o.prototype.update=function(l,d){this._content=l.text,this._version=d,this._lineOffsets=void 0},o.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var l=[],d=this._content,c=!0,i=0;i<d.length;i++){c&&(l.push(i),c=!1);var p=d.charAt(i);c=p==="\r"||p===`
`,p==="\r"&&i+1<d.length&&d.charAt(i+1)===`
`&&i++}c&&d.length>0&&l.push(d.length),this._lineOffsets=l}return this._lineOffsets},o.prototype.positionAt=function(l){l=Math.max(Math.min(l,this._content.length),0);var d=this.getLineOffsets(),c=0,i=d.length;if(i===0)return v.create(0,l);for(;c<i;){var p=Math.floor((c+i)/2);d[p]>l?i=p:c=p+1}var _=c-1;return v.create(_,l-d[_])},o.prototype.offsetAt=function(l){var d=this.getLineOffsets();if(l.line>=d.length)return this._content.length;if(l.line<0)return 0;var c=d[l.line],i=l.line+1<d.length?d[l.line+1]:this._content.length;return Math.max(Math.min(c+l.character,i),c)},Object.defineProperty(o.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),o}(),m;(function(o){var l=Object.prototype.toString;function d(z){return typeof z<"u"}o.defined=d;function c(z){return typeof z>"u"}o.undefined=c;function i(z){return z===!0||z===!1}o.boolean=i;function p(z){return l.call(z)==="[object String]"}o.string=p;function _(z){return l.call(z)==="[object Number]"}o.number=_;function L(z,Ot,kn){return l.call(z)==="[object Number]"&&Ot<=z&&z<=kn}o.numberRange=L;function le(z){return l.call(z)==="[object Number]"&&-2147483648<=z&&z<=2147483647}o.integer=le;function ee(z){return l.call(z)==="[object Number]"&&0<=z&&z<=2147483647}o.uinteger=ee;function Oe(z){return l.call(z)==="[object Function]"}o.func=Oe;function Me(z){return z!==null&&typeof z=="object"}o.objectLiteral=Me;function Ze(z,Ot){return Array.isArray(z)&&z.every(Ot)}o.typedArray=Ze})(m||(m={}))})});var ae=O(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.ProtocolNotificationType=Pe.ProtocolNotificationType0=Pe.ProtocolRequestType=Pe.ProtocolRequestType0=Pe.RegistrationType=Pe.MessageDirection=void 0;var Ft=Dt(),Za;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(Za=Pe.MessageDirection||(Pe.MessageDirection={}));var Di=class{constructor(t){this.method=t}};Pe.RegistrationType=Di;var Pi=class extends Ft.RequestType0{constructor(t){super(t)}};Pe.ProtocolRequestType0=Pi;var ki=class extends Ft.RequestType{constructor(t){super(t,Ft.ParameterStructures.byName)}};Pe.ProtocolRequestType=ki;var Ci=class extends Ft.NotificationType0{constructor(t){super(t)}};Pe.ProtocolNotificationType0=Ci;var qi=class extends Ft.NotificationType{constructor(t){super(t,Ft.ParameterStructures.byName)}};Pe.ProtocolNotificationType=qi});var Fn=O(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.objectLiteral=he.typedArray=he.stringArray=he.array=he.func=he.error=he.number=he.string=he.boolean=void 0;function ec(e){return e===!0||e===!1}he.boolean=ec;function jo(e){return typeof e=="string"||e instanceof String}he.string=jo;function tc(e){return typeof e=="number"||e instanceof Number}he.number=tc;function nc(e){return e instanceof Error}he.error=nc;function rc(e){return typeof e=="function"}he.func=rc;function Io(e){return Array.isArray(e)}he.array=Io;function ic(e){return Io(e)&&e.every(t=>jo(t))}he.stringArray=ic;function oc(e,t){return Array.isArray(e)&&e.every(t)}he.typedArray=oc;function sc(e){return e!==null&&typeof e=="object"}he.objectLiteral=sc});var Ao=O(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.ImplementationRequest=void 0;var Lo=ae(),ac;(function(e){e.method="textDocument/implementation",e.messageDirection=Lo.MessageDirection.clientToServer,e.type=new Lo.ProtocolRequestType(e.method)})(ac=rn.ImplementationRequest||(rn.ImplementationRequest={}))});var Ho=O(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.TypeDefinitionRequest=void 0;var Fo=ae(),cc;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=Fo.MessageDirection.clientToServer,e.type=new Fo.ProtocolRequestType(e.method)})(cc=on.TypeDefinitionRequest||(on.TypeDefinitionRequest={}))});var Wo=O(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.DidChangeWorkspaceFoldersNotification=lt.WorkspaceFoldersRequest=void 0;var Hn=ae(),uc;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=Hn.MessageDirection.serverToClient,e.type=new Hn.ProtocolRequestType0(e.method)})(uc=lt.WorkspaceFoldersRequest||(lt.WorkspaceFoldersRequest={}));var lc;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=Hn.MessageDirection.clientToServer,e.type=new Hn.ProtocolNotificationType(e.method)})(lc=lt.DidChangeWorkspaceFoldersNotification||(lt.DidChangeWorkspaceFoldersNotification={}))});var $o=O(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.ConfigurationRequest=void 0;var zo=ae(),dc;(function(e){e.method="workspace/configuration",e.messageDirection=zo.MessageDirection.serverToClient,e.type=new zo.ProtocolRequestType(e.method)})(dc=sn.ConfigurationRequest||(sn.ConfigurationRequest={}))});var Bo=O(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.ColorPresentationRequest=dt.DocumentColorRequest=void 0;var Wn=ae(),fc;(function(e){e.method="textDocument/documentColor",e.messageDirection=Wn.MessageDirection.clientToServer,e.type=new Wn.ProtocolRequestType(e.method)})(fc=dt.DocumentColorRequest||(dt.DocumentColorRequest={}));var hc;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=Wn.MessageDirection.clientToServer,e.type=new Wn.ProtocolRequestType(e.method)})(hc=dt.ColorPresentationRequest||(dt.ColorPresentationRequest={}))});var Vo=O(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.FoldingRangeRequest=void 0;var Uo=ae(),mc;(function(e){e.method="textDocument/foldingRange",e.messageDirection=Uo.MessageDirection.clientToServer,e.type=new Uo.ProtocolRequestType(e.method)})(mc=an.FoldingRangeRequest||(an.FoldingRangeRequest={}))});var Jo=O(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.DeclarationRequest=void 0;var Go=ae(),pc;(function(e){e.method="textDocument/declaration",e.messageDirection=Go.MessageDirection.clientToServer,e.type=new Go.ProtocolRequestType(e.method)})(pc=cn.DeclarationRequest||(cn.DeclarationRequest={}))});var Xo=O(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.SelectionRangeRequest=void 0;var Ko=ae(),gc;(function(e){e.method="textDocument/selectionRange",e.messageDirection=Ko.MessageDirection.clientToServer,e.type=new Ko.ProtocolRequestType(e.method)})(gc=un.SelectionRangeRequest||(un.SelectionRangeRequest={}))});var Qo=O(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.WorkDoneProgressCancelNotification=Ie.WorkDoneProgressCreateRequest=Ie.WorkDoneProgress=void 0;var yc=Dt(),zn=ae(),vc;(function(e){e.type=new yc.ProgressType;function t(n){return n===e.type}e.is=t})(vc=Ie.WorkDoneProgress||(Ie.WorkDoneProgress={}));var bc;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=zn.MessageDirection.serverToClient,e.type=new zn.ProtocolRequestType(e.method)})(bc=Ie.WorkDoneProgressCreateRequest||(Ie.WorkDoneProgressCreateRequest={}));var _c;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=zn.MessageDirection.clientToServer,e.type=new zn.ProtocolNotificationType(e.method)})(_c=Ie.WorkDoneProgressCancelNotification||(Ie.WorkDoneProgressCancelNotification={}))});var Yo=O(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.CallHierarchyOutgoingCallsRequest=Le.CallHierarchyIncomingCallsRequest=Le.CallHierarchyPrepareRequest=void 0;var Ht=ae(),wc;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=Ht.MessageDirection.clientToServer,e.type=new Ht.ProtocolRequestType(e.method)})(wc=Le.CallHierarchyPrepareRequest||(Le.CallHierarchyPrepareRequest={}));var Tc;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=Ht.MessageDirection.clientToServer,e.type=new Ht.ProtocolRequestType(e.method)})(Tc=Le.CallHierarchyIncomingCallsRequest||(Le.CallHierarchyIncomingCallsRequest={}));var Rc;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=Ht.MessageDirection.clientToServer,e.type=new Ht.ProtocolRequestType(e.method)})(Rc=Le.CallHierarchyOutgoingCallsRequest||(Le.CallHierarchyOutgoingCallsRequest={}))});var Zo=O(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.SemanticTokensRefreshRequest=me.SemanticTokensRangeRequest=me.SemanticTokensDeltaRequest=me.SemanticTokensRequest=me.SemanticTokensRegistrationType=me.TokenFormat=void 0;var it=ae(),Dc;(function(e){e.Relative="relative"})(Dc=me.TokenFormat||(me.TokenFormat={}));var $n;(function(e){e.method="textDocument/semanticTokens",e.type=new it.RegistrationType(e.method)})($n=me.SemanticTokensRegistrationType||(me.SemanticTokensRegistrationType={}));var Pc;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=it.MessageDirection.clientToServer,e.type=new it.ProtocolRequestType(e.method),e.registrationMethod=$n.method})(Pc=me.SemanticTokensRequest||(me.SemanticTokensRequest={}));var kc;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=it.MessageDirection.clientToServer,e.type=new it.ProtocolRequestType(e.method),e.registrationMethod=$n.method})(kc=me.SemanticTokensDeltaRequest||(me.SemanticTokensDeltaRequest={}));var Cc;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=it.MessageDirection.clientToServer,e.type=new it.ProtocolRequestType(e.method),e.registrationMethod=$n.method})(Cc=me.SemanticTokensRangeRequest||(me.SemanticTokensRangeRequest={}));var qc;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=it.MessageDirection.clientToServer,e.type=new it.ProtocolRequestType0(e.method)})(qc=me.SemanticTokensRefreshRequest||(me.SemanticTokensRefreshRequest={}))});var ts=O(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.ShowDocumentRequest=void 0;var es=ae(),Sc;(function(e){e.method="window/showDocument",e.messageDirection=es.MessageDirection.serverToClient,e.type=new es.ProtocolRequestType(e.method)})(Sc=ln.ShowDocumentRequest||(ln.ShowDocumentRequest={}))});var rs=O(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.LinkedEditingRangeRequest=void 0;var ns=ae(),xc;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=ns.MessageDirection.clientToServer,e.type=new ns.ProtocolRequestType(e.method)})(xc=dn.LinkedEditingRangeRequest||(dn.LinkedEditingRangeRequest={}))});var is=O(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.WillDeleteFilesRequest=ce.DidDeleteFilesNotification=ce.DidRenameFilesNotification=ce.WillRenameFilesRequest=ce.DidCreateFilesNotification=ce.WillCreateFilesRequest=ce.FileOperationPatternKind=void 0;var Ee=ae(),Ec;(function(e){e.file="file",e.folder="folder"})(Ec=ce.FileOperationPatternKind||(ce.FileOperationPatternKind={}));var Oc;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=Ee.MessageDirection.clientToServer,e.type=new Ee.ProtocolRequestType(e.method)})(Oc=ce.WillCreateFilesRequest||(ce.WillCreateFilesRequest={}));var Mc;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=Ee.MessageDirection.clientToServer,e.type=new Ee.ProtocolNotificationType(e.method)})(Mc=ce.DidCreateFilesNotification||(ce.DidCreateFilesNotification={}));var Nc;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=Ee.MessageDirection.clientToServer,e.type=new Ee.ProtocolRequestType(e.method)})(Nc=ce.WillRenameFilesRequest||(ce.WillRenameFilesRequest={}));var jc;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=Ee.MessageDirection.clientToServer,e.type=new Ee.ProtocolNotificationType(e.method)})(jc=ce.DidRenameFilesNotification||(ce.DidRenameFilesNotification={}));var Ic;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=Ee.MessageDirection.clientToServer,e.type=new Ee.ProtocolNotificationType(e.method)})(Ic=ce.DidDeleteFilesNotification||(ce.DidDeleteFilesNotification={}));var Lc;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=Ee.MessageDirection.clientToServer,e.type=new Ee.ProtocolRequestType(e.method)})(Lc=ce.WillDeleteFilesRequest||(ce.WillDeleteFilesRequest={}))});var ss=O(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.MonikerRequest=Ae.MonikerKind=Ae.UniquenessLevel=void 0;var os=ae(),Ac;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(Ac=Ae.UniquenessLevel||(Ae.UniquenessLevel={}));var Fc;(function(e){e.$import="import",e.$export="export",e.local="local"})(Fc=Ae.MonikerKind||(Ae.MonikerKind={}));var Hc;(function(e){e.method="textDocument/moniker",e.messageDirection=os.MessageDirection.clientToServer,e.type=new os.ProtocolRequestType(e.method)})(Hc=Ae.MonikerRequest||(Ae.MonikerRequest={}))});var as=O(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.TypeHierarchySubtypesRequest=Fe.TypeHierarchySupertypesRequest=Fe.TypeHierarchyPrepareRequest=void 0;var Wt=ae(),Wc;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=Wt.MessageDirection.clientToServer,e.type=new Wt.ProtocolRequestType(e.method)})(Wc=Fe.TypeHierarchyPrepareRequest||(Fe.TypeHierarchyPrepareRequest={}));var zc;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=Wt.MessageDirection.clientToServer,e.type=new Wt.ProtocolRequestType(e.method)})(zc=Fe.TypeHierarchySupertypesRequest||(Fe.TypeHierarchySupertypesRequest={}));var $c;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=Wt.MessageDirection.clientToServer,e.type=new Wt.ProtocolRequestType(e.method)})($c=Fe.TypeHierarchySubtypesRequest||(Fe.TypeHierarchySubtypesRequest={}))});var cs=O(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.InlineValueRefreshRequest=ft.InlineValueRequest=void 0;var Bn=ae(),Bc;(function(e){e.method="textDocument/inlineValue",e.messageDirection=Bn.MessageDirection.clientToServer,e.type=new Bn.ProtocolRequestType(e.method)})(Bc=ft.InlineValueRequest||(ft.InlineValueRequest={}));var Uc;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=Bn.MessageDirection.clientToServer,e.type=new Bn.ProtocolRequestType0(e.method)})(Uc=ft.InlineValueRefreshRequest||(ft.InlineValueRefreshRequest={}))});var us=O(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.InlayHintRefreshRequest=He.InlayHintResolveRequest=He.InlayHintRequest=void 0;var zt=ae(),Vc;(function(e){e.method="textDocument/inlayHint",e.messageDirection=zt.MessageDirection.clientToServer,e.type=new zt.ProtocolRequestType(e.method)})(Vc=He.InlayHintRequest||(He.InlayHintRequest={}));var Gc;(function(e){e.method="inlayHint/resolve",e.messageDirection=zt.MessageDirection.clientToServer,e.type=new zt.ProtocolRequestType(e.method)})(Gc=He.InlayHintResolveRequest||(He.InlayHintResolveRequest={}));var Jc;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=zt.MessageDirection.clientToServer,e.type=new zt.ProtocolRequestType0(e.method)})(Jc=He.InlayHintRefreshRequest||(He.InlayHintRefreshRequest={}))});var ds=O(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.DiagnosticRefreshRequest=be.WorkspaceDiagnosticRequest=be.DocumentDiagnosticRequest=be.DocumentDiagnosticReportKind=be.DiagnosticServerCancellationData=void 0;var ls=Dt(),Kc=Fn(),$t=ae(),Xc;(function(e){function t(n){let r=n;return r&&Kc.boolean(r.retriggerRequest)}e.is=t})(Xc=be.DiagnosticServerCancellationData||(be.DiagnosticServerCancellationData={}));var Qc;(function(e){e.Full="full",e.Unchanged="unchanged"})(Qc=be.DocumentDiagnosticReportKind||(be.DocumentDiagnosticReportKind={}));var Yc;(function(e){e.method="textDocument/diagnostic",e.messageDirection=$t.MessageDirection.clientToServer,e.type=new $t.ProtocolRequestType(e.method),e.partialResult=new ls.ProgressType})(Yc=be.DocumentDiagnosticRequest||(be.DocumentDiagnosticRequest={}));var Zc;(function(e){e.method="workspace/diagnostic",e.messageDirection=$t.MessageDirection.clientToServer,e.type=new $t.ProtocolRequestType(e.method),e.partialResult=new ls.ProgressType})(Zc=be.WorkspaceDiagnosticRequest||(be.WorkspaceDiagnosticRequest={}));var eu;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=$t.MessageDirection.clientToServer,e.type=new $t.ProtocolRequestType0(e.method)})(eu=be.DiagnosticRefreshRequest||(be.DiagnosticRefreshRequest={}))});var ms=O(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.DidCloseNotebookDocumentNotification=U.DidSaveNotebookDocumentNotification=U.DidChangeNotebookDocumentNotification=U.NotebookCellArrayChange=U.DidOpenNotebookDocumentNotification=U.NotebookDocumentSyncRegistrationType=U.NotebookDocument=U.NotebookCell=U.ExecutionSummary=U.NotebookCellKind=void 0;var fn=An(),We=Fn(),Ve=ae(),fs;(function(e){e.Markup=1,e.Code=2;function t(n){return n===1||n===2}e.is=t})(fs=U.NotebookCellKind||(U.NotebookCellKind={}));var hs;(function(e){function t(a,f){let v={executionOrder:a};return(f===!0||f===!1)&&(v.success=f),v}e.create=t;function n(a){let f=a;return We.objectLiteral(f)&&fn.uinteger.is(f.executionOrder)&&(f.success===void 0||We.boolean(f.success))}e.is=n;function r(a,f){return a===f?!0:a==null||f===null||f===void 0?!1:a.executionOrder===f.executionOrder&&a.success===f.success}e.equals=r})(hs=U.ExecutionSummary||(U.ExecutionSummary={}));var Si;(function(e){function t(f,v){return{kind:f,document:v}}e.create=t;function n(f){let v=f;return We.objectLiteral(v)&&fs.is(v.kind)&&fn.DocumentUri.is(v.document)&&(v.metadata===void 0||We.objectLiteral(v.metadata))}e.is=n;function r(f,v){let h=new Set;return f.document!==v.document&&h.add("document"),f.kind!==v.kind&&h.add("kind"),f.executionSummary!==v.executionSummary&&h.add("executionSummary"),(f.metadata!==void 0||v.metadata!==void 0)&&!a(f.metadata,v.metadata)&&h.add("metadata"),(f.executionSummary!==void 0||v.executionSummary!==void 0)&&!hs.equals(f.executionSummary,v.executionSummary)&&h.add("executionSummary"),h}e.diff=r;function a(f,v){if(f===v)return!0;if(f==null||v===null||v===void 0||typeof f!=typeof v||typeof f!="object")return!1;let h=Array.isArray(f),C=Array.isArray(v);if(h!==C)return!1;if(h&&C){if(f.length!==v.length)return!1;for(let D=0;D<f.length;D++)if(!a(f[D],v[D]))return!1}if(We.objectLiteral(f)&&We.objectLiteral(v)){let D=Object.keys(f),q=Object.keys(v);if(D.length!==q.length||(D.sort(),q.sort(),!a(D,q)))return!1;for(let N=0;N<D.length;N++){let x=D[N];if(!a(f[x],v[x]))return!1}}return!0}})(Si=U.NotebookCell||(U.NotebookCell={}));var tu;(function(e){function t(r,a,f,v){return{uri:r,notebookType:a,version:f,cells:v}}e.create=t;function n(r){let a=r;return We.objectLiteral(a)&&We.string(a.uri)&&fn.integer.is(a.version)&&We.typedArray(a.cells,Si.is)}e.is=n})(tu=U.NotebookDocument||(U.NotebookDocument={}));var hn;(function(e){e.method="notebookDocument/sync",e.messageDirection=Ve.MessageDirection.clientToServer,e.type=new Ve.RegistrationType(e.method)})(hn=U.NotebookDocumentSyncRegistrationType||(U.NotebookDocumentSyncRegistrationType={}));var nu;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=Ve.MessageDirection.clientToServer,e.type=new Ve.ProtocolNotificationType(e.method),e.registrationMethod=hn.method})(nu=U.DidOpenNotebookDocumentNotification||(U.DidOpenNotebookDocumentNotification={}));var ru;(function(e){function t(r){let a=r;return We.objectLiteral(a)&&fn.uinteger.is(a.start)&&fn.uinteger.is(a.deleteCount)&&(a.cells===void 0||We.typedArray(a.cells,Si.is))}e.is=t;function n(r,a,f){let v={start:r,deleteCount:a};return f!==void 0&&(v.cells=f),v}e.create=n})(ru=U.NotebookCellArrayChange||(U.NotebookCellArrayChange={}));var iu;(function(e){e.method="notebookDocument/didChange",e.messageDirection=Ve.MessageDirection.clientToServer,e.type=new Ve.ProtocolNotificationType(e.method),e.registrationMethod=hn.method})(iu=U.DidChangeNotebookDocumentNotification||(U.DidChangeNotebookDocumentNotification={}));var ou;(function(e){e.method="notebookDocument/didSave",e.messageDirection=Ve.MessageDirection.clientToServer,e.type=new Ve.ProtocolNotificationType(e.method),e.registrationMethod=hn.method})(ou=U.DidSaveNotebookDocumentNotification||(U.DidSaveNotebookDocumentNotification={}));var su;(function(e){e.method="notebookDocument/didClose",e.messageDirection=Ve.MessageDirection.clientToServer,e.type=new Ve.ProtocolNotificationType(e.method),e.registrationMethod=hn.method})(su=U.DidCloseNotebookDocumentNotification||(U.DidCloseNotebookDocumentNotification={}))});var Rs=O(s=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.WorkspaceSymbolRequest=s.CodeActionResolveRequest=s.CodeActionRequest=s.DocumentSymbolRequest=s.DocumentHighlightRequest=s.ReferencesRequest=s.DefinitionRequest=s.SignatureHelpRequest=s.SignatureHelpTriggerKind=s.HoverRequest=s.CompletionResolveRequest=s.CompletionRequest=s.CompletionTriggerKind=s.PublishDiagnosticsNotification=s.WatchKind=s.RelativePattern=s.FileChangeType=s.DidChangeWatchedFilesNotification=s.WillSaveTextDocumentWaitUntilRequest=s.WillSaveTextDocumentNotification=s.TextDocumentSaveReason=s.DidSaveTextDocumentNotification=s.DidCloseTextDocumentNotification=s.DidChangeTextDocumentNotification=s.TextDocumentContentChangeEvent=s.DidOpenTextDocumentNotification=s.TextDocumentSyncKind=s.TelemetryEventNotification=s.LogMessageNotification=s.ShowMessageRequest=s.ShowMessageNotification=s.MessageType=s.DidChangeConfigurationNotification=s.ExitNotification=s.ShutdownRequest=s.InitializedNotification=s.InitializeErrorCodes=s.InitializeRequest=s.WorkDoneProgressOptions=s.TextDocumentRegistrationOptions=s.StaticRegistrationOptions=s.PositionEncodingKind=s.FailureHandlingKind=s.ResourceOperationKind=s.UnregistrationRequest=s.RegistrationRequest=s.DocumentSelector=s.NotebookCellTextDocumentFilter=s.NotebookDocumentFilter=s.TextDocumentFilter=void 0;s.TypeHierarchySubtypesRequest=s.TypeHierarchyPrepareRequest=s.MonikerRequest=s.MonikerKind=s.UniquenessLevel=s.WillDeleteFilesRequest=s.DidDeleteFilesNotification=s.WillRenameFilesRequest=s.DidRenameFilesNotification=s.WillCreateFilesRequest=s.DidCreateFilesNotification=s.FileOperationPatternKind=s.LinkedEditingRangeRequest=s.ShowDocumentRequest=s.SemanticTokensRegistrationType=s.SemanticTokensRefreshRequest=s.SemanticTokensRangeRequest=s.SemanticTokensDeltaRequest=s.SemanticTokensRequest=s.TokenFormat=s.CallHierarchyPrepareRequest=s.CallHierarchyOutgoingCallsRequest=s.CallHierarchyIncomingCallsRequest=s.WorkDoneProgressCancelNotification=s.WorkDoneProgressCreateRequest=s.WorkDoneProgress=s.SelectionRangeRequest=s.DeclarationRequest=s.FoldingRangeRequest=s.ColorPresentationRequest=s.DocumentColorRequest=s.ConfigurationRequest=s.DidChangeWorkspaceFoldersNotification=s.WorkspaceFoldersRequest=s.TypeDefinitionRequest=s.ImplementationRequest=s.ApplyWorkspaceEditRequest=s.ExecuteCommandRequest=s.PrepareRenameRequest=s.RenameRequest=s.PrepareSupportDefaultBehavior=s.DocumentOnTypeFormattingRequest=s.DocumentRangeFormattingRequest=s.DocumentFormattingRequest=s.DocumentLinkResolveRequest=s.DocumentLinkRequest=s.CodeLensRefreshRequest=s.CodeLensResolveRequest=s.CodeLensRequest=s.WorkspaceSymbolResolveRequest=void 0;s.DidCloseNotebookDocumentNotification=s.DidSaveNotebookDocumentNotification=s.DidChangeNotebookDocumentNotification=s.NotebookCellArrayChange=s.DidOpenNotebookDocumentNotification=s.NotebookDocumentSyncRegistrationType=s.NotebookDocument=s.NotebookCell=s.ExecutionSummary=s.NotebookCellKind=s.DiagnosticRefreshRequest=s.WorkspaceDiagnosticRequest=s.DocumentDiagnosticRequest=s.DocumentDiagnosticReportKind=s.DiagnosticServerCancellationData=s.InlayHintRefreshRequest=s.InlayHintResolveRequest=s.InlayHintRequest=s.InlineValueRefreshRequest=s.InlineValueRequest=s.TypeHierarchySupertypesRequest=void 0;var T=ae(),ps=An(),_e=Fn(),au=Ao();Object.defineProperty(s,"ImplementationRequest",{enumerable:!0,get:function(){return au.ImplementationRequest}});var cu=Ho();Object.defineProperty(s,"TypeDefinitionRequest",{enumerable:!0,get:function(){return cu.TypeDefinitionRequest}});var gs=Wo();Object.defineProperty(s,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return gs.WorkspaceFoldersRequest}});Object.defineProperty(s,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return gs.DidChangeWorkspaceFoldersNotification}});var uu=$o();Object.defineProperty(s,"ConfigurationRequest",{enumerable:!0,get:function(){return uu.ConfigurationRequest}});var ys=Bo();Object.defineProperty(s,"DocumentColorRequest",{enumerable:!0,get:function(){return ys.DocumentColorRequest}});Object.defineProperty(s,"ColorPresentationRequest",{enumerable:!0,get:function(){return ys.ColorPresentationRequest}});var lu=Vo();Object.defineProperty(s,"FoldingRangeRequest",{enumerable:!0,get:function(){return lu.FoldingRangeRequest}});var du=Jo();Object.defineProperty(s,"DeclarationRequest",{enumerable:!0,get:function(){return du.DeclarationRequest}});var fu=Xo();Object.defineProperty(s,"SelectionRangeRequest",{enumerable:!0,get:function(){return fu.SelectionRangeRequest}});var xi=Qo();Object.defineProperty(s,"WorkDoneProgress",{enumerable:!0,get:function(){return xi.WorkDoneProgress}});Object.defineProperty(s,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return xi.WorkDoneProgressCreateRequest}});Object.defineProperty(s,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return xi.WorkDoneProgressCancelNotification}});var Ei=Yo();Object.defineProperty(s,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Ei.CallHierarchyIncomingCallsRequest}});Object.defineProperty(s,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Ei.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(s,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Ei.CallHierarchyPrepareRequest}});var Bt=Zo();Object.defineProperty(s,"TokenFormat",{enumerable:!0,get:function(){return Bt.TokenFormat}});Object.defineProperty(s,"SemanticTokensRequest",{enumerable:!0,get:function(){return Bt.SemanticTokensRequest}});Object.defineProperty(s,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Bt.SemanticTokensDeltaRequest}});Object.defineProperty(s,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Bt.SemanticTokensRangeRequest}});Object.defineProperty(s,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Bt.SemanticTokensRefreshRequest}});Object.defineProperty(s,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Bt.SemanticTokensRegistrationType}});var hu=ts();Object.defineProperty(s,"ShowDocumentRequest",{enumerable:!0,get:function(){return hu.ShowDocumentRequest}});var mu=rs();Object.defineProperty(s,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return mu.LinkedEditingRangeRequest}});var Pt=is();Object.defineProperty(s,"FileOperationPatternKind",{enumerable:!0,get:function(){return Pt.FileOperationPatternKind}});Object.defineProperty(s,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Pt.DidCreateFilesNotification}});Object.defineProperty(s,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Pt.WillCreateFilesRequest}});Object.defineProperty(s,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Pt.DidRenameFilesNotification}});Object.defineProperty(s,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Pt.WillRenameFilesRequest}});Object.defineProperty(s,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Pt.DidDeleteFilesNotification}});Object.defineProperty(s,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Pt.WillDeleteFilesRequest}});var Oi=ss();Object.defineProperty(s,"UniquenessLevel",{enumerable:!0,get:function(){return Oi.UniquenessLevel}});Object.defineProperty(s,"MonikerKind",{enumerable:!0,get:function(){return Oi.MonikerKind}});Object.defineProperty(s,"MonikerRequest",{enumerable:!0,get:function(){return Oi.MonikerRequest}});var Mi=as();Object.defineProperty(s,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Mi.TypeHierarchyPrepareRequest}});Object.defineProperty(s,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Mi.TypeHierarchySubtypesRequest}});Object.defineProperty(s,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Mi.TypeHierarchySupertypesRequest}});var vs=cs();Object.defineProperty(s,"InlineValueRequest",{enumerable:!0,get:function(){return vs.InlineValueRequest}});Object.defineProperty(s,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return vs.InlineValueRefreshRequest}});var Ni=us();Object.defineProperty(s,"InlayHintRequest",{enumerable:!0,get:function(){return Ni.InlayHintRequest}});Object.defineProperty(s,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Ni.InlayHintResolveRequest}});Object.defineProperty(s,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Ni.InlayHintRefreshRequest}});var mn=ds();Object.defineProperty(s,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return mn.DiagnosticServerCancellationData}});Object.defineProperty(s,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return mn.DocumentDiagnosticReportKind}});Object.defineProperty(s,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return mn.DocumentDiagnosticRequest}});Object.defineProperty(s,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return mn.WorkspaceDiagnosticRequest}});Object.defineProperty(s,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return mn.DiagnosticRefreshRequest}});var Ge=ms();Object.defineProperty(s,"NotebookCellKind",{enumerable:!0,get:function(){return Ge.NotebookCellKind}});Object.defineProperty(s,"ExecutionSummary",{enumerable:!0,get:function(){return Ge.ExecutionSummary}});Object.defineProperty(s,"NotebookCell",{enumerable:!0,get:function(){return Ge.NotebookCell}});Object.defineProperty(s,"NotebookDocument",{enumerable:!0,get:function(){return Ge.NotebookDocument}});Object.defineProperty(s,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Ge.NotebookDocumentSyncRegistrationType}});Object.defineProperty(s,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Ge.DidOpenNotebookDocumentNotification}});Object.defineProperty(s,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Ge.NotebookCellArrayChange}});Object.defineProperty(s,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Ge.DidChangeNotebookDocumentNotification}});Object.defineProperty(s,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Ge.DidSaveNotebookDocumentNotification}});Object.defineProperty(s,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Ge.DidCloseNotebookDocumentNotification}});var bs;(function(e){function t(n){let r=n;return _e.string(r.language)||_e.string(r.scheme)||_e.string(r.pattern)}e.is=t})(bs=s.TextDocumentFilter||(s.TextDocumentFilter={}));var _s;(function(e){function t(n){let r=n;return _e.objectLiteral(r)&&(_e.string(r.notebookType)||_e.string(r.scheme)||_e.string(r.pattern))}e.is=t})(_s=s.NotebookDocumentFilter||(s.NotebookDocumentFilter={}));var ws;(function(e){function t(n){let r=n;return _e.objectLiteral(r)&&(_e.string(r.notebook)||_s.is(r.notebook))&&(r.language===void 0||_e.string(r.language))}e.is=t})(ws=s.NotebookCellTextDocumentFilter||(s.NotebookCellTextDocumentFilter={}));var Ts;(function(e){function t(n){if(!Array.isArray(n))return!1;for(let r of n)if(!_e.string(r)&&!bs.is(r)&&!ws.is(r))return!1;return!0}e.is=t})(Ts=s.DocumentSelector||(s.DocumentSelector={}));var pu;(function(e){e.method="client/registerCapability",e.messageDirection=T.MessageDirection.serverToClient,e.type=new T.ProtocolRequestType(e.method)})(pu=s.RegistrationRequest||(s.RegistrationRequest={}));var gu;(function(e){e.method="client/unregisterCapability",e.messageDirection=T.MessageDirection.serverToClient,e.type=new T.ProtocolRequestType(e.method)})(gu=s.UnregistrationRequest||(s.UnregistrationRequest={}));var yu;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(yu=s.ResourceOperationKind||(s.ResourceOperationKind={}));var vu;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(vu=s.FailureHandlingKind||(s.FailureHandlingKind={}));var bu;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(bu=s.PositionEncodingKind||(s.PositionEncodingKind={}));var _u;(function(e){function t(n){let r=n;return r&&_e.string(r.id)&&r.id.length>0}e.hasId=t})(_u=s.StaticRegistrationOptions||(s.StaticRegistrationOptions={}));var wu;(function(e){function t(n){let r=n;return r&&(r.documentSelector===null||Ts.is(r.documentSelector))}e.is=t})(wu=s.TextDocumentRegistrationOptions||(s.TextDocumentRegistrationOptions={}));var Tu;(function(e){function t(r){let a=r;return _e.objectLiteral(a)&&(a.workDoneProgress===void 0||_e.boolean(a.workDoneProgress))}e.is=t;function n(r){let a=r;return a&&_e.boolean(a.workDoneProgress)}e.hasWorkDoneProgress=n})(Tu=s.WorkDoneProgressOptions||(s.WorkDoneProgressOptions={}));var Ru;(function(e){e.method="initialize",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(Ru=s.InitializeRequest||(s.InitializeRequest={}));var Du;(function(e){e.unknownProtocolVersion=1})(Du=s.InitializeErrorCodes||(s.InitializeErrorCodes={}));var Pu;(function(e){e.method="initialized",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolNotificationType(e.method)})(Pu=s.InitializedNotification||(s.InitializedNotification={}));var ku;(function(e){e.method="shutdown",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType0(e.method)})(ku=s.ShutdownRequest||(s.ShutdownRequest={}));var Cu;(function(e){e.method="exit",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolNotificationType0(e.method)})(Cu=s.ExitNotification||(s.ExitNotification={}));var qu;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolNotificationType(e.method)})(qu=s.DidChangeConfigurationNotification||(s.DidChangeConfigurationNotification={}));var Su;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4})(Su=s.MessageType||(s.MessageType={}));var xu;(function(e){e.method="window/showMessage",e.messageDirection=T.MessageDirection.serverToClient,e.type=new T.ProtocolNotificationType(e.method)})(xu=s.ShowMessageNotification||(s.ShowMessageNotification={}));var Eu;(function(e){e.method="window/showMessageRequest",e.messageDirection=T.MessageDirection.serverToClient,e.type=new T.ProtocolRequestType(e.method)})(Eu=s.ShowMessageRequest||(s.ShowMessageRequest={}));var Ou;(function(e){e.method="window/logMessage",e.messageDirection=T.MessageDirection.serverToClient,e.type=new T.ProtocolNotificationType(e.method)})(Ou=s.LogMessageNotification||(s.LogMessageNotification={}));var Mu;(function(e){e.method="telemetry/event",e.messageDirection=T.MessageDirection.serverToClient,e.type=new T.ProtocolNotificationType(e.method)})(Mu=s.TelemetryEventNotification||(s.TelemetryEventNotification={}));var Nu;(function(e){e.None=0,e.Full=1,e.Incremental=2})(Nu=s.TextDocumentSyncKind||(s.TextDocumentSyncKind={}));var ju;(function(e){e.method="textDocument/didOpen",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolNotificationType(e.method)})(ju=s.DidOpenTextDocumentNotification||(s.DidOpenTextDocumentNotification={}));var Iu;(function(e){function t(r){let a=r;return a!=null&&typeof a.text=="string"&&a.range!==void 0&&(a.rangeLength===void 0||typeof a.rangeLength=="number")}e.isIncremental=t;function n(r){let a=r;return a!=null&&typeof a.text=="string"&&a.range===void 0&&a.rangeLength===void 0}e.isFull=n})(Iu=s.TextDocumentContentChangeEvent||(s.TextDocumentContentChangeEvent={}));var Lu;(function(e){e.method="textDocument/didChange",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolNotificationType(e.method)})(Lu=s.DidChangeTextDocumentNotification||(s.DidChangeTextDocumentNotification={}));var Au;(function(e){e.method="textDocument/didClose",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolNotificationType(e.method)})(Au=s.DidCloseTextDocumentNotification||(s.DidCloseTextDocumentNotification={}));var Fu;(function(e){e.method="textDocument/didSave",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolNotificationType(e.method)})(Fu=s.DidSaveTextDocumentNotification||(s.DidSaveTextDocumentNotification={}));var Hu;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(Hu=s.TextDocumentSaveReason||(s.TextDocumentSaveReason={}));var Wu;(function(e){e.method="textDocument/willSave",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolNotificationType(e.method)})(Wu=s.WillSaveTextDocumentNotification||(s.WillSaveTextDocumentNotification={}));var zu;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(zu=s.WillSaveTextDocumentWaitUntilRequest||(s.WillSaveTextDocumentWaitUntilRequest={}));var $u;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolNotificationType(e.method)})($u=s.DidChangeWatchedFilesNotification||(s.DidChangeWatchedFilesNotification={}));var Bu;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(Bu=s.FileChangeType||(s.FileChangeType={}));var Uu;(function(e){function t(n){let r=n;return _e.objectLiteral(r)&&(ps.URI.is(r.baseUri)||ps.WorkspaceFolder.is(r.baseUri))&&_e.string(r.pattern)}e.is=t})(Uu=s.RelativePattern||(s.RelativePattern={}));var Vu;(function(e){e.Create=1,e.Change=2,e.Delete=4})(Vu=s.WatchKind||(s.WatchKind={}));var Gu;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=T.MessageDirection.serverToClient,e.type=new T.ProtocolNotificationType(e.method)})(Gu=s.PublishDiagnosticsNotification||(s.PublishDiagnosticsNotification={}));var Ju;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(Ju=s.CompletionTriggerKind||(s.CompletionTriggerKind={}));var Ku;(function(e){e.method="textDocument/completion",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(Ku=s.CompletionRequest||(s.CompletionRequest={}));var Xu;(function(e){e.method="completionItem/resolve",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(Xu=s.CompletionResolveRequest||(s.CompletionResolveRequest={}));var Qu;(function(e){e.method="textDocument/hover",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(Qu=s.HoverRequest||(s.HoverRequest={}));var Yu;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(Yu=s.SignatureHelpTriggerKind||(s.SignatureHelpTriggerKind={}));var Zu;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(Zu=s.SignatureHelpRequest||(s.SignatureHelpRequest={}));var el;(function(e){e.method="textDocument/definition",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(el=s.DefinitionRequest||(s.DefinitionRequest={}));var tl;(function(e){e.method="textDocument/references",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(tl=s.ReferencesRequest||(s.ReferencesRequest={}));var nl;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(nl=s.DocumentHighlightRequest||(s.DocumentHighlightRequest={}));var rl;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(rl=s.DocumentSymbolRequest||(s.DocumentSymbolRequest={}));var il;(function(e){e.method="textDocument/codeAction",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(il=s.CodeActionRequest||(s.CodeActionRequest={}));var ol;(function(e){e.method="codeAction/resolve",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(ol=s.CodeActionResolveRequest||(s.CodeActionResolveRequest={}));var sl;(function(e){e.method="workspace/symbol",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(sl=s.WorkspaceSymbolRequest||(s.WorkspaceSymbolRequest={}));var al;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(al=s.WorkspaceSymbolResolveRequest||(s.WorkspaceSymbolResolveRequest={}));var cl;(function(e){e.method="textDocument/codeLens",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(cl=s.CodeLensRequest||(s.CodeLensRequest={}));var ul;(function(e){e.method="codeLens/resolve",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(ul=s.CodeLensResolveRequest||(s.CodeLensResolveRequest={}));var ll;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=T.MessageDirection.serverToClient,e.type=new T.ProtocolRequestType0(e.method)})(ll=s.CodeLensRefreshRequest||(s.CodeLensRefreshRequest={}));var dl;(function(e){e.method="textDocument/documentLink",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(dl=s.DocumentLinkRequest||(s.DocumentLinkRequest={}));var fl;(function(e){e.method="documentLink/resolve",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(fl=s.DocumentLinkResolveRequest||(s.DocumentLinkResolveRequest={}));var hl;(function(e){e.method="textDocument/formatting",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(hl=s.DocumentFormattingRequest||(s.DocumentFormattingRequest={}));var ml;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(ml=s.DocumentRangeFormattingRequest||(s.DocumentRangeFormattingRequest={}));var pl;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(pl=s.DocumentOnTypeFormattingRequest||(s.DocumentOnTypeFormattingRequest={}));var gl;(function(e){e.Identifier=1})(gl=s.PrepareSupportDefaultBehavior||(s.PrepareSupportDefaultBehavior={}));var yl;(function(e){e.method="textDocument/rename",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(yl=s.RenameRequest||(s.RenameRequest={}));var vl;(function(e){e.method="textDocument/prepareRename",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(vl=s.PrepareRenameRequest||(s.PrepareRenameRequest={}));var bl;(function(e){e.method="workspace/executeCommand",e.messageDirection=T.MessageDirection.clientToServer,e.type=new T.ProtocolRequestType(e.method)})(bl=s.ExecuteCommandRequest||(s.ExecuteCommandRequest={}));var _l;(function(e){e.method="workspace/applyEdit",e.messageDirection=T.MessageDirection.serverToClient,e.type=new T.ProtocolRequestType("workspace/applyEdit")})(_l=s.ApplyWorkspaceEditRequest||(s.ApplyWorkspaceEditRequest={}))});var Ps=O(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.createProtocolConnection=void 0;var Ds=Dt();function wl(e,t,n,r){return Ds.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,Ds.createMessageConnection)(e,t,n,r)}Un.createProtocolConnection=wl});var ks=O(ke=>{"use strict";var Tl=ke&&ke.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Vn=ke&&ke.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Tl(t,e,n)};Object.defineProperty(ke,"__esModule",{value:!0});ke.LSPErrorCodes=ke.createProtocolConnection=void 0;Vn(Dt(),ke);Vn(An(),ke);Vn(ae(),ke);Vn(Rs(),ke);var Rl=Ps();Object.defineProperty(ke,"createProtocolConnection",{enumerable:!0,get:function(){return Rl.createProtocolConnection}});var Dl;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(Dl=ke.LSPErrorCodes||(ke.LSPErrorCodes={}))});var ht=O(Je=>{"use strict";var Pl=Je&&Je.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Cs=Je&&Je.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Pl(t,e,n)};Object.defineProperty(Je,"__esModule",{value:!0});Je.createProtocolConnection=void 0;var kl=Ri();Cs(Ri(),Je);Cs(ks(),Je);function Cl(e,t,n,r){return(0,kl.createMessageConnection)(e,t,n,r)}Je.createProtocolConnection=Cl});var ji=O(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});function ql(e){return e===!0||e===!1}ze.boolean=ql;function qs(e){return typeof e=="string"||e instanceof String}ze.string=qs;function Sl(e){return typeof e=="number"||e instanceof Number}ze.number=Sl;function xl(e){return e instanceof Error}ze.error=xl;function Ss(e){return typeof e=="function"}ze.func=Ss;function xs(e){return Array.isArray(e)}ze.array=xs;function El(e){return xs(e)&&e.every(t=>qs(t))}ze.stringArray=El;function Ol(e,t){return Array.isArray(e)&&e.every(t)}ze.typedArray=Ol;function Ml(e){return e&&Ss(e.then)}ze.thenable=Ml});var Es=O(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});var Nl=ht(),jl=ji();Ii.ConfigurationFeature=e=>class extends e{getConfiguration(t){return t?jl.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let n={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(Nl.ConfigurationRequest.type,n).then(r=>Array.isArray(t)?r:r[0])}}});var Os=O(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});var Gn=ht();Li.WorkspaceFoldersFeature=e=>class extends e{initialize(t){let n=t.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Gn.Emitter,this.connection.onNotification(Gn.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(Gn.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(Gn.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}}});var Ai=O(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var pn=class{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},H=class extends pn{constructor(){super([H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),"-",H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),"-","4",H._randomHex(),H._randomHex(),H._randomHex(),"-",H._oneOf(H._timeHighBits),H._randomHex(),H._randomHex(),H._randomHex(),"-",H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex()].join(""))}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return H._oneOf(H._chars)}};H._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];H._timeHighBits=["8","9","a","b"];kt.empty=new pn("00000000-0000-0000-0000-000000000000");function Ms(){return new H}kt.v4=Ms;var Il=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Ns(e){return Il.test(e)}kt.isUUID=Ns;function Ll(e){if(!Ns(e))throw new Error("invalid uuid");return new pn(e)}kt.parse=Ll;function Al(){return Ms().asHex()}kt.generateUuid=Al});var js=O(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});var mt=ht(),Fl=Ai(),Ke=class{constructor(t,n){this._connection=t,this._token=n,Ke.Instances.set(this._token,this),this._source=new mt.CancellationTokenSource}get token(){return this._source.token}begin(t,n,r,a){let f={kind:"begin",title:t,percentage:n,message:r,cancellable:a};this._connection.sendProgress(mt.WorkDoneProgress.type,this._token,f)}report(t,n){let r={kind:"report"};typeof t=="number"?(r.percentage=t,n!==void 0&&(r.message=n)):r.message=t,this._connection.sendProgress(mt.WorkDoneProgress.type,this._token,r)}done(){Ke.Instances.delete(this._token),this._source.dispose(),this._connection.sendProgress(mt.WorkDoneProgress.type,this._token,{kind:"end"})}cancel(){this._source.cancel()}};Ke.Instances=new Map;var gn=class{constructor(){this._source=new mt.CancellationTokenSource}get token(){return this._source.token}begin(){}report(){}done(){}};function Hl(e,t){if(t===void 0||t.workDoneToken===void 0)return new gn;let n=t.workDoneToken;return delete t.workDoneToken,new Ke(e,n)}yn.attachWorkDone=Hl;yn.ProgressFeature=e=>class extends e{initialize(t){var n;((n=t?.window)===null||n===void 0?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(mt.WorkDoneProgressCancelNotification.type,r=>{let a=Ke.Instances.get(r.token);a!==void 0&&a.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new gn:new Ke(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=Fl.generateUuid();return this.connection.sendRequest(mt.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new Ke(this.connection,t))}else return Promise.resolve(new gn)}};var Fi;(function(e){e.type=new mt.ProgressType})(Fi||(Fi={}));var Hi=class{constructor(t,n){this._connection=t,this._token=n}report(t){this._connection.sendProgress(Fi.type,this._token,t)}};function Wl(e,t){if(t===void 0||t.partialResultToken===void 0)return;let n=t.partialResultToken;return delete t.partialResultToken,new Hi(e,n)}yn.attachPartialResult=Wl});var Ls=O(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});var zl=require("url"),$e=require("path"),Wi=require("fs"),Bi=require("child_process");function $l(e){let t=zl.parse(e);if(t.protocol!=="file:"||!t.path)return;let n=t.path.split("/");for(var r=0,a=n.length;r<a;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let f=n[0],v=n[1];f.length===0&&v.length>1&&v[1]===":"&&n.shift()}return $e.normalize(n.join("/"))}ot.uriToFilePath=$l;function zi(){return process.platform==="win32"}function Jn(e,t,n,r){let a="NODE_PATH",f=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((v,h)=>{let C=process.env,D=Object.create(null);Object.keys(C).forEach(q=>D[q]=C[q]),t&&Wi.existsSync(t)&&(D[a]?D[a]=t+$e.delimiter+D[a]:D[a]=t,r&&r(`NODE_PATH value is: ${D[a]}`)),D.ELECTRON_RUN_AS_NODE="1";try{let q=Bi.fork("",[],{cwd:n,env:D,execArgv:["-e",f]});if(q.pid===void 0){h(new Error(`Starting process to resolve node module  ${e} failed`));return}q.on("error",x=>{h(x)}),q.on("message",x=>{x.c==="r"&&(q.send({c:"e"}),x.s?v(x.r):h(new Error(`Failed to resolve module: ${e}`)))});let N={c:"rs",a:e};q.send(N)}catch(q){h(q)}})}ot.resolve=Jn;function $i(e){let t="npm",n=Object.create(null);Object.keys(process.env).forEach(f=>n[f]=process.env[f]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};zi()&&(t="npm.cmd",r.shell=!0);let a=()=>{};try{process.on("SIGPIPE",a);let f=Bi.spawnSync(t,["config","get","prefix"],r).stdout;if(!f){e&&e("'npm config get prefix' didn't return a value.");return}let v=f.trim();return e&&e(`'npm config get prefix' value is: ${v}`),v.length>0?zi()?$e.join(v,"node_modules"):$e.join(v,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",a)}}ot.resolveGlobalNodePath=$i;function Bl(e){let t="yarn",n={encoding:"utf8"};zi()&&(t="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let a=Bi.spawnSync(t,["global","dir","--json"],n),f=a.stdout;if(!f){e&&(e("'yarn global dir' didn't return a value."),a.stderr&&e(a.stderr));return}let v=f.trim().split(/\r?\n/);for(let h of v)try{let C=JSON.parse(h);if(C.type==="log")return $e.join(C.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}ot.resolveGlobalYarnPath=Bl;var Is;(function(e){let t;function n(){return t!==void 0||(process.platform==="win32"?t=!1:t=!Wi.existsSync(__filename.toUpperCase())||!Wi.existsSync(__filename.toLowerCase())),t}e.isCaseSensitive=n;function r(a,f){return n()?$e.normalize(f).indexOf($e.normalize(a))===0:$e.normalize(f).toLowerCase().indexOf($e.normalize(a).toLowerCase())===0}e.isParent=r})(Is=ot.FileSystem||(ot.FileSystem={}));function Ul(e,t,n,r){return n?($e.isAbsolute(n)||(n=$e.join(e,n)),Jn(t,n,n,r).then(a=>Is.isParent(n,a)?a:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,a=>Jn(t,$i(r),e,r))):Jn(t,$i(r),e,r)}ot.resolveModulePath=Ul});var As=O(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});var Ui=ht();Vi.CallHierarchyFeature=e=>class extends e{get callHierarchy(){return{onPrepare:t=>{this.connection.onRequest(Ui.Proposed.CallHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0))},onIncomingCalls:t=>{let n=Ui.Proposed.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(n,(r,a)=>t(r,a,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:t=>{let n=Ui.Proposed.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(n,(r,a)=>t(r,a,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}}});var Fs=O(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});var Gi=ht();Kn.SemanticTokensFeature=e=>class extends e{get semanticTokens(){return{on:t=>{let n=Gi.Proposed.SemanticTokensRequest.type;this.connection.onRequest(n,(r,a)=>t(r,a,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onEdits:t=>{let n=Gi.Proposed.SemanticTokensEditsRequest.type;this.connection.onRequest(n,(r,a)=>t(r,a,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:t=>{let n=Gi.Proposed.SemanticTokensRangeRequest.type;this.connection.onRequest(n,(r,a)=>t(r,a,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};var Ji=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,n,r,a,f){let v=t,h=n;this._dataLen>0&&(v-=this._prevLine,v===0&&(h-=this._prevChar)),this._data[this._dataLen++]=v,this._data[this._dataLen++]=h,this._data[this._dataLen++]=r,this._data[this._dataLen++]=a,this._data[this._dataLen++]=f,this._prevLine=t,this._prevChar=n}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let t=this._prevData.length,n=this._data.length,r=0;for(;r<n&&r<t&&this._prevData[r]===this._data[r];)r++;if(r<n&&r<t){let a=0;for(;a<n&&a<t&&this._prevData[t-1-a]===this._data[n-1-a];)a++;let f=this._data.slice(r,n-a);return{resultId:this.id,edits:[{start:r,deleteCount:t-a-r,data:f}]}}else return r<n?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<t?{resultId:this.id,edits:[{start:r,deleteCount:t-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};Kn.SemanticTokensBuilder=Ji});var to=O(re=>{"use strict";function Vl(e){for(var t in e)re.hasOwnProperty(t)||(re[t]=e[t])}Object.defineProperty(re,"__esModule",{value:!0});var R=ht();re.Event=R.Event;var Gl=Es(),Jl=Os(),A=js(),Ce=ji(),Xi=Ai();Vl(ht());var vn=Ls(),Kl;(function(e){e.uriToFilePath=vn.uriToFilePath,e.resolveGlobalNodePath=vn.resolveGlobalNodePath,e.resolveGlobalYarnPath=vn.resolveGlobalYarnPath,e.resolve=vn.resolve,e.resolveModulePath=vn.resolveModulePath})(Kl=re.Files||(re.Files={}));var Ut=!1,$s;function Xl(){let e="--clientProcessId";function t(n){try{let r=parseInt(n);isNaN(r)||($s=setInterval(()=>{try{process.kill(r,0)}catch{process.exit(Ut?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===e&&n+1<process.argv.length){t(process.argv[n+1]);return}else{let a=r.split("=");a[0]===e&&t(a[1])}}}Xl();function Ki(e){if(e!==null)return e}var Qi=class{constructor(t){this._documents=Object.create(null),this._configuration=t,this._onDidChangeContent=new R.Emitter,this._onDidOpen=new R.Emitter,this._onDidClose=new R.Emitter,this._onDidSave=new R.Emitter,this._onWillSave=new R.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._documents[t]}all(){return Object.keys(this._documents).map(t=>this._documents[t])}keys(){return Object.keys(this._documents)}listen(t){t.__textDocumentSync=R.TextDocumentSyncKind.Full,t.onDidOpenTextDocument(n=>{let r=n.textDocument,a=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=a;let f=Object.freeze({document:a});this._onDidOpen.fire(f),this._onDidChangeContent.fire(f)}),t.onDidChangeTextDocument(n=>{let r=n.textDocument,a=n.contentChanges;if(a.length===0)return;let f=this._documents[r.uri],{version:v}=r;if(v==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);f=this._configuration.update(f,a,v),this._documents[r.uri]=f,this._onDidChangeContent.fire(Object.freeze({document:f}))}),t.onDidCloseTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&(delete this._documents[n.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),t.onWillSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:n.reason}))}),t.onWillSaveTextDocumentWaitUntil((n,r)=>{let a=this._documents[n.textDocument.uri];return a&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:a,reason:n.reason}),r):[]}),t.onDidSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};re.TextDocuments=Qi;var Yi=class{constructor(){this._messages=Object.create(null)}add(t){let n=this._messages[t];n||(n=0),n++,this._messages[t]=n}sendErrors(t){Object.keys(this._messages).forEach(n=>{t.window.showErrorMessage(n)})}};re.ErrorMessageTracker=Yi;var Xn=class{constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(R.MessageType.Error,t)}warn(t){this.send(R.MessageType.Warning,t)}info(t){this.send(R.MessageType.Info,t)}log(t){this.send(R.MessageType.Log,t)}send(t,n){this._rawConnection&&this._rawConnection.sendNotification(R.LogMessageNotification.type,{type:t,message:n})}},Zi=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...n){let r={type:R.MessageType.Error,message:t,actions:n};return this._connection.sendRequest(R.ShowMessageRequest.type,r).then(Ki)}showWarningMessage(t,...n){let r={type:R.MessageType.Warning,message:t,actions:n};return this._connection.sendRequest(R.ShowMessageRequest.type,r).then(Ki)}showInformationMessage(t,...n){let r={type:R.MessageType.Info,message:t,actions:n};return this._connection.sendRequest(R.ShowMessageRequest.type,r).then(Ki)}},Hs=A.ProgressFeature(Zi),Ql;(function(e){function t(){return new Qn}e.create=t})(Ql=re.BulkRegistration||(re.BulkRegistration={}));var Qn=class{constructor(){this._registrations=[],this._registered=new Set}add(t,n){let r=Ce.string(t)?t:t.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let a=Xi.generateUuid();this._registrations.push({id:a,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},Yl;(function(e){function t(){return new bn(void 0,[])}e.create=t})(Yl=re.BulkUnregistration||(re.BulkUnregistration={}));var bn=class{constructor(t,n){this._connection=t,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let r of this._unregistrations.values())t.push(r);let n={unregisterations:t};this._connection.sendRequest(R.UnregistrationRequest.type,n).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let n=Ce.string(t)?t:t.method,r=this._unregistrations.get(n);if(!r)return!1;let a={unregisterations:[r]};return this._connection.sendRequest(R.UnregistrationRequest.type,a).then(()=>{this._unregistrations.delete(n)},f=>{this._connection.console.info(`Unregistering request handler for ${r.id} failed.`)}),!0}},Yn=class{attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,n,r){return t instanceof Qn?this.registerMany(t):t instanceof bn?this.registerSingle1(t,n,r):this.registerSingle2(t,n)}registerSingle1(t,n,r){let a=Ce.string(n)?n:n.method,f=Xi.generateUuid(),v={registrations:[{id:f,method:a,registerOptions:r||{}}]};return t.isAttached||t.attach(this._connection),this._connection.sendRequest(R.RegistrationRequest.type,v).then(h=>(t.add({id:f,method:a}),t),h=>(this.connection.console.info(`Registering request handler for ${a} failed.`),Promise.reject(h)))}registerSingle2(t,n){let r=Ce.string(t)?t:t.method,a=Xi.generateUuid(),f={registrations:[{id:a,method:r,registerOptions:n||{}}]};return this._connection.sendRequest(R.RegistrationRequest.type,f).then(v=>R.Disposable.create(()=>{this.unregisterSingle(a,r)}),v=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(v)))}unregisterSingle(t,n){let r={unregisterations:[{id:t,method:n}]};return this._connection.sendRequest(R.UnregistrationRequest.type,r).then(void 0,a=>{this.connection.console.info(`Unregistering request handler for ${t} failed.`)})}registerMany(t){let n=t.asRegistrationParams();return this._connection.sendRequest(R.RegistrationRequest.type,n).then(()=>new bn(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},eo=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function n(a){return a&&!!a.edit}let r=n(t)?t:{edit:t};return this._connection.sendRequest(R.ApplyWorkspaceEditRequest.type,r)}},Ws=Jl.WorkspaceFoldersFeature(Gl.ConfigurationFeature(eo)),Zn=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this._connection.sendNotification(R.TelemetryEventNotification.type,t)}},er=class{constructor(){this._trace=R.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,n){this._trace!==R.Trace.Off&&this._connection.sendNotification(R.LogTraceNotification.type,{message:t,verbose:this._trace===R.Trace.Verbose?n:void 0})}},_n=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return A.attachWorkDone(this.connection,t)}attachPartialResultProgress(t,n){return A.attachPartialResult(this.connection,n)}};re.LanguagesImpl=_n;function Bs(e,t){return function(n){return t(e(n))}}re.combineConsoleFeatures=Bs;function Us(e,t){return function(n){return t(e(n))}}re.combineTelemetryFeatures=Us;function Vs(e,t){return function(n){return t(e(n))}}re.combineTracerFeatures=Vs;function Gs(e,t){return function(n){return t(e(n))}}re.combineClientFeatures=Gs;function Js(e,t){return function(n){return t(e(n))}}re.combineWindowFeatures=Js;function Ks(e,t){return function(n){return t(e(n))}}re.combineWorkspaceFeatures=Ks;function Xs(e,t){return function(n){return t(e(n))}}re.combineLanguagesFeatures=Xs;function Zl(e,t){function n(a,f,v){return a&&f?v(a,f):a||f}return{__brand:"features",console:n(e.console,t.console,Bs),tracer:n(e.tracer,t.tracer,Vs),telemetry:n(e.telemetry,t.telemetry,Us),client:n(e.client,t.client,Gs),window:n(e.window,t.window,Js),workspace:n(e.workspace,t.workspace,Ks)}}re.combineFeatures=Zl;function ed(e,t,n,r){let a,f,v,h;return e!==void 0&&e.__brand==="features"&&(a=e,e=t,t=n,n=r),R.ConnectionStrategy.is(e)?h=e:(f=e,v=t,h=n),td(f,v,h,a)}re.createConnection=ed;function td(e,t,n,r){if(!e&&!t&&process.argv.length>2){let g,y,P=process.argv.slice(2);for(let F=0;F<P.length;F++){let ue=P[F];if(ue==="--node-ipc"){e=new R.IPCMessageReader(process),t=new R.IPCMessageWriter(process);break}else if(ue==="--stdio"){e=process.stdin,t=process.stdout;break}else if(ue==="--socket"){g=parseInt(P[F+1]);break}else if(ue==="--pipe"){y=P[F+1];break}else{var a=ue.split("=");if(a[0]==="--socket"){g=parseInt(a[1]);break}else if(a[0]==="--pipe"){y=a[1];break}}}if(g){let F=R.createServerSocketTransport(g);e=F[0],t=F[1]}else if(y){let F=R.createServerPipeTransport(y);e=F[0],t=F[1]}}var f="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+f);if(!t)throw new Error("Connection output stream is not set. "+f);if(Ce.func(e.read)&&Ce.func(e.on)){let g=e;g.on("end",()=>{process.exit(Ut?0:1)}),g.on("close",()=>{process.exit(Ut?0:1)})}let v=r&&r.console?new(r.console(Xn)):new Xn,h=R.createProtocolConnection(e,t,v,n);v.rawAttach(h);let C=r&&r.tracer?new(r.tracer(er)):new er,D=r&&r.telemetry?new(r.telemetry(Zn)):new Zn,q=r&&r.client?new(r.client(Yn)):new Yn,N=r&&r.window?new(r.window(Hs)):new Hs,x=r&&r.workspace?new(r.workspace(Ws)):new Ws,B=r&&r.languages?new(r.languages(_n)):new _n,J=[v,C,D,q,N,x,B];function X(g){return g instanceof Promise?g:Ce.thenable(g)?new Promise((y,P)=>{g.then(F=>y(F),F=>P(F))}):Promise.resolve(g)}let ie,oe,V,I={listen:()=>h.listen(),sendRequest:(g,...y)=>h.sendRequest(Ce.string(g)?g:g.method,...y),onRequest:(g,y)=>h.onRequest(g,y),sendNotification:(g,y)=>{let P=Ce.string(g)?g:g.method;arguments.length===1?h.sendNotification(P):h.sendNotification(P,y)},onNotification:(g,y)=>h.onNotification(g,y),onProgress:h.onProgress,sendProgress:h.sendProgress,onInitialize:g=>oe=g,onInitialized:g=>h.onNotification(R.InitializedNotification.type,g),onShutdown:g=>ie=g,onExit:g=>V=g,get console(){return v},get telemetry(){return D},get tracer(){return C},get client(){return q},get window(){return N},get workspace(){return x},get languages(){return B},onDidChangeConfiguration:g=>h.onNotification(R.DidChangeConfigurationNotification.type,g),onDidChangeWatchedFiles:g=>h.onNotification(R.DidChangeWatchedFilesNotification.type,g),__textDocumentSync:void 0,onDidOpenTextDocument:g=>h.onNotification(R.DidOpenTextDocumentNotification.type,g),onDidChangeTextDocument:g=>h.onNotification(R.DidChangeTextDocumentNotification.type,g),onDidCloseTextDocument:g=>h.onNotification(R.DidCloseTextDocumentNotification.type,g),onWillSaveTextDocument:g=>h.onNotification(R.WillSaveTextDocumentNotification.type,g),onWillSaveTextDocumentWaitUntil:g=>h.onRequest(R.WillSaveTextDocumentWaitUntilRequest.type,g),onDidSaveTextDocument:g=>h.onNotification(R.DidSaveTextDocumentNotification.type,g),sendDiagnostics:g=>h.sendNotification(R.PublishDiagnosticsNotification.type,g),onHover:g=>h.onRequest(R.HoverRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),void 0)),onCompletion:g=>h.onRequest(R.CompletionRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),A.attachPartialResult(h,y))),onCompletionResolve:g=>h.onRequest(R.CompletionResolveRequest.type,g),onSignatureHelp:g=>h.onRequest(R.SignatureHelpRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),void 0)),onDeclaration:g=>h.onRequest(R.DeclarationRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),A.attachPartialResult(h,y))),onDefinition:g=>h.onRequest(R.DefinitionRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),A.attachPartialResult(h,y))),onTypeDefinition:g=>h.onRequest(R.TypeDefinitionRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),A.attachPartialResult(h,y))),onImplementation:g=>h.onRequest(R.ImplementationRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),A.attachPartialResult(h,y))),onReferences:g=>h.onRequest(R.ReferencesRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),A.attachPartialResult(h,y))),onDocumentHighlight:g=>h.onRequest(R.DocumentHighlightRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),A.attachPartialResult(h,y))),onDocumentSymbol:g=>h.onRequest(R.DocumentSymbolRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),A.attachPartialResult(h,y))),onWorkspaceSymbol:g=>h.onRequest(R.WorkspaceSymbolRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),A.attachPartialResult(h,y))),onCodeAction:g=>h.onRequest(R.CodeActionRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),A.attachPartialResult(h,y))),onCodeLens:g=>h.onRequest(R.CodeLensRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),A.attachPartialResult(h,y))),onCodeLensResolve:g=>h.onRequest(R.CodeLensResolveRequest.type,(y,P)=>g(y,P)),onDocumentFormatting:g=>h.onRequest(R.DocumentFormattingRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),void 0)),onDocumentRangeFormatting:g=>h.onRequest(R.DocumentRangeFormattingRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),void 0)),onDocumentOnTypeFormatting:g=>h.onRequest(R.DocumentOnTypeFormattingRequest.type,(y,P)=>g(y,P)),onRenameRequest:g=>h.onRequest(R.RenameRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),void 0)),onPrepareRename:g=>h.onRequest(R.PrepareRenameRequest.type,(y,P)=>g(y,P)),onDocumentLinks:g=>h.onRequest(R.DocumentLinkRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),A.attachPartialResult(h,y))),onDocumentLinkResolve:g=>h.onRequest(R.DocumentLinkResolveRequest.type,(y,P)=>g(y,P)),onDocumentColor:g=>h.onRequest(R.DocumentColorRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),A.attachPartialResult(h,y))),onColorPresentation:g=>h.onRequest(R.ColorPresentationRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),A.attachPartialResult(h,y))),onFoldingRanges:g=>h.onRequest(R.FoldingRangeRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),A.attachPartialResult(h,y))),onSelectionRanges:g=>h.onRequest(R.SelectionRangeRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),A.attachPartialResult(h,y))),onExecuteCommand:g=>h.onRequest(R.ExecuteCommandRequest.type,(y,P)=>g(y,P,A.attachWorkDone(h,y),void 0)),dispose:()=>h.dispose()};for(let g of J)g.attach(I);return h.onRequest(R.InitializeRequest.type,g=>{let y=g.processId;Ce.number(y)&&$s===void 0&&setInterval(()=>{try{process.kill(y,0)}catch{process.exit(Ut?0:1)}},3e3),Ce.string(g.trace)&&(C.trace=R.Trace.fromString(g.trace));for(let P of J)P.initialize(g.capabilities);if(oe){let P=oe(g,new R.CancellationTokenSource().token,A.attachWorkDone(h,g),void 0);return X(P).then(F=>{if(F instanceof R.ResponseError)return F;let ue=F;ue||(ue={capabilities:{}});let ve=ue.capabilities;ve||(ve={},ue.capabilities=ve),ve.textDocumentSync===void 0||ve.textDocumentSync===null?ve.textDocumentSync=Ce.number(I.__textDocumentSync)?I.__textDocumentSync:R.TextDocumentSyncKind.None:!Ce.number(ve.textDocumentSync)&&!Ce.number(ve.textDocumentSync.change)&&(ve.textDocumentSync.change=Ce.number(I.__textDocumentSync)?I.__textDocumentSync:R.TextDocumentSyncKind.None);for(let Xe of J)Xe.fillServerCapabilities(ve);return ue})}else{let P={capabilities:{textDocumentSync:R.TextDocumentSyncKind.None}};for(let F of J)F.fillServerCapabilities(P.capabilities);return P}}),h.onRequest(R.ShutdownRequest.type,()=>{if(Ut=!0,ie)return ie(new R.CancellationTokenSource().token)}),h.onNotification(R.ExitNotification.type,()=>{try{V&&V()}finally{Ut?process.exit(0):process.exit(1)}}),h.onNotification(R.SetTraceNotification.type,g=>{C.trace=R.Trace.fromString(g.value)}),I}var nd=As(),zs=Fs(),rd;(function(e){e.all={__brand:"features",languages:Xs(nd.CallHierarchyFeature,zs.SemanticTokensFeature)},e.SemanticTokensBuilder=zs.SemanticTokensBuilder})(rd=re.ProposedFeatures||(re.ProposedFeatures={}))});var Ys=O((Qs,tr)=>{(function(e){if(typeof tr=="object"&&typeof tr.exports=="object"){var t=e(require,Qs);t!==void 0&&(tr.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=void 0;class n{constructor(D,q,N,x){this._uri=D,this._languageId=q,this._version=N,this._content=x,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(D){if(D){let q=this.offsetAt(D.start),N=this.offsetAt(D.end);return this._content.substring(q,N)}return this._content}update(D,q){for(let N of D)if(n.isIncremental(N)){let x=v(N.range),B=this.offsetAt(x.start),J=this.offsetAt(x.end);this._content=this._content.substring(0,B)+N.text+this._content.substring(J,this._content.length);let X=Math.max(x.start.line,0),ie=Math.max(x.end.line,0),oe=this._lineOffsets,V=f(N.text,!1,B);if(ie-X===V.length)for(let g=0,y=V.length;g<y;g++)oe[g+X+1]=V[g];else V.length<1e4?oe.splice(X+1,ie-X,...V):this._lineOffsets=oe=oe.slice(0,X+1).concat(V,oe.slice(ie+1));let I=N.text.length-(J-B);if(I!==0)for(let g=X+1+V.length,y=oe.length;g<y;g++)oe[g]=oe[g]+I}else if(n.isFull(N))this._content=N.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=q}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=f(this._content,!0)),this._lineOffsets}positionAt(D){D=Math.max(Math.min(D,this._content.length),0);let q=this.getLineOffsets(),N=0,x=q.length;if(x===0)return{line:0,character:D};for(;N<x;){let J=Math.floor((N+x)/2);q[J]>D?x=J:N=J+1}let B=N-1;return{line:B,character:D-q[B]}}offsetAt(D){let q=this.getLineOffsets();if(D.line>=q.length)return this._content.length;if(D.line<0)return 0;let N=q[D.line],x=D.line+1<q.length?q[D.line+1]:this._content.length;return Math.max(Math.min(N+D.character,x),N)}get lineCount(){return this.getLineOffsets().length}static isIncremental(D){let q=D;return q!=null&&typeof q.text=="string"&&q.range!==void 0&&(q.rangeLength===void 0||typeof q.rangeLength=="number")}static isFull(D){let q=D;return q!=null&&typeof q.text=="string"&&q.range===void 0&&q.rangeLength===void 0}}var r;(function(C){function D(x,B,J,X){return new n(x,B,J,X)}C.create=D;function q(x,B,J){if(x instanceof n)return x.update(B,J),x;throw new Error("TextDocument.update: document must be created by TextDocument.create")}C.update=q;function N(x,B){let J=x.getText(),X=a(B.map(h),(V,I)=>{let g=V.range.start.line-I.range.start.line;return g===0?V.range.start.character-I.range.start.character:g}),ie=0,oe=[];for(let V of X){let I=x.offsetAt(V.range.start);if(I<ie)throw new Error("Overlapping edit");I>ie&&oe.push(J.substring(ie,I)),V.newText.length&&oe.push(V.newText),ie=x.offsetAt(V.range.end)}return oe.push(J.substr(ie)),oe.join("")}C.applyEdits=N})(r=t.TextDocument||(t.TextDocument={}));function a(C,D){if(C.length<=1)return C;let q=C.length/2|0,N=C.slice(0,q),x=C.slice(q);a(N,D),a(x,D);let B=0,J=0,X=0;for(;B<N.length&&J<x.length;)D(N[B],x[J])<=0?C[X++]=N[B++]:C[X++]=x[J++];for(;B<N.length;)C[X++]=N[B++];for(;J<x.length;)C[X++]=x[J++];return C}function f(C,D,q=0){let N=D?[q]:[];for(let x=0;x<C.length;x++){let B=C.charCodeAt(x);(B===13||B===10)&&(B===13&&x+1<C.length&&C.charCodeAt(x+1)===10&&x++,N.push(q+x+1))}return N}function v(C){let D=C.start,q=C.end;return D.line>q.line||D.line===q.line&&D.character>q.character?{start:q,end:D}:C}function h(C){let D=v(C.range);return D!==C.range?{newText:C.newText,range:D}:C}})});var qe=yr(to()),ra=yr(Ys());var Zs={root:"Sets the root path of the site, used by various matchers and directives that access the file system.  If unset, the default site root is the current working directory.\n\nSpecifically, this directive sets the `{http.vars.root}` placeholder.  It is mutually exclusive to other `root` directives in the same block, so it is safe to define multiple roots with matchers that intersect: they will not cascade and overwrite each other.\n\nThis directive does not automatically enable serving static files, so it is often used in conjunction with the [`file_server` directive](https://caddyserver.com/docs/caddyfile/directives/file_server) or the [`php_fastcgi` directive](https://caddyserver.com/docs/caddyfile/directives/php_fastcgi).\n\n---\n\n```caddyfile\nroot [<matcher>] <path>\n```\n\n- **&lt;path&gt;** is the path to use for the site root.\n\nNote that the `<path>` argument could be confused by the parser as a [matcher token](https://caddyserver.com/docs/caddyfile/matchers#syntax) if the it begins with `/`.  To disambiguate, specify a wildcard matcher token (`*`).  See examples below.",header:`Manipulates HTTP header fields on the response.  It can set, add, and delete header values, or perform replacements using regular expressions.

By default, header operations are performed immediately unless any of the headers are being deleted, in which case the header operations are automatically deferred until the time they are being written to the client.

---

\`\`\`caddyfile
header [<matcher>] [[+|-]<field> [<value>|<find>] [<replace>]] {
	<field> <find> <replace>
	[+]<field> <value>
	-<field>
	[defer]
}
\`\`\`

- **&lt;field&gt;** is the name of the header field.  By default, will overwrite any existing field of the same name.  Prefix with \`+\` to add the field instead of replace, or prefix with \`-\` to remove the field.
- **&lt;value&gt;** is the header field value, if adding or setting a field.
- **&lt;default_value&gt;** is the header field value that will be set only if the header does not already exist.
- **&lt;find&gt;** is the substring or regular expression to search for.
- **&lt;replace&gt;** is the replacement value; required if performing a search-and-replace.
- **defer** will force the header operations to be deferred until the response is written out to the client.  This is automatically enabled if any of the header fields are being deleted.

For multiple header manipulations, you can open a block and specify one manipulation per line in the same way.`,redir:`Issues an HTTP redirect to the client.

This directive implies that a matched request is to be rejected.  It is ordered very early in the handler chain (before [\`rewrite\`](https://caddyserver.com/docs/caddyfile/directives/rewrite)).

---

\`\`\`caddyfile
redir [<matcher>] <to> [<code>]
\`\`\`

- **&lt;to&gt;** is the target location.  Becomes the response's Location header.
- **&lt;code&gt;** is the HTTP status code to use for the redirect.  Can be:
	- A positive integer in the 3xx range
	- \`temporary\` for a temporary redirect (302; default)
	- \`permanent\` for a permanent redirect (301)
	- \`html\` to use an HTML document to perform the redirect (useful for redirecting browsers but not API clients)`,rewrite:"Rewrites the request internally.  A rewrite changes some or all of the request URI.\n\nThe `rewrite` directive implies the intent to accept the request, but with modifications.  It is mutually exclusive to other `rewrite` directives in the same block, so it is safe to define rewrites that would otherwise cascade into each other; only the first matching rewrite will be executed.\n\nBecause `rewrite` essentially performs an internal redirect, the Caddyfile adapter will not fold any subsequent, adjacent handlers into the same route if their matchers happen to be exactly the same.  This allows the matchers of the next handlers to be deferred until after the rewrite.  In other words, a matcher that matches a request before the `rewrite` might not match the same request after the `rewrite`.  If you want your `rewrite` to share a route with other handlers, use the [`route`](https://caddyserver.com/docs/caddyfile/directives/route) or handle [`directives`](https://caddyserver.com/docs/caddyfile/directives/handle).\n\n---\n\n```caddyfile\nrewrite [<matcher>] <to>\n```\n\n- **&lt;to&gt;** is the URI to set on the request.  Only designated parts will be replaced.  The URI path is any substring that comes before `?`.  If `?` is omitted, then the whole token is considered to be the path.",uri:"Manipulates a request's URI.  It can strip path prefix/suffix or replace substrings on the whole URI.\n\nThis directive is distinct from [`rewrite`](https://caddyserver.com/docs/caddyfile/directives/rewrite) in that `uri` partially changes the URI, rather than setting it to something completely different as `rewrite` does.  While `rewrite` is treated specially as an internal redirect, `uri` is just another handler.\n\n---\n\n```caddyfile\nuri [<matcher>] strip_prefix|strip_suffix|replace 	<target> 	[<replacement> [<limit>]]\n```\n\n- The first (non-matcher) argument specifies the operation:\n	- **strip_prefix** strips a prefix from the path, if it has the prefix.\n	- **strip_suffix** strips a suffix from the path, if it has the suffix.\n	- **replace** performs a substring replacement across the whole URI.\n- **&lt;target&gt;** is the prefix, suffix, or search string/regular expression.  If a prefix, the leading forward slash may be omitted, since paths always start with a forward slash.\n- **&lt;replacement&gt;** is the replacement string (only valid with `replace`).\n- **&lt;limit&gt;** is an optional limit to the maximum number of replacements (only valid with `replace`).",try_files:"Rewrites the request URI path to the first of the listed files which exists in the site root.  If no files match, no rewrite is performed.\n\n---\n\n```caddyfile\ntry_files <files...>\n```\n\n- **&lt;files...&gt;** is the list of files to try.  The URI will be rewritten to the first one that exists.  To match directories, append a trailing forward slash `/` to the path.  All file paths are relative to the site [root](https://caddyserver.com/docs/caddyfile/directives/root).  Each argument may also contain a query string, in which case the query string will also be changed if it matches that particular file.",basicauth:`Enables HTTP Basic Authentication, which can be used to protect directories and files with a username and hashed password.

**Note that basic auth is not secure over plain HTTP.** Use discretion when deciding what to protect with HTTP Basic Authentication.

When a user requests a resource that is protected, the browser will prompt the user for a username and password if they have not already supplied one.  If the proper credentials are present in the Authorization header, the server will grant access to the resource.  If the header is missing or the credentials are incorrect, the server will respond with HTTP 401 Unauthorized.

Caddy configuration does not accept plaintext passwords; you MUST hash them before putting them into the configuration.  The [\`caddy hash-password\`](https://caddyserver.com/docs/command-line#caddy-hash-password) command can help with this.

---

\`\`\`caddyfile
basicauth [<matcher>] [<hash_algorithm> [<realm>]] {
	<username> <hashed_password_base64> [<salt_base64>]
	...
}
\`\`\`

- **&lt;hash_algorithm&gt;** is the name of the password hashing algorithm (or KDF) used for the hashes in this configuration.  Can be \`bcrypt\` (default) or \`scrypt\`.
- **&lt;realm&gt;** is a custom realm name.
- **&lt;username&gt;** is a username or user ID.
- **&lt;hashed_password_base64&gt;** is the base-64 encoding of the hashed password.
- **&lt;salt_base64&gt;** is the base-64 encoding of the password salt, if an external salt is required.`,request_header:`Manipulates HTTP header fields on the request.  It can set, add, and delete header values, or perform replacements using regular expressions.

---

\`\`\`caddyfile
request_header [<matcher>] [[+|-]<field> [<value>|<find>] [<replace>]]
\`\`\`

- **&lt;field&gt;** is the name of the header field.  By default, will overwrite any existing field of the same name.  Prefix with \`+\` to add the field instead of replace, or prefix with \`-\` to remove the field.
- **&lt;value&gt;** is the header field value, if adding or setting a field.
- **&lt;find&gt;** is the substring or regular expression to search for.
- **&lt;replace&gt;** is the replacement value; required if performing a search-and-replace.`,encode:`Encodes responses using the configured encoding(s).  A typical use for encoding is compression.

---

\`\`\`caddyfile
encode [<matcher>] <formats...> {
	gzip [<level>]
	zstd
}
\`\`\`

- **&lt;formats...&gt;** is the list of encoding formats to enable.
- **gzip** enables Gzip compression, optionally at the specified level.
- **zstd** enables Zstandard compression.`,templates:`Executes the response body as a [template](https://caddyserver.com/docs/modules/http.handlers.templates) document.  Templates provide functional primitives for making simple dynamic pages.  Features include HTTP subrequests, HTML file includes, Markdown rendering, JSON parsing, basic data structures, randomness, time, and more.

---

\`\`\`caddyfile
templates [<matcher>] {
	mime    <types...>
	between <open_delim> <close_delim>
	root    <path>
}
\`\`\`

- **mime** are the MIME types the templates middleware will act on; any responses that do not have a qualifying Content-Type will not be evaluated as templates.  Default: \`text/html text/plain\`.
- **between** are the opening and closing delimiters for template actions.  Default: \`{{printf "{{ }}"}}\`.  You can change them if they interfere with the rest of your document.
- **root** is the site root, when using functions that access the file system.`,handle:"Evaluates a group of directives mutually exclusively from other `handle` blocks at the same level of nesting.\n\nThe `handle` directive is kind of similar to the `location` directive from nginx config: the first matching `handle` block will be evaluated.  Handle blocks can be nested if needed.  Only HTTP handler directives can be used inside handle blocks.\n\n---\n\n```caddyfile\nhandle [<matcher>] {\n	<directives...>\n}\n```\n\n- **&lt;directives...&gt;** is a list of HTTP handler directives or directive blocks, one per line, just like would be used outside of a handle block.",handle_path:`Same as the [\`handle\` directive](https://caddyserver.com/docs/caddyfile/directives/handle), but implicitly strips the matched path prefix.

Handling a request matching a certain path (while stripping that path from the request URI) is a common enough use case that it has its own directive for convenience.

---

\`\`\`caddyfile
handle_path <path_matcher> {
	<directives...>
}
\`\`\`

- **&lt;directives...&gt;** is a list of HTTP handler directives or directive blocks, one per line, just like would be used outside of a handle_path block.

Note that only a single path matcher is accepted and required; you cannot use other kinds of matchers with handle_path.`,route:`Evaluates a group of directives literally and as a single unit.

Directives contained in a route block will not be reordered internally.  Only HTTP handler directives (directives which add handlers or middleware to the chain) can be used in a route block.

This directive is a special case in that its subdirectives are also regular directives.

---

\`\`\`caddyfile
route [<matcher>] {
	<directives...>
}
\`\`\`

- **&lt;directives...&gt;** is a list of directives or directive blocks, one per line, just like outside of a route block; except these directives will not be reordered.  Only HTTP handler directives can be used.`,respond:`Writes a hard-coded/static response to the client.

---

\`\`\`caddyfile
respond [<matcher>] <status>|<body> [<status>] {
	body <text>
	close
}
\`\`\`

- **&lt;status&gt;** is the HTTP status code to write.  Default 200.
- **&lt;body&gt;** is the response body to write.
- **body** is an alternate way to provide a body; convenient if it is multiple lines.
- **close** will close the client's connection to the server after writing the response.

To clarify, the first non-matcher argument can be either a 3-digit status code or a response body string.  If it is a body, the next argument can be the status code.`,metrics:`Configures a Prometheus metrics exposition endpoint so the gathered metrics can
be exposed for scraping.

Note that a \`/metrics\` endpoint is also attached to the [admin API](https://caddyserver.com/docs/api),
which is not configurable, and is not available when the admin API is disabled.

This endpoint will return metrics in the [Prometheus exposition format](https://prometheus.io/docs/instrumenting/exposition_formats/#text-based-format)
or, if negotiated, in the [OpenMetrics exposition format](https://pkg.go.dev/github.com/prometheus/client_golang@v1.7.1/prometheus/promhttp#HandlerOpts)
(\`application/openmetrics-text\`).

See also [Monitoring Caddy with Prometheus metrics](https://caddyserver.com/docs/metrics).

---

\`\`\`caddyfile
metrics [<matcher>]
\`\`\``,reverse_proxy:`Proxies requests to one or more backends with configurable transport, load balancing, health checking, header manipulation, and buffering options.

---

\`\`\`caddyfile
reverse_proxy [<matcher>] [<upstreams...>] {
    # backends
    to <upstreams...>
	...

    # load balancing
    lb_policy       <name> [<options...>]
    lb_try_duration <duration>
    lb_try_interval <interval>

    # active health checking
    health_path     <path>
    health_port     <port>
    health_interval <interval>
    health_timeout  <duration>
    health_status   <status>
    health_body     <regexp>

    # passive health checking
    fail_duration     <duration>
    max_fails         <num>
    unhealthy_status  <status>
    unhealthy_latency <duration>
    unhealthy_request_count <num>

    # streaming
    flush_interval <duration>

    # header manipulation
    header_up   [+|-]<field> [<value|regexp> [<replacement>]]
    header_down [+|-]<field> [<value|regexp> [<replacement>]]

    # round trip
    transport <name> {
        ...
    }
}
\`\`\`

### Upstreams

- **&lt;upstreams...&gt;** is a list of upstreams (backends) to which to proxy.
- **to** is an alternate way to specify the list of upstreams, one (or more) per line.

Upstream addresses can take the form of a conventional [Caddy network address](https://caddyserver.com/docs/conventions#network-addresses) or a URL that contains only scheme and host/port, with a special exception that the scheme may be prefixed by \`srv+\` to enable SRV DNS record lookups for load balancing.  Valid examples:

- \`localhost:4000\`
- \`127.0.0.1:4000\`
- \`http://localhost:4000\`
- \`https://example.com\`
- \`h2c://127.0.0.1\`
- \`example.com\`
- \`unix//var/php.sock\`
- \`srv+http://internal.service.consul\`
- \`srv+https://internal.service.consul\`

Note: Schemes cannot be mixed, since they modify the common transport configuration (a TLS-enabled transport cannot carry both HTTPS and plaintext HTTP).  Specifying ports 80 and 443 are the same as specifying the HTTP and HTTPS schemes, respectively.  Any explicit transport configuration will not be overwritten, and omitting schemes or using other ports will not assume a particular transport.  Additionally, schemes cannot contain paths or query strings, as that would imply simultaneous rewriting the request while proxying, which behavior is not defined or supported.  If the address is not a URL (i.e.  does not have a scheme), then placeholders can be used, but this makes the upstream dynamic.

### Load balancing

Load balancing is used whenever more than one upstream is defined.

- **lb_policy** is the name of the load balancing policy, along with any options.  Default: \`random\`.  Can be:
	- \`first\` - choose first available upstream
	- \`header\` - map request header to sticky upstream
	- \`ip_hash\` - map client IP to sticky upstream
	- \`least_conn\` - choose upstream with fewest number of current requests
	- \`random\` - randomly choose an upstream
	- \`random_choose <n>\` - selects two or more upstreams randomly, then chooses one with least load (\`n\` is usually 2)
	- \`round_robin\` - iterate each upstream in turn
	- \`uri_hash\` - map URI to sticky upstream
	- \`cookie [<name> [<secret>]]\` - based on the given cookie (default name is \`lb\` if not specified), which value is hashed; optionally with a secret for HMAC-SHA256

- **lb_try_duration** is a [duration value](https://caddyserver.com/docs/conventions#durations) that defines how long to try selecting available backends for each request if the next available host is down.  By default, this retry is disabled.  Clients will wait for up to this long while the load balancer tries to find an available upstream host.
- **lb_try_interval** is a [duration value](https://caddyserver.com/docs/conventions#durations) that defines how long to wait between selecting the next host from the pool.  Default is \`250ms\`.  Only relevant when a request to an upstream host fails.  Be aware that setting this to 0 with a non-zero \`lb_try_duration\` can cause the CPU to spin if all backends are down and latency is very low.

#### Active health checks

Active health checks perform health checking in the background on a timer:

- **health_path** is the URI path for active health checks.
- **health_port** is the port to use for active health checks, if different from the upstream's port.
- **health_interval** is a [duration value](https://caddyserver.com/docs/conventions#durations) that defines how often to perform active health checks.
- **health_timeout** is a [duration value](https://caddyserver.com/docs/conventions#durations) that defines how long to wait for a reply before marking the backend as down.
- **health_status** is the HTTP status code to expect from a healthy backend.  Can be a 3-digit status code or a status code class ending in \`xx\`, for example: \`200\` (default) or \`2xx\`.
- **health_body** is a substring or regular expression to match on the response body of an active health check.  If the backend does not return a matching body, it will be marked as down.

#### Passive health checks

Passive health checks happen inline with actual proxied requests:

- **fail_duration**  is a [duration value](https://caddyserver.com/docs/conventions#durations) that defines how long to remember a failed request.  A duration > 0 enables passive health checking.
- **max_fails** is the maximum number of failed requests within fail_timeout that are needed before considering a backend to be down; must be >= 1; default is 1.
- **unhealthy_status** counts a request as failed if the response comes back with one of these status codes.  Can be a 3-digit status code or a status code class ending in \`xx\`, for example: \`404\` or \`5xx\`.
- **unhealthy_latency** is a [duration value](https://caddyserver.com/docs/conventions#durations) that counts a request as failed if it takes this long to get a response.
- **unhealthy_request_count** is the permissible number of simultaneous requests to a backend before marking it as down.

### Streaming

The proxy **buffers responses** by default for wire efficiency:

- **flush_interval** is a [duration value](/docs/conventions#durations) that defines how often Caddy should flush the buffered response body to the client.  Set to -1 to disable buffering.  It is set to -1 automatically for requests that have a \`text/event-stream\` response or for HTTP/2 requests where the Content-Length is unspecified.
- **buffer_requests** will cause the proxy to read the entire request body into a buffer before sending it upstream.  This is very inefficient and should only be done if the upstream requires reading request bodies without delay (which is something the upstream application should fix).

### Headers

It can also **manipulate headers** between itself and the backend:

- **header_up** Sets, adds, removes, or performs a replacement in a request header going upstream to the backend.
- **header_down** Sets, adds, removes, or performs a replacement in a response header coming downstream from the backend.

By default, Caddy passes thru incoming headers to the backend&mdash;including the \`Host\` header&mdash;without modifications, with two exceptions:

- It adds or augments the [X-Forwarded-For](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For) header field.
- It sets the [X-Forwarded-Proto](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-Proto) header field.

Since these header fields are only de-facto standards, Caddy may stop setting them implicitly in the future if the standardized [Forwarded](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Forwarded) header field becomes more widely adopted.

### Transports

Caddy's proxy **transport** is pluggable:

- **transport** defines how to communicate with the backend.  Default is \`http\`.


#### The \`http\` transport

\`\`\`caddyfile
transport http {
	read_buffer             <size>
	write_buffer            <size>
	max_response_header     <size>
	dial_timeout            <duration>
	dial_fallback_delay     <duration>
	response_header_timeout <duration>
	expect_continue_timeout <duration>
	tls
	tls_client_auth <automate_name> | <cert_file> <key_file>
	tls_insecure_skip_verify
	tls_timeout <duration>
	tls_trusted_ca_certs <pem_files...>
    tls_server_name <sni>
	keepalive [off|<duration>]
	keepalive_idle_conns <max_count>
    versions <versions...>
    compression off
    max_conns_per_host <count>
    max_idle_conns_per_host <count>
}
\`\`\`

- **read_buffer** is the size of the read buffer in bytes.
- **write_buffer** is the size of the write buffer in bytes.
- **max_response_header** is the maximum amount of bytes to read from response headers.
- **dial_timeout** is how long to wait when connecting to the upstream socket.  Accepts [duration value](https://caddyserver.com/docs/conventions#durations).
- **dial_fallback_delay** is how long to wait before spawning an RFC 6555 Fast Fallback connection.  A negative value disables this.  Accepts [duration value](https://caddyserver.com/docs/conventions#durations).
- **response_header_timeout** is how long to wait for reading response headers from the upstream.  Accepts [duration value](https://caddyserver.com/docs/conventions#durations).
- **expect_continue_timeout** is how long to wait for the upstreams's first response headers after fully writing the request headers if the request has the header \`Expect: 100-continue\`.  Accepts [duration value](https://caddyserver.com/docs/conventions#durations).
- **tls** uses HTTPS with the backend.  This will be enabled automatically if you specify backends using the \`https://\` scheme or port \`:443\`.
- **tls_client_auth** enables TLS client authentication one of two ways: (1) by specifying a domain name for which Caddy should obtain a certificate and keep it renewed, or (2) by specifying a certificate and key file to present for TLS client authentication with the backend.
- **tls_insecure_skip_verify** turns off security.  _Do not use in production._
- **tls_timeout** is a [duration value](/docs/conventions#durations) that specifies how long to wait for the TLS handshake to complete.
- **tls_trusted_ca_certs** is a list of PEM files that specify CA public keys to trust when connecting to the backend.
- **tls_server_name** sets the ServerName (SNI) to put in the ClientHello; only needed if the remote server requires it.
- **keepalive** is either \`off\` or a [duration value](/docs/conventions#durations) that specifies how long to keep connections open.
- **keepalive_idle_conns** defines the maximum number of connections to keep alive.
- **versions** allows customizing which versions of HTTP to support.  As a special case, "h2c" is a valid value which will enable cleartext HTTP/2 connections to the upstream (however, this is a non-standard feature that does not use Go's default HTTP transport, so it is exclusive of other features; subject to change or removal).  Default: \`1.1 2\`, or if scheme is \`h2c://\`, \`h2c 2\`
- **compression** can be used to disable compression to the backend by setting it to \`off\`.
- **max_conns_per_host** optionally limits the total number of connections per host, including connections in the dialing, active, and idle states.  Has no limit by default.
- **max_idle_conns_per_host** if non-zero, controls the maximum idle (keepalive) connections to keep per-host.  Default: \`2\`



#### The \`fastcgi\` transport

\`\`\`caddyfile
transport fastcgi {
	root  <path>
	split <at>
	env   <key> <value>
	resolve_root_symlink
	dial_timeout  <duration>
	read_timeout  <duration>
	write_timeout <duration>
}
\`\`\`

- **root** is the root of the site.  Default: \`{http.vars.root}\` or current working directory.
- **split** is where to split the path to get PATH_INFO at the end of the URI.
- **env** sets an extra environment variable to the given value.  Can be specified more than once for multiple environment variables.
- **resolve_root_symlink** enables resolving the \`root\` directory to its actual value by evaluating a symbolic link, if one exists.
- **dial_timeout** is how long to wait when connecting to the upstream socket.  Accepts [duration value](https://caddyserver.com/docs/conventions#durations).  Default: no timeout.
- **read_timeout** is how long to wait when reading from the FastCGI server.  Accepts [duration value](https://caddyserver.com/docs/conventions#durations).  Default: no timeout.
- **write_timeout** is how long to wait when sending to the FastCGI server.  Accepts [duration value](https://caddyserver.com/docs/conventions#durations).  Default: no timeout.`,php_fastcgi:`An opinionated directive that proxies requests to a PHP FastCGI server such as php-fpm.

Caddy's [reverse_proxy](https://caddyserver.com/docs/caddyfile/directives/reverse_proxy) is capable of serving any FastCGI application, but this directive is tailored specifically for PHP apps.  This directive is actually just a convenient way to use a longer, more common configuration (below).

It expects that any \`index.php\` at the site root acts as a router.  If that is not desirable, either perform your own URI rewrite or use something like the [expanded form](#expanded-form) below and customize it to your needs.

It supports all the subdirectives of [reverse_proxy](https://caddyserver.com/docs/caddyfile/directives/reverse_proxy) and passes them through to the underlying reverse_proxy handler, plus a few subdirectives that customize the FastCGI transport specifically.

**Most modern PHP apps work fine without extra subdirectives or customization.** Subdirectives are usually only used in certain edge cases or with legacy PHP apps.

---

\`\`\`caddyfile
php_fastcgi [<matcher>] <php-fpm_gateways...> {
	split <substrings...>
	env [<key> <value>]
	root <path>
	index <filename>

	<any other reverse_proxy subdirectives...>
}
\`\`\`

- **&lt;php-fpm_gateways...&gt;** are the [addresses](https://caddyserver.com/docs/conventions#network-addresses) of the FastCGI servers.
- **root** sets the root folder to the site.  Default: [\`root\` directive](https://caddyserver.com/docs/caddyfile/directives/root).
- **split** sets the substrings for splitting the URI into two parts.  The first matching substring will be used to split the "path info" from the path.  The first piece is suffixed with the matching substring and will be assumed as the actual resource (CGI script) name.  The second piece will be set to PATH_INFO for the CGI script to use.  Default: \`.php\`
- **env** sets an extra environment variable to the given value.  Can be specified more than once for multiple environment variables.
- **index** specifies the filename to treat as the directory index file.  This affects the file matcher in the [expanded form](https://caddyserver.com/docs/caddyfile/directives/php_fastcgi#expanded-form).  Default: \`index.php\``,file_server:"A static file server.  It works by appending the request's URI path to the [site's root path](https://caddyserver.com/docs/caddyfile/directives/root).  By default, it enforces canonical URIs; if necessary, requests to directories will be redirected to have a trailing forward slash, and requests to files will be redirected to strip the trailing slash.\n\nMost often, the `file_server` directive is paired with the [`root`](https://caddyserver.com/docs/caddyfile/directives/root) directive to set file root for the whole site.\n\n---\n\n```caddyfile\nfile_server [<matcher>] [browse] {\n	root   <path>\n	hide   <files...>\n	index  <filenames...>\n	browse [<template_file>]\n}\n```\n\n- **browse** enables file listings for requests to directories that do not have an index file.\n- **root** sets the path to the site root for just this file server instance, overriding any other.  Default: `{http.vars.root}` or the current working directory.  Note: This subdirective only changes the root for this directive. For other directives (like [`try_files`](https://caddyserver.com/docs/caddyfile/directives/try_files) or [`templates`](https://caddyserver.com/docs/caddyfile/directives/templates)) to know the same site root, use the [`root`](https://caddyserver.com/docs/caddyfile/directives/root) directive, not this subdirective.\n- **hide** is a list of files or folders to hide; if requested, the file server will pretend they do not exist.  Accepts placeholders and glob patterns.  Note that these are _file system_ paths, NOT request paths.  In other words, relative paths use the current working directory as a base, NOT the site root; and all paths are transformed to their absolute form before comparisons (if possible).  Specifying a file name or pattern without a path separator will hide all files with a matching name regardless of its location; otherwise, a path prefix match will be attempted, and then a globular match.  Since this is a Caddyfile config, the active configuration file(s) will be added by default.\n- **index** is a list of filenames to look for as index files.  Default: `index.html index.txt`\n- **&lt;template_file&gt;** is an optional custom template file to use for directory listings.  Defaults to the template that can be found [here in the source code](https://github.com/caddyserver/caddy/blob/master/modules/caddyhttp/fileserver/browsetpl.go).",acme_server:"An embedded [ACME protocol](https://tools.ietf.org/html/rfc8555) server handler.  This allows a Caddy instance to issue certificates for any other ACME-compatible software (including other Caddy instances).\n\nWhen enabled, requests matching the path `/acme/*` will be handled by the ACME server.\n\n---\n\n```caddyfile\nacme_server [<matcher>]\n```"};var pe=yr(to()),ea=[{label:"debug",detail:"Enables debug mode, which sets all log levels to debug (unless otherwise specified)",kind:pe.CompletionItemKind.Constant,data:1},{label:"http_port",detail:"Sets the port the server uses for HTTP",kind:pe.CompletionItemKind.Constant,data:1},{label:"https_port",detail:"Sets the port the server uses for HTTPS",kind:pe.CompletionItemKind.Constant,data:1},{label:"default_sni",detail:"Sets a default TLS ServerName for when clients do not use SNI in their ClientHello",kind:pe.CompletionItemKind.Constant,data:1},{label:"order",detail:"Change the order in which HTTP handler directive(s) will be exeucted",kind:pe.CompletionItemKind.Constant,data:1},{label:"experimental_http3",detail:"Enable experimental HTTP/3 support",kind:pe.CompletionItemKind.Constant,data:1},{label:"storage",detail:"Configure Caddy's internal storage mechanism",kind:pe.CompletionItemKind.Constant,data:1},{label:"acme_ca",detail:"Set the URL used for ACME",kind:pe.CompletionItemKind.Constant,data:1},{label:"acme_ca_root",detail:"Set a trusted root certificate for ACME that is not in the system trust store",kind:pe.CompletionItemKind.Constant,data:1},{label:"acme_eab",detail:"Sets an External Account Binding to use for all ACME transactions",kind:pe.CompletionItemKind.Constant,data:1},{label:"acme_dns",detail:"Configure the DNS challenge to be used for ACME transactions",kind:pe.CompletionItemKind.Constant,data:1},{label:"email",detail:"Email address used for ACME transactions",kind:pe.CompletionItemKind.Constant,data:1},{label:"admin",detail:"Customize the Admin API endpoint",kind:pe.CompletionItemKind.Constant,data:1},{label:"on_demand_tls",detail:"Configure On-Demand TLS",kind:pe.CompletionItemKind.Constant,data:1},{label:"local_certs",detail:"Causes all certificates to be issued internally by default",kind:pe.CompletionItemKind.Constant,data:1},{label:"key_type",detail:"Specifies the type of key to generate for TLS certificates",kind:pe.CompletionItemKind.Constant,data:1},{label:"auto_https",detail:"Configure automatic HTTPS",kind:pe.CompletionItemKind.Constant,data:1},{label:"cert_issuer",detail:"Defines the issuer (or source) of TLS certificates.",kind:pe.CompletionItemKind.Constant,data:1},{label:"servers",detail:"Customizes HTTP servers",kind:pe.CompletionItemKind.Constant,data:1}],ta={debug:"**debug** enables debug mode, which sets all log levels to debug (unless otherwise specified).",http_port:"**http_port** is the port for the server to use for HTTP. For internal use only; does not change the HTTP port for clients. Default: 80",https_port:"**https_port** is the port for the server to use for HTTPS. For internal use only; does not change the HTTPS port for clients. Default: 443",default_sni:"**default_sni** sets a default TLS ServerName for when clients do not use SNI in their ClientHello.",order:"**order** sets or changes the standard order of HTTP handler directive(s). Can set directives to be `first` or `last`, or `before` or `after` another directive.",experimental_http3:"**experimental_http3** enables experimental draft HTTP/3 support. Note that HTTP/3 is not a finished spec and client support is extremely limited. This option will go away in the future. *This option is not subject to compatibility promises.*",storage:"**storage** configures Caddy's storage mechanism. Default: `file_system`",acme_ca:"**acme_ca** specifies the URL to the ACME CA's directory. It is strongly recommended to set this to Let's Encrypt's [staging endpoint](https://letsencrypt.org/docs/staging-environment/) for testing or development. Default: Let's Encrypt's production endpoint.",acme_ca_root:"**acme_ca_root** specifies a PEM file that contains a trusted root certificate for ACME CA endpoints, if not in the system trust store.",acme_eab:"**acme_eab** specifies an External Account Binding to use for all ACME transactions.",acme_dns:"**acme_dns** configures the DNS challenge to use for all ACME transactions.",email:"**email** is your email address. Mainly used when creating an ACME account with your CA, and is highly recommended in case there are problems with your certificates.",admin:"**admin** Customizes the [admin API endpoint](https://caddyserver.com/docs/api). If off, then the admin endpoint will be disabled. If disabled, config changes will be impossible without stopping and starting the server.",on_demand_tls:"**on_demand_tls** configures [On-Demand TLS](https://caddyserver.com/docs/automatic-https#on-demand-tls) where it is enabled, but does not enable it (to enable it, use the [on_demand `tls` subdirective](https://caddyserver.com/docs/caddyfile/directives/tls#syntax)). Highly recommended if using in production environments, to prevent abuse.",local_certs:"**local_certs** causes all certificates to be issued internally by default, rather than through a (public) ACME CA such as Let's Encrypt. This is useful in development environments.",key_type:"**key_type** specifies the type of key to generate for TLS certificates; only change this if you have a specific need to customize it.",auto_https:"**auto_https** configure automatic HTTPS. It can either disable it entirely (`off`) or disable only HTTP-to-HTTPS redirects (`disable_redirects`). See the [Automatic HTTPS](https://caddyserver.com/docs/automatic-https) page for more details.",cert_issuer:"**cert_issuer** defines the issuer (or source) of TLS certificates.",servers:"**servers** Customizes [HTTP servers](https://caddyserver.com/docs/json/apps/http/servers) with settings that potentially span multiple sites and thus can't be rightly configured in site blocks. These options affect the listener/socket, or other behavior beneath the HTTP layer."};function na(e){return e.lineCount<2?!1:e.getText({start:{line:0,character:0},end:{line:1,character:0}})===`{
`}function no(e){if(!na(e))return null;for(let t=1;t<e.lineCount;t++)if(e.getText({start:{line:t,character:0},end:{line:t+1,character:0}})===`}
`)return{start:{line:0,character:0},end:{line:t,character:0}};return null}function ro(e,t){if(!na(e))return!1;let n=no(e);return n===null?!1:t.position.line>n.start.line&&t.position.line<n.end.line}var Se=(0,qe.createConnection)(qe.ProposedFeatures.all),Vt=new qe.TextDocuments(ra.TextDocument),oo=!1,io=!1;Se.onInitialize(e=>{let t=e.capabilities;oo=!!(t.workspace&&t.workspace.configuration),io=!!(t.workspace&&t.workspace.workspaceFolders);let n={capabilities:{textDocumentSync:qe.TextDocumentSyncKind.Incremental,completionProvider:{resolveProvider:!0},hoverProvider:!0}};return io&&(n.capabilities.workspace={workspaceFolders:{supported:!0}}),n});Se.onInitialized(()=>{oo&&Se.client.register(qe.DidChangeConfigurationNotification.type,void 0),io&&Se.workspace.onDidChangeWorkspaceFolders(e=>{Se.console.log("Workspace folder change event received.")})});var ia={maxNumberOfProblems:1e3},id=ia,oa=new Map;Se.onDidChangeConfiguration(e=>{oo?oa.clear():id=e.settings.languageServerExample||ia,Vt.all().forEach(sa)});Vt.onDidClose(e=>{oa.delete(e.document.uri)});Vt.onDidChangeContent(e=>{sa(e.document)});async function sa(e){let t=[],n=no(e);if(n!==null){let r=[];for(let f=n.start.line+1;f<n.end.line;f++){let v=e.getText({start:{line:f,character:0},end:{line:f+1,character:0}}),h=v.trim(),C;if(h.includes(" ")?C=h.split(" ")[0]:C=h,C==="")return;let D=v.indexOf(h.charAt(0));r.push({name:C,range:{start:{line:f,character:D},end:{line:f,character:D+C.length}}})}let a=0;for(let f=n.end.line+1;f<e.lineCount;f++){let v=e.getText({start:{line:f,character:0},end:{line:f+1,character:0}});if(v===`{
`){a=f;continue}a===0||v!==`}
`||(t.push({severity:qe.DiagnosticSeverity.Error,message:"Only one global option block is allowed.",source:"caddyfile",range:{start:{line:a,character:0},end:{line:f+1,character:0}}}),a=0)}}Se.sendDiagnostics({uri:e.uri,diagnostics:t})}Se.onDidChangeWatchedFiles(e=>{Se.console.log("We received an file change event")});Se.onCompletion(e=>{let t=Vt.get(e.textDocument.uri);return t===void 0?[]:ro(t,e)?ea:[]});Se.onCompletionResolve(e=>e);Se.onHover(e=>{let t=Vt.get(e.textDocument.uri);if(t===void 0)return null;if(ro(t,e)){let f=t.getText({start:{line:e.position.line,character:0},end:{line:e.position.line+1,character:0}}).trim(),v;f.includes(" ")?v=f.split(" ")[0]:v=f;let h=ta[v];return h===void 0?null:{contents:{kind:qe.MarkupKind.Markdown,value:h}}}let n=t.getText({start:{line:e.position.line,character:0},end:{line:e.position.line+1,character:0}}).trim(),r;n.includes(" ")?r=n.split(" ")[0]:r=n;let a=Zs[r];return a===void 0?null:{contents:{kind:qe.MarkupKind.Markdown,value:a}}});Vt.listen(Se);Se.listen();
//# sourceMappingURL=index.js.map
